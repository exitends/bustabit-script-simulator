(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_ScriptConstants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23),_simulate__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34),crypto_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15),crypto_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_3__);function getLocalStorageScripts(){try{return JSON.parse(localStorage.getItem("scripts"))}catch(e){return null}}function setLocalStorageScripts(e){void 0===e||null===e||e.constructor===Object&&0===Object.keys(e).length?localStorage.removeItem("scripts"):localStorage.setItem("scripts",JSON.stringify(e))}function onBeforeSave(e){var t=e.config;e.config=getConfigFromScriptText(e),assignConfigValues(e.config,t)}function assignConfigValues(e,t){if(!e||e.constructor!==Object)throw new TypeError("config should be an object");if(t&&t.constructor!==Object)throw new TypeError("values should be undefined or an object");if(!t)return e;for(var a in t)t[a]&&t[a].constructor===Object&&e[a]&&void 0!==t[a].value&&(e[a].value=t[a].value,"radio"===e[a].type&&(e[a].options=assignConfigValues(e[a].options||{},t[a].options)));return e}function splitConfigFromScriptText(script){var regexp=/^\s?(var config = {(?:.|\s)*?^};?)((?:.|\s)*)$/gm,match=regexp.exec(String(script.text).trim());if(null===match)throw new TypeError("The script should begin with: \r\nvar config = {\r\n  ...\r\n}\r\n");var config=eval(match[1]+"\r\nconfig;");return[config,match[2]]}function getConfigFromScriptText(e){return splitConfigFromScriptText(e)[0]}function getScriptTextWithoutConfig(e){return splitConfigFromScriptText(e)[1]}function getUniqueID(e){for(var t=0;t<3;t++){var a=String(crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.lib.WordArray.random(16));if(!e||-1===e.indexOf(a))return a}}var ScriptUtils={load:function(){var e=getLocalStorageScripts();return null!==e&&void 0!==e||(e=ScriptUtils.restoreSamples()),e},restoreSamples:function(){var e=getLocalStorageScripts()||{};return Object.keys(e).forEach(function(t){e[t].isSample&&delete e[t]}),_ScriptConstants__WEBPACK_IMPORTED_MODULE_1__.a.SCRIPT_SAMPLES.forEach(function(t){onBeforeSave(t),t.isSample=!0,t.id=getUniqueID(Object.keys(e)),e[t.id]=t}),setLocalStorageScripts(e),e},save:function(e){var t=getLocalStorageScripts();onBeforeSave(e),e.id||(e.id=getUniqueID(Object.keys(t))),t[e.id]=e,setLocalStorageScripts(t)},delete:function(e){var t=getLocalStorageScripts();delete t[e],setLocalStorageScripts(t)},runScript:function(e){var t=e.script,a=(e.gameHash,e.gameAmount,e.startingBalance,e.drawChart,Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},arguments[0]));return delete a.script,a.config=t.config,a.text=getScriptTextWithoutConfig(t),{then:function(e){setTimeout(function(){Object(_simulate__WEBPACK_IMPORTED_MODULE_2__.a)(a).then(function(t){e(t)}).catch(function(t){console.error(t),e({error:t})})},100)}}}};__webpack_exports__.a=ScriptUtils},23:function(e,t,a){"use strict";var n={id:"",name:"Untitled Script",text:"var config = {\n\n};\n\nlog('Simulation begins here...')",config:void 0};t.a={SCRIPT_SAMPLES:[{name:"Flat Bet",text:"var config = {\n  wager: {\n    value: 1000, type: 'balance', label: 'wager'\n  },\n  payout: {\n    value: 2, type: 'multiplier', label: 'payout' }\n};\n\n// Try to bet immediately when script starts\nmakeBet();\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  makeBet();\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first();\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  if (lastGame.cashedAt) {\n    var profit = Math.round((config.wager.value * config.payout.value - config.wager.value) / 100)\n    log('we won', profit, 'bits');\n  } else {\n    log('we lost', Math.round(config.wager.value / 100), 'bits');\n  }\n}\n\nfunction makeBet() {\n  engine.bet(config.wager.value, config.payout.value);\n  log('betting', Math.round(config.wager.value / 100), 'on', config.payout.value, 'x');\n}"},{name:"Martingale",text:"var config = {\n  baseBet: { value: 100, type: 'balance', label: 'base bet' },\n  payout: { value: 2, type: 'multiplier' },\n  stop: { value: 1e8, type: 'balance', label: 'stop if bet >' },\n  loss: {\n    value: 'increase', type: 'radio', label: 'On Loss',\n    options: {\n      base: { type: 'noop', label: 'Return to base bet' },\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\n    }\n  },\n  win: {\n    value: 'base', type: 'radio', label: 'On Win',\n    options: {\n      base: { type: 'noop', label: 'Return to base bet' },\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\n    }\n  }\n};\n\n\nlog('Script is running..');\n\nvar currentBet = config.baseBet.value;\n\n// Always try to bet when script is started\nengine.bet(roundBit(currentBet), config.payout.value);\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  engine.bet(roundBit(currentBet), config.payout.value);\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first()\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === 'base') {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.win.value === 'increase');\n      currentBet *= config.win.options.increase.value;\n    }\n    log('We won, so next bet will be', currentBet/100, 'bits')\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === 'base') {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.loss.value === 'increase');\n      currentBet *= config.loss.options.increase.value;\n    }\n    log('We lost, so next bet will be', currentBet/100, 'bits')\n  }\n\n  if (currentBet > config.stop.value) {\n    log('Was about to bet', currentBet, 'which triggers the stop');\n    engine.removeListener('GAME_STARTING', onGameStarted);\n    engine.removeListener('GAME_ENDED', onGameEnded);\n  }\n}\n\nfunction roundBit(bet) {\n  return Math.round(bet / 100) * 100;\n}"},{name:"Payout Martingale",text:"var config = {\n  bet: {\n    value: 100,\n    type: 'balance'\n  },\n  basePayout: {\n    value: 1.2,\n    type: 'multiplier',\n    label: 'base payout'\n  },\n  stop: {\n    value: 20,\n    type: 'multiplier',\n    label: 'stop if payout >'\n  },\n  loss: {\n    value: 'increase',\n    type: 'radio',\n    label: 'On Loss',\n    options: {\n      base: {\n        type: 'noop',\n        label: 'Return to base payout'\n      },\n      increase: {\n        value: 0.1,\n        type: 'multiplier',\n        label: 'Increase payout by +'\n      },\n    }\n  },\n  win: {\n    value: 'base',\n    type: 'radio',\n    label: 'On Win',\n    options: {\n      base: {\n        type: 'noop',\n        label: 'Return to base payout'\n      },\n      increase: {\n        value: 1,\n        type: 'multiplier',\n        label: 'Increase payout by +'\n      },\n    }\n  }\n};\n\n\nlog('Script is running..');\n\nvar currentPayout = config.basePayout.value;\n\n// Always try to bet when script is started\nengine.bet(config.bet.value, currentPayout);\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  log('betting', Math.round(config.bet.value / 100), 'at payout of', currentPayout, 'x')\n  engine.bet(config.bet.value, currentPayout);\n}\n\nfunction onGameEnded(info) {\n  var lastGame = engine.history.first()\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === 'base') {\n      currentPayout = config.basePayout.value;\n      log('won, so resetting payout to', currentPayout)\n    } else {\n      console.assert(config.win.value === 'increase');\n      currentPayout += config.win.options.increase.value;\n      log('won, so increasing payout to', currentPayout)\n    }\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === 'base') {\n      currentPayout = config.basePayout.value;\n      log('lost, so resetting payout to', currentPayout)\n    } else {\n      console.assert(config.loss.value === 'increase');\n      currentPayout += config.loss.options.increase.value;\n      log('lost, so increasing payout', currentPayout)\n    }\n  }\n\n  if (currentPayout > config.stop.value) {\n    log('Was about to bet with payout', currentPayout, 'which triggers the stop');\n    engine.removeListener('GAME_STARTING', onGameStarted);\n    engine.removeListener('GAME_ENDED', onGameEnded);\n  }\n}"}],NEW_SCRIPT:n}},34:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){var _home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(37),_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4),_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),events__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35),events__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_7__),crypto_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(15),crypto_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_8__);function hashToBust(e){e=(e=crypto_js__WEBPACK_IMPORTED_MODULE_8___default.a.HmacSHA256(crypto_js__WEBPACK_IMPORTED_MODULE_8___default.a.enc.Hex.parse(e),"0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526").toString(crypto_js__WEBPACK_IMPORTED_MODULE_8___default.a.enc.Hex)).slice(0,13);var t=parseInt(e,16)/Math.pow(2,52);t=99/(1-t);var a=Math.floor(t);return Math.max(1,a/100)}function hashToBusts(e,t){if(isNaN(t)||t<=0)throw new TypeError("amount must be a number larger than zero.");var a=e,n=[];n.unshift({hash:a,bust:hashToBust(String(a))});for(var r=0;r<t;r++){var s=String(crypto_js__WEBPACK_IMPORTED_MODULE_8___default.a.SHA256(String(a))),i=hashToBust(s);n.unshift({hash:s,bust:i}),a=s}return n}var SimulatedBustabitHistory=function(){function e(){Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,e),this.data=[]}return Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__.a)(e,[{key:"first",value:function(){return this.data[0]}},{key:"size",get:function(){return this.data.length}},{key:"length",get:function(){return this.data.length}},{key:"start",get:function(){return 0}},{key:"end",get:function(){return this.data.length-1}}]),e}(),SimulatedBustabitEngine=function(e){function t(){var e;return Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__.a)(this,t),(e=Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__.a)(this,Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.a)(t).call(this)))._userInfo={uname:"Anonymous",balance:0,bets:0,profit:0,profitATH:0,profitATL:0},e.history=new SimulatedBustabitHistory,e.bet=e.bet.bind(Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__.a)(e)),e}return Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(t,e),Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__.a)(t,[{key:"getCurrentBet",value:function(){if(this.next)return{wager:this.next.wager,payout:this.next.payout}}},{key:"isBetQueued",value:function(){return!!this.next}},{key:"cancelQueuedBet",value:function(){this.next=void 0}},{key:"bet",value:function(e,t){var a=this;return new Promise(function(n,r){a.next={wager:e,payout:Math.round(100*t)/100,isAuto:!0,resolve:n,reject:r}})}}]),t}(events__WEBPACK_IMPORTED_MODULE_7___default.a);function evalScript(){var config=this.config,engine=this.engine,userInfo=this.userInfo,log=this.log,stop=this.stop,gameResultFromHash=this.gameResultFromHash;eval(arguments[0])}function simulate(e){var t=e.text,a=e.config,n=e.startingBalance,r=e.gameHash,s=e.gameAmount,i=e.drawChart;return new Promise(function(e,c){var l="",o=!1,u=void 0,m=new SimulatedBustabitEngine,p=m._userInfo,d=function(){var e,t=Array.prototype.slice.call(arguments);l+=t.join(" ")+"\n",t.unshift("LOG:"),(e=console).log.apply(e,Object(_home_mitch_projects_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(t))};p.balance=n;var h={startingBalance:+n,balance:void 0,bets:0,profit:0,profitATH:void 0,profitATL:void 0,message:"",history:m.history.data,log:l};i&&Object.assign(h,{chartData:[],duration:void 0,profitPerHour:void 0});var _={config:a,engine:m,userInfo:p,log:d,stop:function(e){u=e,o=!0},gameResultFromHash:function(e){return new Promise(function(t){return t(hashToBust(e))})}};evalScript.call(_,t);var b=hashToBusts(r,s);function E(e){e++,setImmediate(function(){e<b.length&&!o?function(e){var t=b[e];t.id=e,t.isSimulation=!0,t.wager=0,t.cashedAt=0,m.gameState="GAME_STARTING",m.emit("GAME_STARTING",{gameId:e});var a=m.next;if(m.next=null,a){if(isNaN(a.wager)||a.wager<100)return a.reject("INVALID_BET"),f();if(isNaN(a.payout))return a.reject("cannot parse JSON"),f();if(p.balance-a.wager<0)return a.reject("BET_TOO_BIG"),f();if(a.payout<=1)return a.reject("payout is too low"),f();a.wager>0&&(p.balance-=a.wager,p.bets++),a.resolve(null),m.emit("BET_PLACED",{uname:p.uname,wager:a.wager,payout:a.payout})}m.emit("GAME_STARTED",null),m.gameState="GAME_IN_PROGRESS",t.wager=a?a.wager:0,t.cashedAt=a&&a.wager>0&&a.payout<=t.bust?a.payout:0,0!==t.wager&&(p.balance+=t.cashedAt*t.wager,p.profit=p.balance-n,p.profit<p.profitATL&&(p.profitATL=p.profit),p.profit>p.profitATH&&(p.profitATH=p.profit));t.cashedAt>0&&m.emit("CASHED_OUT",{uname:p.uname,cashedAt:t.cashedAt,wager:t.wager});m.history.data.unshift(t),i&&h.chartData.unshift(Object.assign({payout:a?a.payout:0,balance:p.balance,profit:t.cashedAt>0?(t.cashedAt-1)*t.wager:-t.wager,duration:Math.log(t.bust)/6e-5},t));m.gameState="GAME_ENDED",m.emit("GAME_ENDED",{hash:t.hash,bust:t.bust}),E(e)}(e):f()})}function f(){o&&u&&d(u),h.startingBalance=n,h.balance=p.balance,h.bets=p.bets,h.profit=p.profit,h.profitATH=p.profitATH,h.profitATL=p.profitATL,h.message="".concat(p.bets," Games played. ").concat(h.profit>0?"Won":"Lost"," ").concat(h.profit/100," bits. ").concat(h.message||""),h.history=m.history.results,h.log=l,i&&(h.duration=h.chartData.reduce(function(e,t){return+e+ +t.duration},0),h.profitPerHour=h.profit/(h.duration/36e5)),e(h)}E(null)})}__webpack_exports__.a=simulate}).call(this,__webpack_require__(60).setImmediate)},38:function(e,t,a){e.exports=a(86)},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),i=a.n(s),c=(a(43),a(12)),l=(a(44),a(45),a(10)),o=a(14),u=a(36),m=a(8),p=a(2),d=a(3),h=a(5),_=a(4),b=a(6),E=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(_.a)(t).call(this,e))).handleConfigFieldChange=a.handleConfigFieldChange.bind(Object(l.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleConfigFieldChange",value:function(e,t){for(var a=e.split("."),n=this.props.config,r=0;r<a.length;r++)n=n[a[r]];n.value=t,this.props.onChange(this.props.config)}},{key:"render",value:function(){var e=this,t=this.props,a=t.config,n=(t.onChange,t.className),s=void 0===n?"":n,i=Object(m.a)(t,["config","onChange","className"]);return r.a.createElement("div",Object.assign({},i,{className:"BustabitScript Config ".concat(s)}),a?Object.keys(a).map(function(t){var n=a[t];return(0,f[n.type])(Object(c.a)({},n,{name:t,onChange:e.handleConfigFieldChange}))}):null)}}]),t}(n.Component),f=Object.freeze({balance:function(e){var t=e.name,a=e.label,n=e.value,s=e.optional,i=e.onChange,c="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:c},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:c,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-right"},r.a.createElement("input",{type:"number",className:"input is-normal",id:c,name:t,value:parseFloat(n)/100,required:!s,step:"1",onChange:function(e){i(t,100*parseFloat(e.target.value))}}),r.a.createElement("span",{className:"icon is-small is-right"},"bits")))))},checkbox:function(e){var t=e.name,a=e.label,n=e.value,s=e.onChange,i="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:i},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:i,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"checkbox",className:"checkbox",id:i,name:t,checked:!!n,onChange:function(e){s(t,!!e.target.checked)}})))))},multiplier:function(e){var t=e.name,a=e.label,n=e.value,s=e.optional,i=e.onChange,c="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:c},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:c,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-right"},r.a.createElement("input",{type:"number",className:"input",id:c,name:t,value:parseFloat(n),required:!s,step:"0.01",onChange:function(e){i(t,parseFloat(e.target.value))}}),r.a.createElement("span",{className:"icon is-small is-right"},r.a.createElement("i",{className:"fas fa-times"}))))))},noop:function(e){var t=e.name,a=e.label,n=(e.value,"config.".concat(t));return r.a.createElement("div",{className:"field",key:n},r.a.createElement("label",{className:"label",htmlFor:n},a))},radio:function(e){var t=e.name,a=e.label,n=e.value,s=e.options,i=e.onChange;function l(e,t){i(e,t)}var o="config.".concat(t);return r.a.createElement("div",{className:"field",key:o},r.a.createElement("fieldset",{style:{width:"100%",padding:"10px 10px"}},r.a.createElement("legend",{className:"label has-text-centered is-uppercase"},a||t),Object.keys(s||{}).map(function(e){var a=s[e];return r.a.createElement("div",{key:"option-".concat(e),className:"field"},r.a.createElement("input",{type:"radio",name:t,id:"config.".concat(t,".options.").concat(e),value:e,checked:n===e,onChange:function(e){i(t,e.target.value)}}),"\xa0",r.a.createElement("div",{className:"is-inline-block"},f[a.type](Object(c.a)({},a,{onChange:l,name:"".concat(t,".options.").concat(e)}))))})))},text:function(e){var t=e.name,a=e.label,n=e.value,s=e.optional,i=e.onChange,c="config.".concat(t);return r.a.createElement("div",{className:"field is-horizontal",key:c},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{htmlFor:c,className:"label"},a||t)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"text",className:"input",id:c,name:t,value:n,required:!s,onChange:function(e){i(t,e.target.value)}})))))}});var g=E,v=a(7),y=(a(46),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(_.a)(t).call(this,e))).state={tooltipData:void 0},a.handleTooltipChange=a.handleTooltipChange.bind(Object(l.a)(a)),a.shouldUpdateLineChart=a.shouldUpdateLineChart.bind(Object(l.a)(a)),a.updateLineChart=a.updateLineChart.bind(Object(l.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.container=i.a.findDOMNode(this),this.updateLineChart()}},{key:"componentDidUpdate",value:function(e,t){this.shouldUpdateLineChart(e)&&this.updateLineChart()}},{key:"render",value:function(){var e=this.props,t=(e.viewBoxWidth,e.viewBoxHeight,e.data,e.xAccessor,e.yAccessor,e.crosshairEnabled,e.crosshairClassName,e.className),a=void 0===t?"":t,n=Object(m.a)(e,["viewBoxWidth","viewBoxHeight","data","xAccessor","yAccessor","crosshairEnabled","crosshairClassName","className"]);return r.a.createElement("div",Object.assign({},n,{className:"LineChart ".concat(a)}),r.a.createElement("svg",{preserveAspectRatio:"xMinYMin meet"}),r.a.createElement("div",{className:"tooltip-container",style:{visibility:this.state.tooltipData?void 0:"hidden"}},r.a.createElement(O,{className:"tooltip",data:this.state.tooltipData})))}},{key:"handleTooltipChange",value:function(e){var t=e.data;this.setState({tooltipData:t})}},{key:"shouldUpdateLineChart",value:function(e){var t=this;return["viewBoxWidth","viewBoxHeight","data","xAccessor","yAccessor"].some(function(a){var n=e[a],r=t.props[a];return n!==r||Array.isArray(n)&&n.length!==r.length})}},{key:"updateLineChart",value:function(){!function(e){var t=e.container,a=e.viewBoxWidth,n=e.viewBoxHeight,r=e.data,s=e.xAccessor,i=e.yAccessor,c=e.onTooltipChange,l=e.crosshairEnabled,o=e.crosshairClassName;if(!t)throw new TypeError("container should be an HTMLElement");if(isNaN(a)||isNaN(n))throw new TypeError("viewBoxWidth and viewBoxHeight should be numbers");if(!s||!i||"function"!==typeof s||"function"!==typeof i)throw new TypeError("xAccessor and yAccessor should be functions");if(!r||!Array.isArray(r))throw new TypeError("data should be an array");if(c&&"function"!==typeof c)throw new TypeError("onTooltipChange should be a function");if(l&&o&&"string"!==typeof o&&"function"!==typeof o)throw new TypeError("crosshairClassName should be a string or a function");var u=(t=v.k(t)).select("svg");if(!u)throw new TypeError("container should have a child <svg></svg>");var m=t.select(".tooltip");u.attr("viewBox","0 0 ".concat(a," ").concat(n));var p={top:20,right:20,bottom:110,left:40},d={top:430,right:20,bottom:30,left:40},h=+a-p.left-p.right,_=+n-p.top-p.bottom,b=+n-d.top-d.bottom;u.selectAll("*").remove();var E,f=v.j().range([0,h]),g=v.j().range([0,h]),y=v.j().range([_,0]),O=v.j().range([b,0]),N=v.a(f),j=v.a(g),C=v.b(y).tickFormat(function(e){return Math.round(e)/100}),w=function(e){return f(s(e))},S=function(e){return y(i(e))},A=v.h().x(w).y(S),D=v.h().x(function(e){return g(s(e))}).y(function(e){return O(i(e))}),T=v.d().extent([[0,0],[h,b]]).on("brush end",function(){if(v.f.sourceEvent&&"zoom"===v.f.sourceEvent.type)return;var e=v.f.selection||g.range();f.domain(e.map(g.invert,g)),B.select(".data-line").attr("d",A),B.selectAll(".data-point").attr("cx",w).attr("cy",S),E&&L(E);M.select(".axis-x").call(N),u.select(".zoom").call(k.transform,v.m.scale(h/(e[1]-e[0])).translate(-e[0],0))}),k=v.l().scaleExtent([1,1/0]).translateExtent([[0,0],[h,_]]).extent([[0,0],[h,_]]).on("zoom",function(){if(v.f.sourceEvent&&"brush"===v.f.sourceEvent.type)return;var e=v.f.transform;f.domain(e.rescaleX(g).domain()),B.select(".data-line").attr("d",A),B.selectAll(".data-point").attr("cx",w).attr("cy",S),E&&L(E);M.select(".axis-x").call(N),P.select(".brush").call(T.move,f.range().map(e.invertX,e))});u.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",h).attr("height",_).attr("x",0).attr("y",0);var x,B=u.append("g").attr("class","data-lines").attr("transform","translate("+p.left+","+p.top+")").attr("clip-path","url(#clip)");l&&((x=u.append("g")).attr("class","crosshair").attr("transform","translate("+p.left+","+p.top+")").attr("clip-path","url(#clip)"),x.append("line").attr("class","crosshair-line crosshair-line-x"),x.append("line").attr("class","crosshair-line crosshair-line-y"));var M=u.append("g").attr("class","axes").attr("transform","translate("+p.left+","+p.top+")"),P=u.append("g").attr("class","context").attr("transform","translate("+d.left+","+d.top+")"),I=u.append("rect").attr("class","zoom").attr("width",h).attr("height",_).attr("transform","translate("+p.left+","+p.top+")");function L(e){var t=f.domain(),a=y.domain();x.select(".crosshair-line-x").transition().ease(v.e).attr("x1",w(e)).attr("y1",y(a[0])).attr("x2",w(e)).attr("y2",y(a[1])).duration(100),x.select(".crosshair-line-y").transition().ease(v.e).attr("x1",f(t[0])).attr("y1",S(e)).attr("x2",f(t[1])).attr("y2",S(e)).duration(100)}!function(e){f.domain(v.g(e,s)),y.domain(v.g(e,i)),g.domain(f.domain()),O.domain(y.domain()),M.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+_+")").call(N),M.append("g").attr("class","axis axis-y").call(C),B.append("path").datum(e).attr("class","data-line").attr("d",A),B.selectAll(".data-point").data(e).enter().append("circle").attr("class",function(e){return"data-point "+(e.profit>0?"is-success":"is-danger")}).attr("cx",w).attr("cy",S),P.append("path").datum(e).attr("class","data-line").attr("d",D),P.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+b+")").call(j),P.append("g").attr("class","brush").call(T).call(T.move,f.range()),I.call(k),I.on("mousemove",function(){var i,l=v.i(this)[0],o=f.invert(l),p=r(e,o),d=e[p-1],h=e[p];i=h?d&&Math.abs(o-s(h))>Math.abs(o-s(d))?d:h:d;E=i,B.selectAll(".data-point").classed("hover",function(e){return s(e)===s(E)}),L(E),function(e){if(m&&u&&t&&a&&n){var r,s,i=v.i(u.node()),l=v.i(t.node()),o={left:25,top:25},p=m.node().getBoundingClientRect();r=i[0]>a-p.width?l[0]-p.width-o.left:l[0]+o.left,s=i[1]>n-p.height?l[1]-p.height-o.top:l[1]+o.top,m.style("top",s+"px").style("left",r+"px"),c&&c({data:e})}}(i)}).on("mouseover",function(){m&&m.style("opacity",1),x&&x.style("opacity",1)}).on("mouseout",function(){m&&m.style("opacity",0),x&&x.style("opacity",0),B.selectAll(".data-point").classed("hover",!1)});var r=v.c(function(e,t){return t-s(e)}).left}(r)}({container:this.container,viewBoxWidth:this.props.viewBoxWidth,viewBoxHeight:this.props.viewBoxHeight,onTooltipChange:this.handleTooltipChange,data:this.props.data,xAccessor:this.props.xAccessor,yAccessor:this.props.yAccessor,crosshairEnabled:this.props.crosshairEnabled,crosshairClassName:this.props.crosshairClassName})}}]),t}(n.Component)),O=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=Object(m.a)(e,["data"]),n=t||{},s=n.id,i=n.hash,c=n.bust,l=n.wager,o=n.payout,u=n.cashedAt,p=n.profit,d=n.balance;return r.a.createElement("div",a,t&&r.a.createElement("table",{className:"table is-hoverable is-transparent"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Game ID"),r.a.createElement("td",null,s)),r.a.createElement("tr",null,r.a.createElement("th",null,"Hash"),r.a.createElement("td",null,r.a.createElement("input",{className:"input",type:"text",value:i,readOnly:!0}))),r.a.createElement("tr",null,r.a.createElement("th",null,"Bust"),r.a.createElement("td",null,"".concat(c,"x"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Bet"),r.a.createElement("td",null,0===l?"Didn't play":"".concat(o,"x ").concat(Math.round(l)/100," bits"))),r.a.createElement("tr",null,r.a.createElement("th",null,"Cashed At"),r.a.createElement("td",null,u>0?"".concat(u,"x"):"-")),r.a.createElement("tr",null,r.a.createElement("th",null,"Profit"),r.a.createElement("td",{className:0===p?"has-text-warning":p>0?"has-text-success":"has-text-danger"},Math.round(p)/100," bits")),r.a.createElement("tr",null,r.a.createElement("th",null,"Balance"),r.a.createElement("td",null,Math.round(d)/100," bits")))))}}]),t}(n.Component);var N=y,j=(a(47),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"viewState",value:function(){return this.props.scripts.editing?"edit":this.props.scripts.creating?"new":this.props.scripts.deleting?"delete":this.props.scripts.selected?"show":"list"}},{key:"componentDidMount",value:function(){this.props.scripts.load()}},{key:"render",value:function(){var e=this.viewState(),t=this.props,a=t.scripts,n=t.className,s=void 0===n?"":n,i=Object(m.a)(t,["scripts","className"]);return r.a.createElement("div",Object.assign({},i,{className:s}),("list"===e||"delete"===e)&&r.a.createElement(w,{scripts:a}),"edit"===e&&r.a.createElement(P,{script:a.editing,error:a.updateError,onCancel:a.onCancel,onSave:a.onSave}),"new"===e&&r.a.createElement(I,{script:a.creating,error:a.createError,onCancel:a.onCancel,onSave:a.onSave}),"show"===e&&r.a.createElement(S,{scripts:a}))}}]),t}(n.Component)),C=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("div",Object.assign({},n,{className:"".concat(a)}),r.a.createElement("p",null,r.a.createElement("span",{className:"bustabit-logo"}),r.a.createElement("span",{className:"bustabit-title"},"Bustabit")),r.a.createElement("p",null,r.a.createElement("span",{className:"script-simulator-title"},"Script Simulator")),r.a.createElement("p",null,r.a.createElement("span",{className:"script-simulator-author"},"by ",r.a.createElement("a",{href:"https://github.com/Mtihc"},"Mtihc"))))}}]),t}(n.Component),w=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=e.scripts,s=Object(m.a)(e,["className","scripts"]),i=n.deleting?n.deleting.id:void 0;return r.a.createElement("div",Object.assign({},s,{className:"BustabitScript-List box is-inline-block ".concat(a)}),r.a.createElement("table",{className:"table is-hoverable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},r.a.createElement("h3",{className:"subtitle is-4"},"My Scripts")),r.a.createElement("th",{colSpan:"2"},r.a.createElement(x,{onClick:function(){return n.onNew()}})))),r.a.createElement("tbody",null,n.items.entrySeq().map(function(e){var t=Object(u.a)(e,2),a=(t[0],t[1]),s=a.id;return s===i?r.a.createElement("tr",{key:s},r.a.createElement("th",null,a.name),r.a.createElement("td",{colSpan:"3",style:{maxWidth:"9rem"}},r.a.createElement(A,{key:s,script:n.deleting,onCancel:n.onCancel,onDeleteConfirmed:n.onDeleteConfirmed}))):r.a.createElement("tr",{key:s},r.a.createElement("th",null,a.name),r.a.createElement("td",null,r.a.createElement(T,{onClick:function(){return n.onSelect(s)}})),r.a.createElement("td",null,r.a.createElement(D,{onClick:function(){return n.onEdit(s)}})),r.a.createElement("td",null,r.a.createElement(k,{onClick:function(){return n.onDelete(s)}})))}))))}}]),t}(n.Component);var S=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(_.a)(t).call(this,e))).state={script:e.scripts.selected,startingBalance:1e6,gameHash:"7edbd07968e771f205a4e2b67701c2f6993437db0c557160ba79ee70ea6d10c6",gameAmount:1e3,drawChart:!0},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.scripts.results!==e.scripts.results){var t=document.getElementById("results");if(t){var a=t.getBoundingClientRect().top+window.scrollY;window.scrollTo({behavior:"smooth",top:a})}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,s=t.scripts,i=Object(m.a)(t,["className","scripts"]);return r.a.createElement("div",Object.assign({},i,{className:"BustabitScript Show ".concat(n)}),this.state.script&&r.a.createElement("div",{key:this.state.script.id},r.a.createElement("div",{className:"box is-inline-block has-text-left"},r.a.createElement("div",null,r.a.createElement(B,{className:"".concat(s.isLoading?"is-loading":""),onClick:s.onDeselect}),r.a.createElement(D,{className:"is-pulled-right",onClick:function(){return s.onEdit(e.state.script.id)}})),r.a.createElement("hr",{className:"hr"}),r.a.createElement(g,{config:this.state.script.config,onChange:function(t){e.setState(function(e){var a=e.script;return a.config=t,{script:a}})}}),r.a.createElement("hr",{className:"hr"}),r.a.createElement(L,{label:"Starting Balance",icon:"fas fa-coins"},r.a.createElement("input",{className:"input is-normal",type:"number",required:!0,min:"1",step:"1",name:"startingBalance",value:this.state.startingBalance/100,onChange:function(t){var a=Object(o.a)({},t.target.name,100*parseFloat(t.target.value));e.setState(a)}})),r.a.createElement(L,{label:"Hash",icon:"fas fa-key"},r.a.createElement("input",{className:"input is-normal",type:"text",required:!0,name:"gameHash",value:this.state.gameHash,onChange:function(t){e.setState(Object(o.a)({},t.target.name,String(t.target.value)))}})),r.a.createElement(L,{label:"Games",icon:"fas fa-hashtag"},r.a.createElement("input",{className:"input is-normal",type:"number",required:!0,min:"1",step:"1",name:"gameAmount",value:this.state.gameAmount,onChange:function(t){e.setState(Object(o.a)({},t.target.name,parseInt(t.target.value)))}})),r.a.createElement("hr",{className:"hr"}),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-success ".concat(s.isLoading?"is-loading":""),disabled:!(this.state.script&&this.state.gameHash&&this.state.gameAmount&&this.state.startingBalance),onClick:function(){var t={script:e.state.script,gameHash:e.state.gameHash,gameAmount:e.state.gameAmount,startingBalance:e.state.startingBalance,drawChart:e.state.drawChart};s.onRunScript(t)}},"Run Script")),r.a.createElement("div",{className:"control"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{className:"checkbox",type:"checkbox",name:"drawChart",checked:this.state.drawChart,onChange:function(t){e.setState(Object(o.a)({},t.target.name,Boolean(t.target.checked)))}}),"\xa0 Draw Chart"))),r.a.createElement("div",null,r.a.createElement("textarea",{className:"textarea",value:s.results?s.results.log:void 0,readOnly:!0,style:{width:"100%",height:"200px"},placeholder:"Script logs will appear here"})),r.a.createElement("div",{className:"box is-inline-block has-text-left"},r.a.createElement("table",{className:"table is-hoverable box is-inline-block"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Games Played"),r.a.createElement("td",null,s.results.bets)),r.a.createElement("tr",null,r.a.createElement("th",null,"Duration"),r.a.createElement("td",null,function(e){var t=parseInt(e%1e3/100),a=parseInt(e/1e3%60),n=parseInt(e/6e4%60),r=parseInt(e/36e5%24);return(r=r<10?"0"+r:r)+":"+(n=n<10?"0"+n:n)+":"+(a=a<10?"0"+a:a)+"."+t}(s.results.duration))),r.a.createElement("tr",null,r.a.createElement("th",null,"Starting Balance"),r.a.createElement("td",null,+s.results.startingBalance/100)),r.a.createElement("tr",null,r.a.createElement("th",null,"Profit ATL"),r.a.createElement("td",null,Math.round(s.results.profitATL)/100)),r.a.createElement("tr",null,r.a.createElement("th",null,"Profit ATH"),r.a.createElement("td",null,Math.round(s.results.profitATH)/100)),r.a.createElement("tr",null,r.a.createElement("th",null,"Profit"),r.a.createElement("td",{className:"".concat(s.results.profit>=0?"has-text-success":"has-text-danger")},Math.round(s.results.profit)/100)),s.results.profit>0&&r.a.createElement("tr",null,r.a.createElement("th",null,"Profit per hour"),r.a.createElement("td",null,Math.round(s.results.profitPerHour)/100)),r.a.createElement("tr",null,r.a.createElement("th",null,"Balance"))),s.selected&&s.results&&r.a.createElement("section",{className:"section"},r.a.createElement("div",{id:"results"}),s.results.error&&r.a.createElement("div",{className:"notification is-danger"},r.a.createElement("h3",{className:"is-3"},"Error"),r.a.createElement("pre",{className:"notification is-danger has-text-left"},String(s.results.error))),!s.results.error&&r.a.createElement("div",{className:"columns"},r.a.createElement("td",null,s.results.balance/100)),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},s.results.message||""))))),s.results.chartData&&r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"has-text-centered box"},r.a.createElement(N,{viewBoxWidth:960,viewBoxHeight:500,data:s.results.chartData,xAccessor:function(e){return e.id},yAccessor:function(e){return e.balance},crosshairEnabled:!0,crosshairClassName:function(e){return e.profit>0?"is-success":"is-danger"}})))),r.a.createElement(M,null)))}}]),t}(n.Component),A=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.script?r.a.createElement("div",null,r.a.createElement("p",null,"Are you sure you want to delete this script?"),r.a.createElement("div",{className:"buttons is-pulled-right"},r.a.createElement("button",{className:"button",onClick:function(){var t=e.props.script.id;e.props.onDeleteConfirmed(t,!0)}},"Yes"),r.a.createElement("button",{className:"button",onClick:this.props.onCancel},"No"))):null)}}]),t}(n.Component),D=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("div",{className:"BustabitScript EditButton control ".concat(a)},r.a.createElement("button",Object.assign({},n,{className:"button is-info ".concat(a)}),r.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},r.a.createElement("i",{className:"fas fa-eye"}))))}}]),t}(n.Component),T=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("div",{className:"BustabitScript SelectButton control"},r.a.createElement("button",Object.assign({},n,{className:"button ".concat(a)}),r.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},r.a.createElement("i",{className:"fas fa-play"}))))}}]),t}(n.Component),k=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("div",{className:"BustabitScript DeleteButton control"},r.a.createElement("button",Object.assign({},n,{className:"button ".concat(a)}),r.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},r.a.createElement("i",{className:"fas fa-trash-alt"}))))}}]),t}(n.Component),x=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("div",{className:"BustabitScript NewButton control is-pulled-right"},r.a.createElement("button",Object.assign({},n,{className:"button is-success ".concat(a)}),r.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("span",null,"New")))}}]),t}(n.Component),B=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=Object(m.a)(e,["className"]);return r.a.createElement("a",Object.assign({},n,{className:"button is-normal ".concat(a)}),r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("span",null,"Go Back"))}}]),t}(n.Component),M=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props||{},t=e.className,a=void 0===t?"":t,n=e.onClick,s=Object(m.a)(e,["className","onClick"]);return r.a.createElement("button",Object.assign({},s,{className:"button is-normal ".concat(a),onClick:function(){window.scroll({top:0,behavior:"smooth"}),n&&n()}}),r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-arrow-up"})),r.a.createElement("span",null,"Back to Top"))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(_.a)(t).call(this,e))).close=a.close.bind(Object(l.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"close",value:function(e){e&&e.preventDefault(),this.props.onCancel()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"BustabitScript Edit modal"+(this.props.script?" is-active":"")},r.a.createElement("div",{className:"modal-background",onClick:this.close}),r.a.createElement("div",{className:"modal-card",style:{width:"90%"}},r.a.createElement("form",{onSubmit:function(t){t&&t.preventDefault();var a=String(t.target.id.value||"").trim(),n=String(t.target.name.value||"").trim(),r=String(t.target.text.value||"").trim(),s=Object(c.a)({},e.props.script,{id:a,name:n,text:r});e.props.onSave(s)}},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},"Edit Script"),r.a.createElement("button",{className:"delete",onClick:this.close})),r.a.createElement("section",{className:"modal-card-body"},this.props.error&&r.a.createElement("div",{className:"notification is-warning"},r.a.createElement("p",null,r.a.createElement("strong",null,"Error")),r.a.createElement("pre",{className:"notification is-warning has-text-left"},String(this.props.error))),r.a.createElement("input",{className:"input",type:"hidden",name:"id",defaultValue:this.props.script?this.props.script.id:""}),r.a.createElement("input",{className:"input is-normal",required:!0,type:"text",name:"name",defaultValue:this.props.script?this.props.script.name:""}),r.a.createElement("textarea",{className:"textarea is-normal",required:!0,rows:"10",name:"text",defaultValue:this.props.script?this.props.script.text:""})),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("button",{className:"button is-success",type:"submit"},"Save Script"),r.a.createElement("button",{className:"button",onClick:this.close},"Cancel")))))}}]),t}(n.Component),I=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),t}(P),L=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.label,n=e.icon,s=e.className,i=void 0===s?"":s,c=Object(m.a)(e,["children","label","icon","className"]);return r.a.createElement("div",{className:"field is-horizontal"},void 0===a?null:r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},a)),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",Object.assign({className:"control ".concat(n?" has-icons-left":""," ").concat(i)},c),t,n&&r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:n}))))))}}]),t}(n.Component),R={App:j,Title:C,EditButton:D},U=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(_.a)(t).call(this,e))).state={isOpen:!1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,s=Object(m.a)(t,["className"]);return r.a.createElement("div",null,r.a.createElement("button",Object.assign({},s,{className:"button ".concat(n),onClick:function(){return e.setState({isOpen:!0})}}),r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-exclamation"})),r.a.createElement("span",{className:"is-uppercase"},"Disclaimer")),r.a.createElement(W,{isOpen:this.state.isOpen,onClose:function(){return e.setState({isOpen:!1})}}))}}]),t}(n.Component),W=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal"+(this.props.isOpen?" is-active":"")},r.a.createElement("div",{className:"modal-background",onClick:this.props.onClose}),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"box"},r.a.createElement("h4",{className:"title is-4"},r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-exclamation"})),"Disclaimer"),r.a.createElement("p",null,"No one is responsible if you lose money using this tool and/or trusting its results."),r.a.createElement("p",null,"All it does is simulate you running a script on previous bustabit games. "),r.a.createElement("p",null,"Results achieved in the past don't provide any guarantee for the future."),r.a.createElement("p",null,"And, there's no guarantee that the simulated engine on this site, behaves in exactly the same way as the engine on bustabit."))),r.a.createElement("button",{className:"modal-close is-large",onClick:this.props.onClose}))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(_.a)(t).call(this,e))).state={isOpen:!1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,s=Object(m.a)(t,["className"]);return r.a.createElement("div",null,r.a.createElement("button",Object.assign({},s,{className:"button ".concat(n),onClick:function(){return e.setState({isOpen:!0})}}),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-hand-holding-usd"})),r.a.createElement("span",{className:"is-uppercase"},"Send a tip...")),r.a.createElement(H,{isOpen:this.state.isOpen,onClose:function(){return e.setState({isOpen:!1})}}))}}]),t}(n.Component),H=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal"+(this.props.isOpen?" is-active":"")},r.a.createElement("div",{className:"modal-background",onClick:this.props.onClose}),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"box"},r.a.createElement("p",null,r.a.createElement("strong",null,"Hello fellow gambler!")),r.a.createElement("p",null,"I hope you like my Bustabit Simulator. I worked hard on it.",r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:"fas fa-grin-beam-sweat"}))),r.a.createElement("p",null,"If you use this tool regularly, please consider donating a dollar or two."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://bustabit.com/tip",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",null,"https://bustabit.com/tip")),r.a.createElement("span",null,"My username is "),r.a.createElement("span",{className:"is-bold"},"Mtihc")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://paypal.me/MitchStoffels",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",null,"https://paypal.me/MitchStoffels"))))),r.a.createElement("button",{className:"modal-close is-large",onClick:this.props.onClose}))}}]),t}(n.Component);var K=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"navbar has-shadow"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(R.Title,null))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement(U,{className:"is-small"}),r.a.createElement(G,{className:"is-small"})))))),r.a.createElement("main",{className:"section has-text-centered"},r.a.createElement(R.App,{scripts:e.scripts})))},q=a(19),F=a(22),z={LOADED:"scripts/loaded",NEW:"scripts/new",CREATE_ERROR:"scripts/create-error",CREATED:"scripts/created",EDIT:"scripts/edit",UPDATE_ERROR:"scripts/update-error",UPDATED:"scripts/updated",CANCEL:"scripts/cancel",DELETE:"scripts/delete",DELETE_ERROR:"scripts/delete-error",DELETED:"scripts/deleted",SIMULATE:"scripts/simulate",SIMULATED:"scripts/simulated"},V=new(a(33).Dispatcher),J=new(function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).call(this,V))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"getInitialState",value:function(){return F.a.OrderedMap()}},{key:"reduce",value:function(e,t){switch(t.type){case z.LOADED:return e.clear().merge(t.scripts);case z.DELETED:return e.delete(t.id);case z.CREATED:case z.UPDATED:return e.set(t.script.id,t.script);default:return e}}}]),t}(q.ReduceStore)),Y=a(23),Q=new(function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(_.a)(t).call(this,V))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"getInitialState",value:function(){return F.a.OrderedMap({creating:void 0,editingId:void 0,deletingId:void 0,selectedId:void 0,isSimulating:!1,results:void 0,error:void 0})}},{key:"reduce",value:function(e,t){switch(t.type){case z.NEW:return e.set("creating",Object.assign({},Y.a.NEW_SCRIPT)).set("createError",void 0);case z.CREATED:return e.set("creating",void 0).set("createError",void 0);case z.CREATE_ERROR:return e.set("createError",t.error);case z.EDIT:return e.set("editingId",t.id).set("updateError",void 0);case z.UPDATED:return e.set("editingId",void 0).set("updateError",void 0);case z.UPDATE_ERROR:return e.set("updateError",t.error);case z.DELETE:return e.set("deletingId",t.id).set("deleteError",void 0);case z.DELETED:return e.set("deletingId",void 0).set("deleteError",void 0);case z.DELETE_ERROR:return e.set("deleteError",t.error);case z.CANCEL:return e.set("creating",void 0).set("editingId",void 0).set("deletingId",void 0).set("createError",void 0).set("updateError",void 0).set("deleteError",void 0);case z.SELECT:return e.set("selectedId",t.id).set("results",void 0);case z.DESELECT:return e.set("selectedId",void 0);case z.SIMULATE:return e.set("results",void 0).set("isSimulating",!0);case z.SIMULATED:return e.set("results",t.results).set("isSimulating",!1);default:return e}}}]),t}(q.ReduceStore)),X=a(16),$={load:function(){var e=X.a.load();V.dispatch({type:z.LOADED,scripts:e})},restoreSamples:function(){var e=X.a.restoreSamples();V.dispatch({type:z.LOADED,scripts:e})},delete:function(e){V.dispatch({type:z.DELETE,id:e})},deleteConfirmed:function(e){X.a.delete(e),V.dispatch({type:z.DELETED,id:e})},save:function(e){if(e.id)try{X.a.save(e),V.dispatch({type:z.UPDATED,script:e})}catch(t){V.dispatch({type:z.UPDATE_ERROR,script:e,error:t})}else try{X.a.save(e),V.dispatch({type:z.CREATED,script:e})}catch(t){V.dispatch({type:z.CREATE_ERROR,script:e,error:t})}},new:function(){V.dispatch({type:z.NEW})},edit:function(e){V.dispatch({type:z.EDIT,id:e})},cancel:function(){V.dispatch({type:z.CANCEL})},select:function(e){V.dispatch({type:z.SELECT,id:e})},deselect:function(){V.dispatch({type:z.DESELECT})},runScript:function(e){$.save(e.script),V.dispatch({type:z.SIMULATE,settings:e}),X.a.runScript(e).then(function(e){V.dispatch({type:z.SIMULATED,results:e})})}},Z=$;var ee=q.Container.createFunctional(K,function(){return[J,Q]},function(){var e=J.getState(),t=Q.getState();return{scripts:Object(c.a)({},{items:e,creating:t.get("creating"),editing:e.get(t.get("editingId")),deleting:e.get(t.get("deletingId")),selected:e.get(t.get("selectedId")),isLoading:t.get("isSimulating"),results:t.get("results"),createError:t.get("createError"),updateError:t.get("updateError"),deleteError:t.get("deleteError")},{load:Z.load,onNew:Z.new,onEdit:Z.edit,onCancel:Z.cancel,onSave:Z.save,onDelete:Z.delete,onDeleteConfirmed:Z.deleteConfirmed,onSelect:Z.select,onDeselect:Z.deselect,onRunScript:Z.runScript})}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.81b961b2.chunk.js.map
