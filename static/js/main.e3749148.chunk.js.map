{"version":3,"sources":["data/ScriptUtils.js","data/ScriptConstants.js","data/simulate.js","views/components/BustabitScriptConfig.js","views/components/LineChart.js","views/components/BustabitScript.js","views/components/Disclaimer.js","views/components/Donate.js","views/AppView.js","data/ScriptActionTypes.js","data/ScriptDispatcher.js","data/ScriptStore.js","data/ScriptListStore.js","data/ScriptActions.js","containers/AppContainer.js","serviceWorker.js","index.js"],"names":["getLocalStorageScripts","JSON","parse","localStorage","getItem","e","setLocalStorageScripts","scripts","undefined","constructor","Object","keys","length","removeItem","setItem","stringify","onBeforeSave","script","oldConfig","config","getConfigFromScriptText","assignConfigValues","values","TypeError","key","value","type","options","splitConfigFromScriptText","regexp","match","exec","String","text","trim","eval","getScriptTextWithoutConfig","getUniqueID","existingIds","attempt","id","CryptoJS","lib","WordArray","random","indexOf","ScriptUtils","load","restoreSamples","forEach","isSample","ScriptConstants","SCRIPT_SAMPLES","save","delete","runScript","_ref","settings","gameHash","gameAmount","startingBalance","drawChart","C_Users_Daffie_Documents_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","arguments","then","callback","setTimeout","simulate","results","catch","error","console","NEW_SCRIPT","name","__webpack_exports__","hashToBust","seed","HmacSHA256","enc","Hex","toString","slice","nBits","X","parseInt","Math","pow","result","floor","max","hashToBusts","amount","isNaN","prevHash","unshift","hash","bust","index","SHA256","SimulatedBustabitHistory","C_Users_Daffie_Documents_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_7__","this","data","SimulatedBustabitEngine","_this","C_Users_Daffie_Documents_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Daffie_Documents_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","_userInfo","uname","balance","balanceATH","balanceATL","Number","MAX_VALUE","winStreak","loseStreak","highBet","lowBet","bets","profit","profitATH","profitATL","history","bet","bind","C_Users_Daffie_Documents_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","next","wager","payout","_this2","Promise","resolve","reject","round","isAuto","EventEmitter","evalScript","_callee","engine","userInfo","log","stop","gameResultFromHash","_args","C_Users_Daffie_Documents_bustabit_script_simulator_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_callee$","_context","prev","logMessages","shouldStop","shouldStopReason","_console","msg","Array","prototype","join","apply","C_Users_Daffie_Documents_bustabit_script_simulator_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","message","duration","profitPerHour","assign","chartData","context","reason","games","nextGame","setImmediate","game","isSimulation","cashedAt","gameState","emit","gameId","endSimulation","sinceWin","sinceLose","doGame","concat","reduce","b","BustabitScriptConfig","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","handleConfigFieldChange","assertThisInitialized","path","split","obj","i","onChange","_this$props","_this$props$className","className","rest","objectWithoutProperties","react_default","createElement","map","element","component","FieldTypes","objectSpread","Component","freeze","label","optional","htmlFor","parseFloat","required","step","eventInfo","target","checkbox","_ref2","checked","multiplier","_ref3","noop","_ref4","radio","_ref5","optionFieldChange","style","width","padding","option","_ref6","number","_ref7","LineChart","state","tooltipData","handleTooltipChange","shouldUpdateLineChart","updateLineChart","container","ReactDOM","findDOMNode","prevProps","prevState","viewBoxWidth","viewBoxHeight","xAccessor","yAccessor","crosshairEnabled","crosshairClassName","preserveAspectRatio","visibility","LineChart_Tooltip","setState","some","propName","current","isArray","onTooltipChange","svgElement","d3","select","tooltipElement","attr","margin","top","right","bottom","left","margin2","height","height2","selectAll","remove","selected","xScale","range","xScale2","yScale","yScale2","xAxis","xAxis2","yAxis","tickFormat","n","lineX","d","lineY","line","x","y","line2","brush","extent","on","sourceEvent","s","selection","domain","invert","g_lines","moveCrosshair","g_axes","zoom","transform","scale","translate","scaleExtent","Infinity","translateExtent","t","rescaleX","move","invertX","append","crosshairElement","overlay","xdomain","ydomain","transition","ease","datum","enter","mousex","dx","bisect","d0","d1","abs","classed","tooltipX","tooltipY","svgMouse","node","containerMouse","tooltipOffset","tooltipSize","getBoundingClientRect","moveTooltip","withData","d3LineChart","Tooltip","_this$props2","wrapper","readOnly","App","editing","creating","deleting","viewState","BustabitScript_List","BustabitScript_Edit","updateError","onCancel","onSave","BustabitScript_New","createError","BustabitScript_Show","Title","_this$props2$classNam","href","List","_this$props3","_this$props3$classNam","deletingId","colSpan","BustabitScript_NewButton","onClick","onNew","items","entrySeq","slicedToArray","maxWidth","BustabitScript_Delete","onDeleteConfirmed","BustabitScript_SelectButton","onSelect","BustabitScript_EditButton","onEdit","BustabitScript_DeleteButton","onDelete","Show","resultsElement","document","getElementById","window","scrollY","scrollTo","behavior","_this$props4","_this$props4$classNam","BustabitScript_GoBackButton","isLoading","onDeselect","components_BustabitScriptConfig","BustabitScript_Control","icon","min","event","changes","defineProperty","disabled","args","onRunScript","Boolean","resize","placeholder","milliseconds","seconds","minutes","hours","msToTime","views_components_LineChart","BustabitScript_BackToTopButton","Delete","_this3","EditButton","_this$props5","_this$props5$classNam","SelectButton","_this$props6","_this$props6$classNam","DeleteButton","_this$props7","_this$props7$classNam","NewButton","_this$props8","_this$props8$classNam","GoBackButton","_this$props9","_this$props9$classNam","BackToTopButton","_ref4$className","scroll","Edit","_this4","close","preventDefault","_this5","onSubmit","defaultValue","rows","New","Control","_this$props10","children","_this$props10$classNa","components_BustabitScript","DisclaimerButton","isOpen","Disclaimer_DisclaimerModal","onClose","DisclaimerModal","DonateButton","Donate_DonateModal","DonateModal","rel","AppView","Disclaimer_DisclaimerButton","Donate_DonateButton","ActionTypes","LOADED","NEW","CREATE_ERROR","CREATED","EDIT","UPDATE_ERROR","UPDATED","CANCEL","DELETE","DELETE_ERROR","DELETED","SIMULATE","SIMULATED","ScriptDispatcher","Dispatcher","data_ScriptStore","ScriptStore","Immutable","OrderedMap","action","ScriptActionTypes","clear","merge","set","ReduceStore","data_ScriptListStore","ScriptListStore","editingId","selectedId","isSimulating","SELECT","DESELECT","Actions","dispatch","deleteConfirmed","new","edit","cancel","deselect","Container","createFunctional","getState","list","get","deleteError","ScriptActions","location","hostname","render","AppContainer","navigator","serviceWorker","ready","registration","unregister"],"mappings":"mlBAQA,SAASA,yBACP,IACE,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,YACvC,MAAOC,GACP,OAAO,MAIX,SAASC,uBAAwBC,QACfC,IAAZD,GACY,OAAZA,GACCA,EAAQE,cAAgBC,QAA0C,IAAhCA,OAAOC,KAAKJ,GAASK,OAC1DT,aAAaU,WAAW,WAExBV,aAAaW,QAAQ,UAAWb,KAAKc,UAAUR,IAInD,SAASS,aAAcC,GACrB,IAAIC,EAAYD,EAAOE,OACvBF,EAAOE,OAASC,wBAAwBH,GACxCI,mBAAmBJ,EAAOE,OAAQD,GAGpC,SAASG,mBAAmBF,EAAQG,GAClC,IAAKH,GAAUA,EAAOV,cAAgBC,OACpC,MAAM,IAAIa,UAAU,8BAEtB,GAAID,GAAUA,EAAOb,cAAgBC,OACnC,MAAM,IAAIa,UAAU,2CAEtB,IAAKD,EAAQ,OAAOH,EACpB,IAAK,IAAMK,KAAOF,EACXA,EAAOE,IAAQF,EAAOE,GAAKf,cAAgBC,QAC3CS,EAAOK,SACchB,IAAtBc,EAAOE,GAAKC,QAChBN,EAAOK,GAAKC,MAAQH,EAAOE,GAAKC,MACP,UAArBN,EAAOK,GAAKE,OACdP,EAAOK,GAAKG,QAAUN,mBAAmBF,EAAOK,GAAKG,SAAW,GAAIL,EAAOE,GAAKG,WAGpF,OAAOR,EAUT,SAASS,0BAA2BX,QAClC,IAAMY,OAAS,mDACTC,MAAQD,OAAOE,KAAKC,OAAOf,OAAOgB,MAAMC,QAE9C,GAAc,OAAVJ,MACF,MAAM,IAAIP,UAAU,sEAEtB,IAAMJ,OAASgB,KAAKL,MAAM,GAAK,eAC/B,MAAO,CAACX,OAAQW,MAAM,IAGxB,SAASV,wBAAyBH,GAChC,OAAOW,0BAA0BX,GAAQ,GAG3C,SAASmB,2BAA4BnB,GACnC,OAAOW,0BAA0BX,GAAQ,GAG3C,SAASoB,YAAaC,GACpB,IAAK,IAAIC,EAAU,EAAGA,EAAU,EAAGA,IAAW,CAC5C,IAAIC,EAAKR,OAAOS,iDAASC,IAAIC,UAAUC,OAAO,KAC9C,IAAKN,IAA4C,IAA7BA,EAAYO,QAAQL,GACtC,OAAOA,GAKb,IAAMM,YAAc,CAMlBC,KANkB,WAOhB,IAAIxC,EAAUP,yBAId,OAHgB,OAAZO,QAAgCC,IAAZD,IACtBA,EAAUuC,YAAYE,kBAEjBzC,GAOTyC,eAlBkB,WAmBhB,IAAIzC,EAAUP,0BAA4B,GAc1C,OAbAU,OAAOC,KAAKJ,GAAS0C,QAAQ,SAAAT,GACvBjC,EAAQiC,GAAIU,iBACP3C,EAAQiC,KAGnBW,gDAAgBC,eAAeH,QAAQ,SAAChC,GACtCD,aAAaC,GACbA,EAAOiC,UAAW,EAClBjC,EAAOuB,GAAKH,YAAY3B,OAAOC,KAAKJ,IACpCA,EAAQU,EAAOuB,IAAMvB,IAEvBX,uBAAuBC,GAEhBA,GAOT8C,KAxCkB,SAwCZpC,GACJ,IAAIV,EAAUP,yBACdgB,aAAaC,GACRA,EAAOuB,KACVvB,EAAOuB,GAAKH,YAAY3B,OAAOC,KAAKJ,KAEtCA,EAAQU,EAAOuB,IAAMvB,EACrBX,uBAAuBC,IAOzB+C,OAtDkB,SAsDVd,GACN,IAAIjC,EAAUP,gCACPO,EAAQiC,GACflC,uBAAuBC,IAYzBgD,UArEkB,SAAAC,GAqEuD,IAA5DvC,EAA4DuC,EAA5DvC,OACPwC,GADmED,EAApDE,SAAoDF,EAA1CG,WAA0CH,EAA9BI,gBAA8BJ,EAAbK,UAC9CnD,OAAAoD,oIAAA,EAAApD,CAAA,GAAQqD,UAAU,KAK9B,cAJON,EAASxC,OAChBwC,EAAStC,OAASF,EAAOE,OACzBsC,EAASxB,KAAOG,2BAA2BnB,GAEpC,CACL+C,KAAM,SAAUC,GACdC,WAAW,WACTC,iDAASV,GACNO,KAAK,SAACI,GACLH,EAASG,KAEVC,MAAM,SAAAC,GACLC,QAAQD,MAAMA,GAEdL,EADc,CAAEK,MAAOA,OAG1B,SAOIxB,mECrLf,IAiOM0B,EAAa,CACjBhC,GAAI,GACJiC,KAAM,kBACNxC,KAAI,2DAKJd,YAAQX,GAGKkE,EAAA,GACbtB,eA7OqB,CACrB,CACEqB,KAAM,WACNxC,KAAI,i6BAuCN,CACEwC,KAAM,aACNxC,KAAI,olEA0EN,CACEwC,KAAM,oBACNxC,KAAI,87EAsHNuC,2lEC3OF,SAASG,WAAWC,GAIlBA,GADAA,EADanC,kDAASoC,WAAWpC,kDAASqC,IAAIC,IAAI7E,MAAM0E,GAAO,oEACnDI,SAASvC,kDAASqC,IAAIC,MACtBE,MAAM,EAAGC,IACrB,IACIC,EADMC,SAASR,EAAM,IACbS,KAAKC,IAAI,EALP,IAMdH,EAAI,IAAM,EAAIA,GACd,IAAMI,EAASF,KAAKG,MAAML,GAC1B,OAAOE,KAAKI,IAAI,EAAGF,EAAS,KAG9B,SAASG,YAAYd,EAAMe,GACzB,GAAIC,MAAMD,IAAWA,GAAU,EAC7B,MAAM,IAAIpE,UAAU,6CAEtB,IAAIsE,EAAWjB,EACTW,EAAS,GACfA,EAAOO,QAAQ,CAACC,KAAMF,EAAUG,KAAMrB,WAAW3C,OAAO6D,MACxD,IAAK,IAAII,EAAQ,EAAGA,EAAQN,EAAQM,IAAS,CAC3C,IAAIF,EAAO/D,OAAOS,kDAASyD,OAAOlE,OAAO6D,KACrCG,EAAOrB,WAAWoB,GACtBR,EAAOO,QAAQ,CAACC,OAAMC,SACtBH,EAAWE,EAEb,OAAOR,MAGHY,oCACJ,SAAAA,IAAgBzF,OAAA0F,sIAAA,EAAA1F,CAAA2F,KAAAF,GACdE,KAAKC,KAAO,wLAoBZ,OAAOD,KAAKC,KAAK,gCAhBjB,OAAOD,KAAKC,KAAK1F,sCAIjB,OAAOyF,KAAKC,KAAK1F,qCAIjB,OAAO,8BAIP,OAAOyF,KAAKC,KAAK1F,OAAS,WAQxB2F,oCAEJ,SAAAA,IAAe,IAAAC,EAAA,OAAA9F,OAAA0F,sIAAA,EAAA1F,CAAA2F,KAAAE,IACbC,EAAA9F,OAAA+F,iJAAA,EAAA/F,CAAA2F,KAAA3F,OAAAgG,sIAAA,EAAAhG,CAAA6F,GAAAI,KAAAN,QACKO,UAAY,CACfC,MAAO,YACPC,QAAS,EACTC,WAAY,EACZC,WAAYC,OAAOC,UACnBC,UAAW,EACXC,WAAY,EACZC,QAAS,EACTC,OAAQL,OAAOC,UACfK,KAAM,EACNC,OAAQ,EACRC,UAAW,EACXC,UAAW,GAEblB,EAAKmB,QAAU,IAAIxB,yBACnBK,EAAKoB,IAAMpB,EAAKoB,IAAIC,KAATnH,OAAAoH,6IAAA,EAAApH,CAAA8F,IAjBEA,8UAqBb,GAAKH,KAAK0B,KACV,MAAO,CAAEC,MAAO3B,KAAK0B,KAAKC,MAAOC,OAAQ5B,KAAK0B,KAAKE,8CAInD,QAAS5B,KAAK0B,+CAId1B,KAAK0B,UAAOvH,8BAGVwH,EAAOC,GAAQ,IAAAC,EAAA7B,KAEjB,OAAO,IAAI8B,QAAQ,SAACC,EAASC,GAC3BH,EAAKH,KAAO,CAAEC,QAAOC,OAAQ5C,KAAKiD,MAAe,IAATL,GAAc,IAAKM,QAAQ,EAAMH,UAASC,mBAtClDG,wDA4CvBC,wXAAf,SAAAC,UAAA,IAAAvH,OAAAwH,OAAAC,SAAAC,IAAAC,KAAAC,mBAAAC,MAAAjF,UAAA,OAAAkF,+HAAAC,EAAAC,KAAA,SAAAC,SAAAC,UAAA,cAAAA,SAAAC,KAAAD,SAAAtB,MAAA,OACU5G,OAA4DkF,KAA5DlF,OAAQwH,OAAoDtC,KAApDsC,OAAQC,SAA4CvC,KAA5CuC,SAAUC,IAAkCxC,KAAlCwC,IAAKC,KAA6BzC,KAA7ByC,KAAMC,mBAAuB1C,KAAvB0C,mBAC7C5G,KAAK6G,MAAU,IAFjB,wBAAAK,SAAAP,SAAAJ,QAAArC,2CAKA,SAASlC,SAATX,GAAuF,IAAlEvB,EAAkEuB,EAAlEvB,KAAMd,EAA4DqC,EAA5DrC,OAAQyC,EAAoDJ,EAApDI,gBAAiBF,EAAmCF,EAAnCE,SAAUC,EAAyBH,EAAzBG,WAAYE,EAAaL,EAAbK,UACxE,OAAO,IAAIsE,QAAQ,SAACC,EAASC,GAC3B,IAAIkB,EAAc,GACdC,GAAa,EACbC,OAAmBjJ,EAEjBmI,EAAS,IAAIpC,wBACbqC,EAAWD,EAAO/B,UAClBiC,EAAM,WAAY,IAAAa,EACZC,EAAMC,MAAMC,UAAU5E,MAAM0B,KAAK5C,WACrCwF,GAAeI,EAAIG,KAAK,KAAO,KAC/BH,EAAI7D,QAAQ,SACZ4D,EAAAnF,SAAQsE,IAARkB,MAAAL,EAAAhJ,OAAAsJ,yIAAA,EAAAtJ,CAAeiJ,KAUvBf,EAAS9B,QAAUlD,EAEnB,IAAMQ,EAAU,CACdR,iBAAkBA,EAClBkD,aAAStG,EACTuG,gBAAYvG,EACZwG,gBAAYxG,EACZ+G,KAAM,EACNC,OAAQ,EACRF,OAAQ,EACRD,QAAS,EACTD,WAAY,EACZD,UAAW,EACXM,eAAWjH,EACXkH,eAAWlH,EACXyJ,QAAS,GACTtC,QAASgB,EAAOhB,QAAQrB,KACxBuC,IAAKU,EACLW,cAAU1J,EACV2J,mBAAe3J,GAEbqD,GACFnD,OAAO0J,OAAOhG,EAAS,CAAEiG,UAAW,KAGtC,IAAMC,EAAU,CAAEnJ,SAAQwH,SAAQC,WAAUC,MAAKC,KAjCpC,SAAUyB,GACfd,EAAmBc,EACnBf,GAAa,GA+BkCT,mBA7B5B,SAAUhD,GAC7B,OAAO,IAAIoC,QAAQ,SAAAC,GAAO,OAAIA,EAAQzD,WAAWoB,QA6BzD0C,WAAW9B,KAAK2D,EAASrI,GAEzB,IAAMuI,EAAQ9E,YAAYhC,EAAUC,GAGpC,SAAS8G,EAAUjI,GACjBA,IACAkI,aAAa,WACPlI,EAAKgI,EAAM5J,SAAW4I,EAiC9B,SAAgBhH,GACd,IAAMmI,EAAOH,EAAMhI,GACnBmI,EAAKnI,GAAKA,EACVmI,EAAKC,cAAe,EACpBD,EAAK3C,MAAQ,EACb2C,EAAKE,SAAW,EAGhBlC,EAAOmC,UAAY,gBAEnBnC,EAAOoC,KAAK,gBAAiB,CAAEC,OAAQxI,IAIvC,IAAMoF,EAAMe,EAAOZ,KAGnB,GAFAY,EAAOZ,KAAO,KAEVH,EAAK,CAEP,GAAIhC,MAAMgC,EAAII,QAAUJ,EAAII,MAAQ,IAElC,OADAJ,EAAIS,OAAO,eACJ4C,IAET,GAAIrF,MAAMgC,EAAIK,QAEZ,OADAL,EAAIS,OAAO,qBACJ4C,IAET,GAAIrC,EAAS9B,QAAUc,EAAII,MAAQ,EAEjC,OADAJ,EAAIS,OAAO,eACJ4C,IAET,GAAIrD,EAAIK,QAAU,EAEhB,OADAL,EAAIS,OAAO,qBACJ4C,IAKLrD,EAAII,MAAQ,IACdY,EAAS9B,SAAWc,EAAII,MACxBY,EAASrB,QAGXK,EAAIQ,QAAQ,MAGZO,EAAOoC,KAAK,aAAc,CACxBlE,MAAO+B,EAAS/B,MAChBmB,MAAOJ,EAAII,MACXC,OAAQL,EAAIK,SAIhBU,EAAOoC,KAAK,eAAgB,MAG5BpC,EAAOmC,UAAY,mBAInBH,EAAK3C,MAAQJ,EAAMA,EAAII,MAAQ,EAE/B2C,EAAKE,SAAWjD,GAAOA,EAAII,MAAQ,GAAKJ,EAAIK,QAAU0C,EAAK3E,KAAO4B,EAAIK,OAAS,EAE5D,IAAf0C,EAAK3C,QAEPY,EAAS9B,SAAW6D,EAAKE,SAAWF,EAAK3C,MACrCY,EAAS9B,QAAU8B,EAAS5B,aAAc4B,EAAS5B,WAAa4B,EAAS9B,SACzE8B,EAAS9B,QAAU8B,EAAS7B,aAAc6B,EAAS7B,WAAa6B,EAAS9B,SAC7E8B,EAASpB,OAASoB,EAAS9B,QAAUlD,EACjC+G,EAAK3C,MAAQY,EAAStB,SAAUsB,EAAStB,OAASqD,EAAK3C,OACvD2C,EAAK3C,MAAQY,EAASvB,UAAWuB,EAASvB,QAAUsD,EAAK3C,OACzDY,EAASpB,OAASoB,EAASlB,YAAakB,EAASlB,UAAYkB,EAASpB,QACtEoB,EAASpB,OAASoB,EAASnB,YAAamB,EAASnB,UAAYmB,EAASpB,SAGxEmD,EAAKE,SAAW,GAElBjC,EAASsC,SAAW,EACpBtC,EAASuC,YACLvC,EAASuC,UAAYvC,EAASzB,YAC9ByB,EAASzB,UAAYyB,EAASuC,WAIlCxC,EAAOoC,KAAK,aAAc,CACxBlE,MAAO+B,EAAS/B,MAChBgE,SAAUF,EAAKE,SACf7C,MAAO2C,EAAK3C,SAGI,IAAf2C,EAAK3C,QAENY,EAASuC,UAAY,EACrBvC,EAASsC,WACLtC,EAASsC,SAAWtC,EAASxB,aAC/BwB,EAASxB,WAAawB,EAASsC,WAMrCvC,EAAOhB,QAAQrB,KAAKR,QAAQ6E,GAExB9G,GACFO,EAAQiG,UAAUvE,QAAQpF,OAAO0J,OAAO,CACtCnC,OAASL,EAAMA,EAAIK,OAAS,EAC5BnB,QAAS8B,EAAS9B,QAClBU,OAASmD,EAAKE,SAAW,GAAKF,EAAKE,SAAW,GAAKF,EAAK3C,OAAS2C,EAAK3C,MACtEkC,SAAU7E,KAAKwD,IAAI8B,EAAK3E,MAAM,MAC7B2E,IAILhC,EAAOmC,UAAY,aAEnBnC,EAAOoC,KAAK,aAAc,CAAEhF,KAAM4E,EAAK5E,KAAMC,KAAM2E,EAAK3E,OAExDyE,EAASjI,GAtJL4I,CAAO5I,GAEPyI,MAKN,SAASA,IACHzB,GAAcC,GAChBZ,EAAKY,GAGPrF,EAAQR,gBAAkBA,EAC1BQ,EAAQ0C,QAAU8B,EAAS9B,QAC3B1C,EAAQmD,KAAOqB,EAASrB,KACxBnD,EAAQoD,OAASoB,EAASpB,OAC1BpD,EAAQkD,OAASsB,EAAStB,OAC1BlD,EAAQiD,QAAUuB,EAASvB,QAC3BjD,EAAQgD,WAAawB,EAASxB,WAC9BhD,EAAQ+C,UAAYyB,EAASzB,UAC7B/C,EAAQqD,UAAYmB,EAASnB,UAC7BrD,EAAQsD,UAAYkB,EAASlB,UAC7BtD,EAAQ2C,WAAa6B,EAAS7B,WAC9B3C,EAAQ4C,WAAa4B,EAAS5B,WAC9B5C,EAAQ6F,QAAR,GAAAoB,OAAqBzC,EAASrB,KAA9B,mBAAA8D,OAAoDjH,EAAQoD,OAAS,EAAI,MAAQ,OAAjF,KAAA6D,OAA4FjH,EAAQoD,OAAO,IAA3G,WAAA6D,OAAyHjH,EAAQ6F,SAAW,IAC5I7F,EAAQuD,QAAUgB,EAAOhB,QAAQvD,QACjCA,EAAQyE,IAAMU,EACdnF,EAAQ8F,SAAW9F,EAAQiG,UAAUiB,OAAO,SAACpC,EAAGqC,GAAJ,OAAWrC,IAAKqC,EAAErB,UAAU,GACxE9F,EAAQ+F,cAAgB/F,EAAQoD,QAAUpD,EAAQ8F,SAAR,MAC1C9B,EAAQhE,GAnCVqG,EAAS,QAkKEtG,sXC5TTqH,cACJ,SAAAA,EAAaC,GAAO,IAAAjF,EAAA,OAAA9F,OAAAgL,EAAA,EAAAhL,CAAA2F,KAAAmF,IAClBhF,EAAA9F,OAAAiL,EAAA,EAAAjL,CAAA2F,KAAA3F,OAAAkL,EAAA,EAAAlL,CAAA8K,GAAA7E,KAAAN,KAAMoF,KACDI,wBAA0BrF,EAAKqF,wBAAwBhE,KAA7BnH,OAAAoL,EAAA,EAAApL,CAAA8F,IAFbA,uFAKKhF,EAAKC,GAI5B,IAHA,IAAIsK,EAAOvK,EAAIwK,MAAM,KAEjBC,EAAM5F,KAAKoF,MAAMtK,OACZ+K,EAAI,EAAGA,EAAEH,EAAKnL,OAAQsL,IAC7BD,EAAMA,EAAIF,EAAKG,IAEjBD,EAAIxK,MAAQA,EACZ4E,KAAKoF,MAAMU,SAAS9F,KAAKoF,MAAMtK,yCAGvB,IAAA+G,EAAA7B,KAAA+F,EAC8C/F,KAAKoF,MAAnDtK,EADAiL,EACAjL,OADAkL,GAAAD,EACQD,SADRC,EACkBE,kBADlB,IAAAD,EAC8B,GAD9BA,EACqCE,EADrC7L,OAAA8L,EAAA,EAAA9L,CAAA0L,EAAA,mCAER,OACEK,EAAAvD,EAAAwD,cAAA,MAAAhM,OAAA0J,OAAA,GAASmC,EAAT,CAAeD,UAAS,yBAAAjB,OAA2BiB,KAC/CnL,EAAgBT,OAAOC,KAAKQ,GAAQwL,IAAI,SAACnL,GACzC,IAAIoL,EAAUzL,EAAOK,GAErB,OAAOqL,EADSC,EAAWF,EAAQlL,OAClBhB,OAAAqM,EAAA,EAAArM,CAAA,GACZkM,EADW,CAEdnI,KAAMjD,EACN2K,SAAUjE,EAAK2D,6BANR,aArBgBmB,aAwC7BF,EAAapM,OAAOuM,OAAO,CAC/BnG,QASF,SAAAtD,GAAmE,IAA1CiB,EAA0CjB,EAA1CiB,KAAMyI,EAAoC1J,EAApC0J,MAAOzL,EAA6B+B,EAA7B/B,MAAO0L,EAAsB3J,EAAtB2J,SAAUhB,EAAY3I,EAAZ2I,SACjD3J,EAAE,UAAA6I,OAAa5G,GACnB,OACEgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,sBAAsB9K,IAAKgB,GACxCiK,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,yBACbG,EAAAvD,EAAAwD,cAAA,SAAOU,QAAS5K,EAAI8J,UAAU,SAASY,GAASzI,IAElDgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,cACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,SACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,2BACbG,EAAAvD,EAAAwD,cAAA,SAAQhL,KAAK,SACL4K,UAAU,kBACV9J,GAAIA,EACJiC,KAAMA,EACNhD,MAAO4L,WAAW5L,GAAO,IACzB6L,UAAWH,EACXI,KAAK,IACLpB,SAAU,SAAUqB,GAClBrB,EAAS1H,EAA2C,IAArC4I,WAAWG,EAAUC,OAAOhM,WAErDgL,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,0BAAhB,aA5BVoB,SAsCF,SAAAC,GAA0D,IAAhClJ,EAAgCkJ,EAAhClJ,KAAMyI,EAA0BS,EAA1BT,MAAOzL,EAAmBkM,EAAnBlM,MAAO0K,EAAYwB,EAAZxB,SACxC3J,EAAE,UAAA6I,OAAa5G,GACnB,OACEgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,sBAAsB9K,IAAKgB,GACxCiK,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,yBACbG,EAAAvD,EAAAwD,cAAA,SAAOU,QAAS5K,EAAI8J,UAAU,SAASY,GAASzI,IAElDgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,cACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,SACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,WACbG,EAAAvD,EAAAwD,cAAA,SAAQhL,KAAK,WACL4K,UAAU,WACV9J,GAAIA,EACJiC,KAAMA,EACNmJ,UAAWnM,EACX0K,SAAU,SAAUqB,GAClBrB,EAAS1H,IAAQ+I,EAAUC,OAAOG,iBArDtDC,WA8DF,SAAAC,GAAsE,IAA1CrJ,EAA0CqJ,EAA1CrJ,KAAMyI,EAAoCY,EAApCZ,MAAOzL,EAA6BqM,EAA7BrM,MAAO0L,EAAsBW,EAAtBX,SAAUhB,EAAY2B,EAAZ3B,SACpD3J,EAAE,UAAA6I,OAAa5G,GACnB,OACEgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,sBAAsB9K,IAAKgB,GACxCiK,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,yBACbG,EAAAvD,EAAAwD,cAAA,SAAOU,QAAS5K,EAAI8J,UAAU,SAASY,GAASzI,IAElDgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,cACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,SACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,2BACbG,EAAAvD,EAAAwD,cAAA,SAAQhL,KAAK,SACL4K,UAAU,QACV9J,GAAIA,EACJiC,KAAMA,EACNhD,MAAO4L,WAAW5L,GAClB6L,UAAWH,EACXI,KAAK,OACLpB,SAAU,SAAUqB,GAClBrB,EAAS1H,EAAM4I,WAAWG,EAAUC,OAAOhM,WAErDgL,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,0BACdG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,uBAlFzByB,KA2FF,SAAAC,GAA4C,IAAtBvJ,EAAsBuJ,EAAtBvJ,KAAMyI,EAAgBc,EAAhBd,MACtB1K,GADsCwL,EAATvM,MAC3B,UAAA4J,OAAa5G,IACnB,OACEgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,QAAQ9K,IAAKgB,GAC1BiK,EAAAvD,EAAAwD,cAAA,SAAQJ,UAAU,QACVc,QAAS5K,GACd0K,KAhGPe,MAsGF,SAAAC,GAAgE,IAAzCzJ,EAAyCyJ,EAAzCzJ,KAAMyI,EAAmCgB,EAAnChB,MAAOzL,EAA4ByM,EAA5BzM,MAAOE,EAAqBuM,EAArBvM,QAASwK,EAAY+B,EAAZ/B,SAClD,SAASgC,EAAkB1J,EAAMhD,GAC/B0K,EAAS1H,EAAMhD,GAEjB,IAAIe,EAAE,UAAA6I,OAAa5G,GACnB,OACEgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,QAAQ9K,IAAKgB,GAC1BiK,EAAAvD,EAAAwD,cAAA,YAAU0B,MAAO,CAACC,MAAO,OAAQC,QAAS,cACxC7B,EAAAvD,EAAAwD,cAAA,UAAQJ,UAAU,wCACfY,GAASzI,GAEX/D,OAAOC,KAAKgB,GAAW,IAAIgL,IAAI,SAACnL,GAC/B,IAAM+M,EAAS5M,EAAQH,GACvB,OACEiL,EAAAvD,EAAAwD,cAAA,OAAKlL,IAAG,UAAA6J,OAAY7J,GAAO8K,UAAU,SACnCG,EAAAvD,EAAAwD,cAAA,SAAQhL,KAAK,QACL+C,KAAMA,EACNjC,GAAE,UAAA6I,OAAY5G,EAAZ,aAAA4G,OAA4B7J,GAC9BC,MAAOD,EACPoM,QAASnM,IAAUD,EACnB2K,SAAU,SAAUqB,GAClBrB,EAAS1H,EAAM+I,EAAUC,OAAOhM,UAP5C,OAUEgL,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,mBACZQ,EAAWyB,EAAO7M,MAAlBhB,OAAAqM,EAAA,EAAArM,CAAA,GACI6N,EADJ,CAECpC,SAAUgC,EACV1J,KAAI,GAAA4G,OAAK5G,EAAL,aAAA4G,OAAqB7J,aAjIzCS,KA4IF,SAAAuM,GAAgE,IAA1C/J,EAA0C+J,EAA1C/J,KAAMyI,EAAoCsB,EAApCtB,MAAOzL,EAA6B+M,EAA7B/M,MAAO0L,EAAsBqB,EAAtBrB,SAAUhB,EAAYqC,EAAZrC,SAC9C3J,EAAE,UAAA6I,OAAa5G,GACnB,OACEgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,sBAAsB9K,IAAKgB,GACxCiK,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,yBACbG,EAAAvD,EAAAwD,cAAA,SAAOU,QAAS5K,EAAI8J,UAAU,SAASY,GAASzI,IAElDgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,cACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,SACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,WACbG,EAAAvD,EAAAwD,cAAA,SAAQhL,KAAK,OACL4K,UAAU,QACV9J,GAAIA,EACJiC,KAAMA,EACNhD,MAAOA,EACP6L,UAAWH,EACXhB,SAAU,SAAUqB,GAClBrB,EAAS1H,EAAM+I,EAAUC,OAAOhM,eA5JpDgN,OAqKF,SAAAC,GAAkE,IAA1CjK,EAA0CiK,EAA1CjK,KAAMyI,EAAoCwB,EAApCxB,MAAOzL,EAA6BiN,EAA7BjN,MAAO0L,EAAsBuB,EAAtBvB,SAAUhB,EAAYuC,EAAZvC,SAChD3J,EAAE,UAAA6I,OAAa5G,GACnB,OACEgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,sBAAsB9K,IAAKgB,GACxCiK,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,yBACbG,EAAAvD,EAAAwD,cAAA,SAAOU,QAAS5K,EAAI8J,UAAU,SAASY,GAASzI,IAElDgI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,cACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,SACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,WACbG,EAAAvD,EAAAwD,cAAA,SAAQhL,KAAK,SACL4K,UAAU,QACV9J,GAAIA,EACJiC,KAAMA,EACNhD,MAAO4L,WAAW5L,GAClB6L,UAAWH,EACXI,KAAK,IACLpB,SAAU,SAAUqB,GAClBrB,EAAS1H,EAAM4I,WAAWG,EAAUC,OAAOhM,kBASlD+J,eC3OTmD,qBACJ,SAAAA,EAAalD,GAAO,IAAAjF,EAAA,OAAA9F,OAAAgL,EAAA,EAAAhL,CAAA2F,KAAAsI,IAClBnI,EAAA9F,OAAAiL,EAAA,EAAAjL,CAAA2F,KAAA3F,OAAAkL,EAAA,EAAAlL,CAAAiO,GAAAhI,KAAAN,KAAMoF,KACDmD,MAAQ,CACXC,iBAAarO,GAGfgG,EAAKsI,oBAAyBtI,EAAKsI,oBAAoBjH,KAAzBnH,OAAAoL,EAAA,EAAApL,CAAA8F,IAC9BA,EAAKuI,sBAAyBvI,EAAKuI,sBAAsBlH,KAA3BnH,OAAAoL,EAAA,EAAApL,CAAA8F,IAC9BA,EAAKwI,gBAAyBxI,EAAKwI,gBAAgBnH,KAArBnH,OAAAoL,EAAA,EAAApL,CAAA8F,IARZA,mFAYlBH,KAAK4I,UAAYC,IAASC,YAAY9I,MACtCA,KAAK2I,6DAGaI,EAAWC,GACzBhJ,KAAK0I,sBAAsBK,IAC7B/I,KAAK2I,mDAIC,IAAA5C,EAKsB/F,KAAKoF,MAL3BY,GAAAD,EAENkD,aAFMlD,EAEQmD,cAFRnD,EAGN9F,KAHM8F,EAGAoD,UAHApD,EAGWqD,UAHXrD,EAINsD,iBAJMtD,EAIYuD,mBAJZvD,EAKNE,kBALM,IAAAD,EAKM,GALNA,EAKaE,EALb7L,OAAA8L,EAAA,EAAA9L,CAAA0L,EAAA,qHAMR,OACEK,EAAAvD,EAAAwD,cAAA,MAAAhM,OAAA0J,OAAA,GAASmC,EAAT,CAAeD,UAAS,aAAAjB,OAAeiB,KACrCG,EAAAvD,EAAAwD,cAAA,OAAKkD,oBAAoB,kBACzBnD,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,oBAAoB8B,MAAO,CAAEyB,WAAaxJ,KAAKuI,MAAMC,iBAAcrO,EAAY,WAC5FiM,EAAAvD,EAAAwD,cAACoD,EAAD,CAASxD,UAAU,UAAUhG,KAAMD,KAAKuI,MAAMC,+DAMvB,IAARvI,EAAQ9C,EAAR8C,KACrBD,KAAK0J,SAAS,CAAElB,YAAavI,kDAGT8I,GAAW,IAAAlH,EAAA7B,KAU/B,MAJuB,CACrB,eAAgB,gBAChB,OAAQ,YAAa,aAED2J,KATJ,SAACC,GACjB,IAAI3G,EAAO8F,EAAUa,GACjBC,EAAUhI,EAAKuD,MAAMwE,GACzB,OAAO3G,IAAS4G,GAAYtG,MAAMuG,QAAQ7G,IAASA,EAAK1I,SAAWsP,EAAQtP,oDAmFjF,SAAAkN,GAUG,IATDmB,EASCnB,EATDmB,UACAK,EAQCxB,EARDwB,aACAC,EAOCzB,EAPDyB,cACAjJ,EAMCwH,EANDxH,KACAkJ,EAKC1B,EALD0B,UACAC,EAIC3B,EAJD2B,UACAW,EAGCtC,EAHDsC,gBACAV,EAEC5B,EAFD4B,iBACAC,EACC7B,EADD6B,mBAEA,IAAKV,EACH,MAAM,IAAI1N,UAAU,sCAEtB,GAAIqE,MAAM0J,IAAiB1J,MAAM2J,GAC/B,MAAM,IAAIhO,UAAU,oDAEtB,IAAKiO,IAAcC,GAAmC,oBAAfD,GAAmD,oBAAfC,EACzE,MAAM,IAAIlO,UAAU,+CAEtB,IAAK+E,IAASsD,MAAMuG,QAAQ7J,GAC1B,MAAM,IAAI/E,UAAU,2BAEtB,GAAI6O,GAA+C,oBAArBA,EAC5B,MAAM,IAAI7O,UAAU,wCAEtB,GAAImO,GAAoBC,GACY,kBAAxBA,GACwB,oBAAxBA,EACV,MAAM,IAAIpO,UAAU,uDAItB,IAAM8O,GADNpB,EAAYqB,IAAUrB,IACOsB,OAAO,OACpC,IAAKF,EAAc,MAAM,IAAI9O,UAAU,6CACvC,IAAIiP,EAAiBvB,EAAUsB,OAAO,YAEtCF,EACGI,KAAK,UADR,OAAApF,OAC0BiE,EAD1B,KAAAjE,OAC0CkE,IAE1C,IAAMmB,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,IAAKC,KAAM,IACjDC,EAAU,CAACJ,IAAK,IAAKC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAClDzC,GAASiB,EAAeoB,EAAOI,KAAOJ,EAAOE,MAC7CI,GAAUzB,EAAgBmB,EAAOC,IAAMD,EAAOG,OAC9CI,GAAW1B,EAAgBwB,EAAQJ,IAAMI,EAAQF,OAEvDR,EAAWa,UAAU,KAAKC,SAE1B,IAkBIC,EAlBEC,EAAUf,MAAiBgB,MAAM,CAAC,EAAGjD,IACrCkD,EAAUjB,MAAiBgB,MAAM,CAAC,EAAGjD,IACrCmD,EAAUlB,MAAiBgB,MAAM,CAACN,EAAQ,IAC1CS,EAAUnB,MAAiBgB,MAAM,CAACL,EAAS,IAE3CS,EAAQpB,IAAce,GACtBM,EAASrB,IAAciB,GACvBK,EAAQtB,IAAYkB,GAAQK,WAAW,SAAUC,GAAK,OAAQzM,KAAKiD,MAAMwJ,GAAG,MAG9EC,EAAQ,SAAUC,GAAK,OAAOX,EAAO7B,EAAUwC,KAC/CC,EAAQ,SAAUD,GAAK,OAAOR,EAAO/B,EAAUuC,KAC/CE,EAAO5B,MAAU6B,EAAEJ,GAAOK,EAAEH,GAI5BI,EAAQ/B,MAAU6B,EAFT,SAAUH,GAAK,OAAOT,EAAQ/B,EAAUwC,MAErBI,EADnB,SAAUJ,GAAK,OAAOP,EAAQhC,EAAUuC,MAIjDM,EAAQhC,MACPiC,OAAO,CAAC,CAAC,EAAG,GAAI,CAAClE,EAAO4C,KACxBuB,GAAG,YAmNR,WACE,GAAIlC,IAASmC,aAA6C,SAA9BnC,IAASmC,YAAY/Q,KAAiB,OAClE,IAAIgR,EAAIpC,IAASqC,WAAapB,EAAQD,QACtCD,EAAOuB,OAAOF,EAAE/F,IAAI4E,EAAQsB,OAAQtB,IAEpCuB,EAAQvC,OAAO,cACZE,KAAK,IAAKyB,GACbY,EAAQ5B,UAAU,eACfT,KAAK,KAAMsB,GACXtB,KAAK,KAAMwB,GAEVb,GAAU2B,EAAc3B,GAE5B4B,EAAOzC,OAAO,WAAW5J,KAAK+K,GAC9BrB,EAAWE,OAAO,SAAS5J,KAAKsM,EAAKC,UAAW5C,IAC7C6C,MAAM9E,GAASqE,EAAE,GAAKA,EAAE,KACxBU,WAAWV,EAAE,GAAI,MAjOlBO,EAAO3C,MACN+C,YAAY,CAAC,EAAGC,MAChBC,gBAAgB,CAAC,CAAC,EAAG,GAAI,CAAClF,EAAO2C,KACjCuB,OAAO,CAAC,CAAC,EAAG,GAAI,CAAClE,EAAO2C,KACxBwB,GAAG,OAgOR,WACE,GAAIlC,IAASmC,aAA6C,UAA9BnC,IAASmC,YAAY/Q,KAAkB,OACnE,IAAI8R,EAAIlD,IAAS4C,UACjB7B,EAAOuB,OAAOY,EAAEC,SAASlC,GAASqB,UAElCE,EAAQvC,OAAO,cACZE,KAAK,IAAKyB,GACbY,EAAQ5B,UAAU,eACfT,KAAK,KAAMsB,GACXtB,KAAK,KAAMwB,GAEVb,GAAU2B,EAAc3B,GAE5B4B,EAAOzC,OAAO,WAAW5J,KAAK+K,GAC9BpH,EAAQiG,OAAO,UAAU5J,KAAK2L,EAAMoB,KAAMrC,EAAOC,QAAQ3E,IAAI6G,EAAEG,QAASH,MAxO1EnD,EAAWuD,OAAO,QAAQA,OAAO,gBAC5BnD,KAAK,KAAM,QACXmD,OAAO,YACPnD,KAAK,QAASpC,GACdoC,KAAK,SAAUO,GACfP,KAAK,IAAK,GACVA,KAAK,IAAK,GAGf,IAKIoD,EALAf,EAAUzC,EAAWuD,OAAO,KAC3BnD,KAAK,QAAS,cACdA,KAAK,YAAa,aAAeC,EAAOI,KAAO,IAAMJ,EAAOC,IAAM,KAClEF,KAAK,YAAa,cAGnBf,KACFmE,EAAmBxD,EAAWuD,OAAO,MACpBnD,KAAK,QAAS,aACdA,KAAK,YAAa,aAAeC,EAAOI,KAAO,IAAMJ,EAAOC,IAAM,KAClEF,KAAK,YAAa,cACnCoD,EAAiBD,OAAO,QACPnD,KAAK,QAAS,mCAC/BoD,EAAiBD,OAAO,QACPnD,KAAK,QAAS,oCAGjC,IAAIuC,EAAS3C,EAAWuD,OAAO,KAC1BnD,KAAK,QAAS,QACdA,KAAK,YAAa,aAAeC,EAAOI,KAAO,IAAMJ,EAAOC,IAAM,KAEnErG,EAAU+F,EAAWuD,OAAO,KAC3BnD,KAAK,QAAS,WACdA,KAAK,YAAa,aAAeM,EAAQD,KAAO,IAAMC,EAAQJ,IAAM,KAGrEmD,EAAUzD,EAAWuD,OAAO,QAC7BnD,KAAK,QAAS,QACdA,KAAK,QAASpC,GACdoC,KAAK,SAAUO,GACfP,KAAK,YAAa,aAAeC,EAAOI,KAAO,IAAMJ,EAAOC,IAAM,KA4IrE,SAASoC,EAAcf,GACrB,IAAI+B,EAAU1C,EAAOuB,SACjBoB,EAAUxC,EAAOoB,SACrBiB,EACGtD,OAAO,qBACP0D,aACAC,KAAK5D,KACLG,KAAK,KAAMsB,EAAMC,IAAIvB,KAAK,KAAMe,EAAOwC,EAAQ,KAC/CvD,KAAK,KAAMsB,EAAMC,IAAIvB,KAAK,KAAMe,EAAOwC,EAAQ,KAC/C9J,SAAS,KACZ2J,EACGtD,OAAO,qBACP0D,aACAC,KAAK5D,KACLG,KAAK,KAAMY,EAAO0C,EAAQ,KAAKtD,KAAK,KAAMwB,EAAMD,IAChDvB,KAAK,KAAMY,EAAO0C,EAAQ,KAAKtD,KAAK,KAAMwB,EAAMD,IAChD9H,SAAS,MAvJd,SAAkB5D,GAEhB+K,EAAOuB,OAAOtC,IAAUhK,EAAMkJ,IAC9BgC,EAAOoB,OAAOtC,IAAUhK,EAAMmJ,IAC9B8B,EAAQqB,OAAOvB,EAAOuB,UACtBnB,EAAQmB,OAAOpB,EAAOoB,UAEtBI,EAAOY,OAAO,KACPnD,KAAK,QAAS,eACdA,KAAK,YAAa,eAAiBO,EAAS,KAC5CrK,KAAK+K,GAEZsB,EAAOY,OAAO,KACPnD,KAAK,QAAS,eACd9J,KAAKiL,GAGZkB,EAAQc,OAAO,QACPO,MAAM7N,GACNmK,KAAK,QAAS,aACdA,KAAK,IAAKyB,GAElBY,EAAQ5B,UAAU,eACV5K,KAAKA,GACL8N,QAAQR,OAAO,UACfnD,KAAK,QAAS,SAAUuB,GAAK,MAAO,eAA8B,IAAbA,EAAExK,OAAe,aAAgBwK,EAAExK,OAAS,EAAI,aAAe,eACpHiJ,KAAK,KAAMsB,GACXtB,KAAK,KAAMwB,GACXxB,KAAK,IAAK,GAElBnG,EAAQsJ,OAAO,QACPO,MAAM7N,GACNmK,KAAK,QAAS,aACdA,KAAK,IAAK4B,GAElB/H,EAAQsJ,OAAO,KACPnD,KAAK,QAAS,eACdA,KAAK,YAAa,eAAiBQ,EAAU,KAC7CtK,KAAKgL,GAEbrH,EAAQsJ,OAAO,KACPnD,KAAK,QAAS,SACd9J,KAAK2L,GACL3L,KAAK2L,EAAMoB,KAAMrC,EAAOC,SAEhCwC,EAAQnN,KAAKsM,GACba,EAAQtB,GAAG,YAsBX,WAEE,IAMIR,EANEqC,EAAS/D,IAASjK,MAAM,GACxBiO,EAAKjD,EAAOwB,OAAOwB,GACnBnI,EAAIqI,EAAOjO,EAAMgO,GACjBE,EAAKlO,EAAK4F,EAAI,GACduI,EAAKnO,EAAK4F,GAKX8F,EAFAyC,EACKD,GACDnP,KAAKqP,IAAIJ,EAAK9E,EAAUiF,IAAOpP,KAAKqP,IAAIJ,EAAK9E,EAAUgF,IAAOA,EADrDC,EADLD,EAIbpD,EAAWY,EAEXc,EAAQ5B,UAAU,eACdyD,QAAQ,QAAS,SAAC3C,GAAD,OAAOxC,EAAUwC,KAAOxC,EAAU4B,KACvD2B,EAAc3B,GAKlB,SAAsBY,GACpB,GAAIxB,GAAkBH,GAAcpB,GAAaK,GAAgBC,EAAe,CAC9E,IAGIqF,EAAUC,EAHVC,EAAWxE,IAASD,EAAW0E,QAC/BC,EAAiB1E,IAASrB,EAAU8F,QAGlCE,EAAgB,CACpBnE,KAAM,GACNH,IAAK,IAEDuE,EAAc1E,EAAeuE,OAAOI,wBAExCP,EADEE,EAAS,GAAKxF,EAAe4F,EAAY7G,MAChC2G,EAAe,GAAKE,EAAY7G,MAAQ4G,EAAcnE,KAEtDkE,EAAe,GAAKC,EAAcnE,KAI7C+D,EADEC,EAAS,GAAKvF,EAAgB2F,EAAYlE,OACjCgE,EAAe,GAAKE,EAAYlE,OAASiE,EAActE,IAEvDqE,EAAe,GAAKC,EAActE,IAe/CH,EACGpC,MAAM,MAAOyG,EAAW,MACxBzG,MAAM,OAAQwG,EAAW,MAExBxE,GACFA,EAAgB,CAAE9J,KAAM0L,KA5C1BoD,CAAYpD,KAvCXQ,GAAG,YAAa,WACXhC,GACFA,EAAepC,MAAM,UAAW,GAE9ByF,GACFA,EAAiBzF,MAAM,UAAW,KAGrCoE,GAAG,WAAY,WACVhC,GACFA,EAAepC,MAAM,UAAW,GAE9ByF,GACFA,EAAiBzF,MAAM,UAAW,GAEpC0E,EAAQ5B,UAAU,eAChByD,QAAQ,SAAS,KAGvB,IAAIJ,EAASjE,IAAY,SAAU0B,EAAGsC,GAAM,OAAOA,EAAK9E,EAAUwC,KAAMlB,KApE1EuE,CAAS/O,GApMPgP,CAAY,CACVrG,UAAW5I,KAAK4I,UAEhBK,aAAcjJ,KAAKoF,MAAM6D,aACzBC,cAAelJ,KAAKoF,MAAM8D,cAE1Ba,gBAAiB/J,KAAKyI,oBAEtBxI,KAAMD,KAAKoF,MAAMnF,KACjBkJ,UAAWnJ,KAAKoF,MAAM+D,UACtBC,UAAWpJ,KAAKoF,MAAMgE,UAEtBC,iBAAkBrJ,KAAKoF,MAAMiE,iBAC7BC,mBAAoBtJ,KAAKoF,MAAMkE,4BAtEb3C,cAqFlBuI,mLACM,IAAAC,EACoBnP,KAAKoF,MAAzBnF,EADAkP,EACAlP,KAASmP,EADT/U,OAAA8L,EAAA,EAAA9L,CAAA8U,EAAA,UAAA7H,EAE6DrH,GAAQ,GAArE9D,EAFAmL,EAEAnL,GAAIuD,EAFJ4H,EAEI5H,KAAMC,EAFV2H,EAEU3H,KAAMgC,EAFhB2F,EAEgB3F,MAAOC,EAFvB0F,EAEuB1F,OAAQ4C,EAF/B8C,EAE+B9C,SAAUrD,EAFzCmG,EAEyCnG,OAAQV,EAFjD6G,EAEiD7G,QACzD,OACE2F,EAAAvD,EAAAwD,cAAA,MAAU+I,EACPnP,GACCmG,EAAAvD,EAAAwD,cAAA,SAAOJ,UAAU,qCACfG,EAAAvD,EAAAwD,cAAA,aACED,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,qBACAD,EAAAvD,EAAAwD,cAAA,UAAKlK,IAEPiK,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,kBACAD,EAAAvD,EAAAwD,cAAA,UAAID,EAAAvD,EAAAwD,cAAA,SAAOJ,UAAU,QAAQ5K,KAAK,OAAOD,MAAOsE,EAAM2P,UAAU,MAElEjJ,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,kBACAD,EAAAvD,EAAAwD,cAAA,aAAArB,OAAQrF,EAAR,OAEFyG,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,iBACAD,EAAAvD,EAAAwD,cAAA,UAAe,IAAV1E,EAAc,cAAd,GAAAqD,OAAkCpD,EAAlC,MAAAoD,OAA6ChG,KAAKiD,MAAMN,GAAO,IAA/D,WAEPyE,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,uBACAD,EAAAvD,EAAAwD,cAAA,UAAK7B,EAAW,EAAX,GAAAQ,OAAkBR,EAAlB,KAAgC,MAEvC4B,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,oBACAD,EAAAvD,EAAAwD,cAAA,MAAIJ,UAAsB,IAAX9E,EAAe,mBAAsBA,EAAS,EAAI,mBAAqB,mBAAqBnC,KAAKiD,MAAMd,GAAQ,IAA9H,UAEFiF,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,qBACAD,EAAAvD,EAAAwD,cAAA,UAAKrH,KAAKiD,MAAMxB,GAAS,IAAzB,oBAnCMkG,aA2WP2B,QCjcTgH,6LAGF,OAAItP,KAAKoF,MAAMlL,QAAQqV,QACd,OAELvP,KAAKoF,MAAMlL,QAAQsV,SACd,MAELxP,KAAKoF,MAAMlL,QAAQuV,SACd,SAELzP,KAAKoF,MAAMlL,QAAQ6Q,SACd,OAEF,mDAIP/K,KAAKoF,MAAMlL,QAAQwC,wCAInB,IAAMgT,EAAY1P,KAAK0P,YADf3J,EAEoC/F,KAAKoF,MAAzClL,EAFA6L,EAEA7L,QAFA8L,EAAAD,EAESE,iBAFT,IAAAD,EAEqB,GAFrBA,EAE4BE,EAF5B7L,OAAA8L,EAAA,EAAA9L,CAAA0L,EAAA,yBAGR,OACEK,EAAAvD,EAAAwD,cAAA,MAAAhM,OAAA0J,OAAA,GAASmC,EAAT,CAAeD,UAAWA,KACR,SAAdyJ,GAAsC,WAAdA,IACxBtJ,EAAAvD,EAAAwD,cAACsJ,EAAD,CACEzV,QAASA,IAEE,SAAdwV,GACCtJ,EAAAvD,EAAAwD,cAACuJ,EAAD,CACEhV,OAAQV,EAAQqV,QAChBtR,MAAO/D,EAAQ2V,YACfC,SAAU5V,EAAQ4V,SAClBC,OAAQ7V,EAAQ6V,SAEL,QAAdL,GACCtJ,EAAAvD,EAAAwD,cAAC2J,EAAD,CACEpV,OAAQV,EAAQsV,SAChBvR,MAAO/D,EAAQ+V,YACfH,SAAU5V,EAAQ4V,SAClBC,OAAQ7V,EAAQ6V,SAEL,SAAdL,GACCtJ,EAAAvD,EAAAwD,cAAC6J,EAAD,CACEhW,QAASA,YA/CHyM,cAsDZwJ,mLACM,IAAAhB,EAC4BnP,KAAKoF,MADjCgL,EAAAjB,EACAlJ,iBADA,IAAAmK,EACY,GADZA,EACmBlK,EADnB7L,OAAA8L,EAAA,EAAA9L,CAAA8U,EAAA,eAER,OACE/I,EAAAvD,EAAAwD,cAAA,MAAAhM,OAAA0J,OAAA,GAASmC,EAAT,CAAeD,UAAS,GAAAjB,OAAKiB,KAC3BG,EAAAvD,EAAAwD,cAAA,SACED,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,kBAChBG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,kBAAhB,aAIFG,EAAAvD,EAAAwD,cAAA,SACED,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,0BAAhB,qBAIFG,EAAAvD,EAAAwD,cAAA,SACED,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,2BAAhB,MACKG,EAAAvD,EAAAwD,cAAA,KAAGgK,KAAK,4BAAR,mBAlBK1J,aA0Bd2J,mLACM,IAAAC,EACoCvQ,KAAKoF,MADzCoL,EAAAD,EACAtK,iBADA,IAAAuK,EACY,GADZA,EACgBtW,EADhBqW,EACgBrW,QAAYgM,EAD5B7L,OAAA8L,EAAA,EAAA9L,CAAAkW,EAAA,yBAEJE,EAAavW,EAAQuV,SAAWvV,EAAQuV,SAAStT,QAAKhC,EAC1D,OACEiM,EAAAvD,EAAAwD,cAAA,MAAAhM,OAAA0J,OAAA,GAASmC,EAAT,CAAeD,UAAS,2CAAAjB,OAA6CiB,KACnEG,EAAAvD,EAAAwD,cAAA,SAAOJ,UAAU,sBACfG,EAAAvD,EAAAwD,cAAA,aACED,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,MAAIqK,QAAQ,KACVtK,EAAAvD,EAAAwD,cAAA,MAAIJ,UAAU,iBAAd,eAIFG,EAAAvD,EAAAwD,cAAA,MAAIqK,QAAQ,KACVtK,EAAAvD,EAAAwD,cAACsK,EAAD,CACEC,QAAS,kBAAM1W,EAAQ2W,cAI/BzK,EAAAvD,EAAAwD,cAAA,aACGnM,EAAQ4W,MAAMC,WAAWzK,IAAI,SAAAnJ,GAAqB,IAAAmK,EAAAjN,OAAA2W,EAAA,EAAA3W,CAAA8C,EAAA,GAAZvC,GAAY0M,EAAA,GAAAA,EAAA,IAC7CnL,EAAKvB,EAAOuB,GAChB,OAAIA,IAAOsU,EAEPrK,EAAAvD,EAAAwD,cAAA,MAAIlL,IAAKgB,GACPiK,EAAAvD,EAAAwD,cAAA,UAAKzL,EAAOwD,MACZgI,EAAAvD,EAAAwD,cAAA,MAAIqK,QAAQ,IAAI3I,MAAO,CAAEkJ,SAAU,SACjC7K,EAAAvD,EAAAwD,cAAC6K,EAAD,CAAQ/V,IAAKgB,EACXvB,OAAQV,EAAQuV,SAChBK,SAAU5V,EAAQ4V,SAClBqB,kBAAmBjX,EAAQiX,sBAMnC/K,EAAAvD,EAAAwD,cAAA,MAAIlL,IAAKgB,GACPiK,EAAAvD,EAAAwD,cAAA,UAAKzL,EAAOwD,MACZgI,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAC+K,EAAD,CACER,QAAS,kBAAM1W,EAAQmX,SAASlV,OAEpCiK,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAACiL,EAAD,CACEV,QAAS,kBAAM1W,EAAQqX,OAAOpV,OAElCiK,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAACmL,EAAD,CACEZ,QAAS,kBAAM1W,EAAQuX,SAAStV,oBAjDnCwK,iBA0Eb+K,cACJ,SAAAA,EAAatM,GAAO,IAAAjF,EAAA,OAAA9F,OAAAgL,EAAA,EAAAhL,CAAA2F,KAAA0R,IAClBvR,EAAA9F,OAAAiL,EAAA,EAAAjL,CAAA2F,KAAA3F,OAAAkL,EAAA,EAAAlL,CAAAqX,GAAApR,KAAAN,KAAMoF,KACDmD,MAAQ,CACX3N,OAAQwK,EAAMlL,QAAQ6Q,SACtBxN,gBAAiB,IACjBF,SAAU,mEACVC,WAAY,IACZE,WAAW,GAPK2C,kFAWA4I,GAClB,GAAI/I,KAAKoF,MAAMlL,QAAQ6D,UAAYgL,EAAU7O,QAAQ6D,QAAS,CAC5D,IAAI4T,EAAiBC,SAASC,eAAe,WAC7C,GAAIF,EAAgB,CAClB,IAAM5F,EAAI4F,EAAe7C,wBAAwBxE,IAAMwH,OAAOC,QAC9DD,OAAOE,SAAS,CAAEC,SAAU,SAAU3H,IAAKyB,uCAKvC,IAAAlK,EAAA7B,KAAAkS,EACoClS,KAAKoF,MADzC+M,EAAAD,EACAjM,iBADA,IAAAkM,EACY,GADZA,EACgBjY,EADhBgY,EACgBhY,QAAYgM,EAD5B7L,OAAA8L,EAAA,EAAA9L,CAAA6X,EAAA,yBAER,OACE9L,EAAAvD,EAAAwD,cAAA,MAAAhM,OAAA0J,OAAA,GAASmC,EAAT,CAAeD,UAAS,uBAAAjB,OAAyBiB,KAC9CjG,KAAKuI,MAAM3N,QACVwL,EAAAvD,EAAAwD,cAAA,OAAKlL,IAAK6E,KAAKuI,MAAM3N,OAAOuB,IAC1BiK,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,qCACbG,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAC+L,EAAD,CACEnM,UAAS,GAAAjB,OAAK9K,EAAQmY,UAAY,aAAe,IACjDzB,QAAS1W,EAAQoY,aACnBlM,EAAAvD,EAAAwD,cAACiL,EAAD,CACErL,UAAU,kBACV2K,QAAS,kBAAM1W,EAAQqX,OAAO1P,EAAK0G,MAAM3N,OAAOuB,QAEpDiK,EAAAvD,EAAAwD,cAAA,MAAIJ,UAAU,OACdG,EAAAvD,EAAAwD,cAACkM,EAAD,CACEzX,OAAQkF,KAAKuI,MAAM3N,OAAOE,OAC1BgL,SAAU,SAAAhL,GACR+G,EAAK6H,SAAS,SAAAjC,GAAgB,IAAb7M,EAAa6M,EAAb7M,OAEf,OADAA,EAAOE,OAASA,EACT,CAAEF,eAGfwL,EAAAvD,EAAAwD,cAAA,MAAIJ,UAAU,OACdG,EAAAvD,EAAAwD,cAACmM,EAAD,CAAS3L,MAAM,mBACN4L,KAAK,gBACZrM,EAAAvD,EAAAwD,cAAA,SAAQJ,UAAU,kBACV5K,KAAK,SAAS4L,UAAU,EACxByL,IAAI,IAAIxL,KAAK,IACb9I,KAAK,kBACLhD,MAAO4E,KAAKuI,MAAMhL,gBAAgB,IAClCuI,SAAU,SAAC6M,GACT,IAAIC,EAAOvY,OAAAwY,EAAA,EAAAxY,CAAA,GAAMsY,EAAMvL,OAAOhJ,KAAwC,IAAjC4I,WAAW2L,EAAMvL,OAAOhM,QAC7DyG,EAAK6H,SAASkJ,OAG1BxM,EAAAvD,EAAAwD,cAACmM,EAAD,CAAS3L,MAAM,OACN4L,KAAK,cACZrM,EAAAvD,EAAAwD,cAAA,SAAQJ,UAAU,kBACV5K,KAAK,OAAO4L,UAAU,EACtB7I,KAAK,WACLhD,MAAO4E,KAAKuI,MAAMlL,SAClByI,SAAU,SAAC6M,GACT9Q,EAAK6H,SAALrP,OAAAwY,EAAA,EAAAxY,CAAA,GAAiBsY,EAAMvL,OAAOhJ,KAAOzC,OAAOgX,EAAMvL,OAAOhM,aAIrEgL,EAAAvD,EAAAwD,cAACmM,EAAD,CAAS3L,MAAM,QACN4L,KAAK,kBACZrM,EAAAvD,EAAAwD,cAAA,SAAQJ,UAAU,kBACV5K,KAAK,SAAS4L,UAAU,EACxByL,IAAI,IAAIxL,KAAK,IACb9I,KAAK,aACLhD,MAAO4E,KAAKuI,MAAMjL,WAClBwI,SAAU,SAAC6M,GACT9Q,EAAK6H,SAALrP,OAAAwY,EAAA,EAAAxY,CAAA,GAAiBsY,EAAMvL,OAAOhJ,KAAOW,SAAS4T,EAAMvL,OAAOhM,aAGvEgL,EAAAvD,EAAAwD,cAAA,MAAIJ,UAAU,OACdG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,oBACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,WACbG,EAAAvD,EAAAwD,cAAA,UAAQJ,UAAS,qBAAAjB,OAAuB9K,EAAQmY,UAAY,aAAe,IACnES,WACE9S,KAAKuI,MAAM3N,QACXoF,KAAKuI,MAAMlL,UACX2C,KAAKuI,MAAMjL,YACX0C,KAAKuI,MAAMhL,iBAEbqT,QAAS,WACP,IAAImC,EAAO,CACTnY,OAAQiH,EAAK0G,MAAM3N,OACnByC,SAAUwE,EAAK0G,MAAMlL,SACrBC,WAAYuE,EAAK0G,MAAMjL,WACvBC,gBAAiBsE,EAAK0G,MAAMhL,gBAC5BC,UAAWqE,EAAK0G,MAAM/K,WAExBtD,EAAQ8Y,YAAYD,KAf9B,eAoBF3M,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,WACbG,EAAAvD,EAAAwD,cAAA,SAAOJ,UAAU,YACfG,EAAAvD,EAAAwD,cAAA,SAAOJ,UAAU,WACV5K,KAAK,WACL+C,KAAK,YACLmJ,QAASvH,KAAKuI,MAAM/K,UACpBsI,SAAU,SAAC6M,GACV9Q,EAAK6H,SAALrP,OAAAwY,EAAA,EAAAxY,CAAA,GAAgBsY,EAAMvL,OAAOhJ,KAAO6U,QAAQN,EAAMvL,OAAOG,cANnE,qBAaJnB,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,YAAUJ,UAAU,WACV7K,MAAOlB,EAAQ6D,QAAU7D,EAAQ6D,QAAQyE,SAAMrI,EAC/CkV,UAAU,EACVtH,MAAO,CAACC,MAAO,OAAQ2C,OAAQ,QAASuI,OAAQ,QAChDC,YAAY,oCAM7BjZ,EAAQ6Q,UAAY7Q,EAAQ6D,SAC3BqI,EAAAvD,EAAAwD,cAAA,WAASJ,UAAU,WACjBG,EAAAvD,EAAAwD,cAAA,OAAKlK,GAAG,YACPjC,EAAQ6D,QAAQE,OACfmI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,0BACbG,EAAAvD,EAAAwD,cAAA,MAAIJ,UAAU,QAAd,SACAG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,wCACZtK,OAAOzB,EAAQ6D,QAAQE,UAI5B/D,EAAQ6D,QAAQE,OAChBmI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,WACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,uBACbG,EAAAvD,EAAAwD,cAAA,SAAOJ,UAAW,0CAChBG,EAAAvD,EAAAwD,cAAA,aACED,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,0BACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQmD,OAEvBkF,EAAAvD,EAAAwD,cAAA,UACAD,EAAAvD,EAAAwD,cAAA,sBACAD,EAAAvD,EAAAwD,cAAA,UApKtB,SAAkBxC,GAChB,IAAIuP,EAAerU,SAAU8E,EAAW,IAAQ,KAC9CwP,EAAUtU,SAAU8E,EAAW,IAAQ,IACvCyP,EAAUvU,SAAU8E,EAAQ,IAAkB,IAC9C0P,EAAQxU,SAAU8E,EAAQ,KAAuB,IAMnD,OAJA0P,EAASA,EAAQ,GAAM,IAAMA,EAAQA,GAItB,KAHfD,EAAWA,EAAU,GAAM,IAAMA,EAAUA,GAGZ,KAF/BD,EAAWA,EAAU,GAAM,IAAMA,EAAUA,GAEI,IAAMD,EA0J5BI,CAAStZ,EAAQ6D,QAAQ8F,YAE9BuC,EAAAvD,EAAAwD,cAAA,UACAD,EAAAvD,EAAAwD,cAAA,2BACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQR,gBAAgB,MAErC6I,EAAAvD,EAAAwD,cAAA,UACAD,EAAAvD,EAAAwD,cAAA,wBACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQ+C,YAErBsF,EAAAvD,EAAAwD,cAAA,UACAD,EAAAvD,EAAAwD,cAAA,yBACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQgD,aAErBqF,EAAAvD,EAAAwD,cAAA,UACAD,EAAAvD,EAAAwD,cAAA,0BACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQkD,OAAO,MAE5BmF,EAAAvD,EAAAwD,cAAA,UACAD,EAAAvD,EAAAwD,cAAA,yBACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQiD,QAAQ,MAE7BoF,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,wBACAD,EAAAvD,EAAAwD,cAAA,UAAKrH,KAAKiD,MAAM/H,EAAQ6D,QAAQsD,WAAW,MAE7C+E,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,wBACAD,EAAAvD,EAAAwD,cAAA,UAAKrH,KAAKiD,MAAM/H,EAAQ6D,QAAQqD,WAAW,MAE7CgF,EAAAvD,EAAAwD,cAAA,UACAD,EAAAvD,EAAAwD,cAAA,yBACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQ4C,WAAW,MAEhCyF,EAAAvD,EAAAwD,cAAA,UACAD,EAAAvD,EAAAwD,cAAA,yBACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQ2C,WAAW,MAEhC0F,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,wBACAD,EAAAvD,EAAAwD,cAAA,MAAIJ,UAAS,GAAAjB,OAAK9K,EAAQ6D,QAAQoD,QAAU,EAAI,mBAAqB,oBAAsBnC,KAAKiD,MAAM/H,EAAQ6D,QAAQoD,QAAQ,MAEhIiF,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,yBACAD,EAAAvD,EAAAwD,cAAA,UAAKnM,EAAQ6D,QAAQ0C,QAAQ,MAE9BvG,EAAQ6D,QAAQoD,OAAS,GACxBiF,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,6BACAD,EAAAvD,EAAAwD,cAAA,UAAKrH,KAAKiD,MAAM/H,EAAQ6D,QAAQ+F,eAAe,MAGnDsC,EAAAvD,EAAAwD,cAAA,UACED,EAAAvD,EAAAwD,cAAA,MAAIqK,QAAQ,KAAKxW,EAAQ6D,QAAQ6F,SAAW,QAKnD1J,EAAQ6D,QAAQiG,WACfoC,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,UACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,yBACbG,EAAAvD,EAAAwD,cAACoN,EAAc,CACbxK,aAAc,IACdC,cAAe,IACfjJ,KAAM/F,EAAQ6D,QAAQiG,UACtBmF,UAAW,SAACwC,GAAS,OAAOA,EAAExP,IAC9BiN,UAAW,SAACuC,GAAQ,OAAOA,EAAElL,SAC7B4I,kBAAkB,EAClBC,mBAAoB,SAACqC,GAAQ,OAAOA,EAAExK,OAAS,EAAI,aAAe,kBAO9EiF,EAAAvD,EAAAwD,cAACqN,EAAD,eAlOO/M,aA0ObgN,mLACM,IAAAC,EAAA5T,KACR,OACEoG,EAAAvD,EAAAwD,cAAA,WACIrG,KAAKoF,MAAMxK,OACXwL,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,yDAGAD,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,2BACbG,EAAAvD,EAAAwD,cAAA,UACEJ,UAAU,SACV2K,QAAS,WACP,IAAIzU,EAAKyX,EAAKxO,MAAMxK,OAAOuB,GAC3ByX,EAAKxO,MAAM+L,kBAAkBhV,GAAI,KAJrC,OAMAiK,EAAAvD,EAAAwD,cAAA,UACEJ,UAAU,SACV2K,QAAS5Q,KAAKoF,MAAM0K,UAFtB,QAZgB,aAJTnJ,aA2BfkN,mLACM,IAAAC,EAC4B9T,KAAKoF,MADjC2O,EAAAD,EACA7N,iBADA,IAAA8N,EACY,GADZA,EACmB7N,EADnB7L,OAAA8L,EAAA,EAAA9L,CAAAyZ,EAAA,eAER,OACE1N,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAS,qCAAAjB,OAAuCiB,IACnDG,EAAAvD,EAAAwD,cAAA,SAAAhM,OAAA0J,OAAA,GAAYmC,EAAZ,CAAkBD,UAAS,kBAAAjB,OAAoBiB,KAC7CG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,iBAAiB+B,MAAM,MAAM2C,OAAO,OAClDvE,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,yBAPAU,aAenBqN,mLACM,IAAAC,EAC4BjU,KAAKoF,MADjC8O,EAAAD,EACAhO,iBADA,IAAAiO,EACY,GADZA,EACmBhO,EADnB7L,OAAA8L,EAAA,EAAA9L,CAAA4Z,EAAA,eAER,OACE7N,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAW,uCACdG,EAAAvD,EAAAwD,cAAA,SAAAhM,OAAA0J,OAAA,GAAYmC,EAAZ,CAAkBD,UAAS,UAAAjB,OAAYiB,KACrCG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,iBAAiB+B,MAAM,MAAM2C,OAAO,OAClDvE,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,0BAPEU,aAerBwN,mLACM,IAAAC,EAC4BpU,KAAKoF,MADjCiP,EAAAD,EACAnO,iBADA,IAAAoO,EACY,GADZA,EACmBnO,EADnB7L,OAAA8L,EAAA,EAAA9L,CAAA+Z,EAAA,eAER,OACEhO,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAW,uCACdG,EAAAvD,EAAAwD,cAAA,SAAAhM,OAAA0J,OAAA,GAAYmC,EAAZ,CAAkBD,UAAS,UAAAjB,OAAYiB,KACrCG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,iBAAiB+B,MAAM,MAAM2C,OAAO,OAClDvE,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,+BAPEU,aAerB2N,mLACM,IAAAC,EAC4BvU,KAAKoF,MADjCoP,EAAAD,EACAtO,iBADA,IAAAuO,EACY,GADZA,EACmBtO,EADnB7L,OAAA8L,EAAA,EAAA9L,CAAAka,EAAA,eAER,OACEnO,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,oDACbG,EAAAvD,EAAAwD,cAAA,SAAAhM,OAAA0J,OAAA,GAAYmC,EAAZ,CAAkBD,UAAS,qBAAAjB,OAAuBiB,KAChDG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,iBAAiB+B,MAAM,MAAM2C,OAAO,OAClDvE,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,iBAEfG,EAAAvD,EAAAwD,cAAA,4BATcM,aAgBlB8N,mLACM,IAAAC,EAC4B1U,KAAKoF,MADjCuP,EAAAD,EACAzO,iBADA,IAAA0O,EACY,GADZA,EACmBzO,EADnB7L,OAAA8L,EAAA,EAAA9L,CAAAqa,EAAA,eAER,OACEtO,EAAAvD,EAAAwD,cAAA,IAAAhM,OAAA0J,OAAA,GAAOmC,EAAP,CAAaD,UAAS,oBAAAjB,OAAsBiB,KAC1CG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,kBACdG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,uBAEfG,EAAAvD,EAAAwD,cAAA,+BARmBM,aAcrBiO,mLACM,IAAAjN,EACqC3H,KAAKoF,OAAS,GADnDyP,EAAAlN,EACA1B,iBADA,IAAA4O,EACY,GADZA,EACgBjE,EADhBjJ,EACgBiJ,QAAY1K,EAD5B7L,OAAA8L,EAAA,EAAA9L,CAAAsN,EAAA,yBAER,OACEvB,EAAAvD,EAAAwD,cAAA,SAAAhM,OAAA0J,OAAA,GAAYmC,EAAZ,CAAkBD,UAAS,oBAAAjB,OAAsBiB,GAC7C2K,QAAS,WACPkB,OAAOgD,OAAO,CAAExK,IAAK,EAAG2H,SAAU,WAC9BrB,GAASA,OAEjBxK,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,kBACdG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,qBAEfG,EAAAvD,EAAAwD,cAAA,mCAZsBM,aAkBxBoO,cAEJ,SAAAA,EAAa3P,GAAO,IAAA4P,EAAA,OAAA3a,OAAAgL,EAAA,EAAAhL,CAAA2F,KAAA+U,IAClBC,EAAA3a,OAAAiL,EAAA,EAAAjL,CAAA2F,KAAA3F,OAAAkL,EAAA,EAAAlL,CAAA0a,GAAAzU,KAAAN,KAAMoF,KACD6P,MAAQD,EAAKC,MAAMzT,KAAXnH,OAAAoL,EAAA,EAAApL,CAAA2a,IACbA,EAAKhY,KAAOgY,EAAKhY,KAAKwE,KAAVnH,OAAAoL,EAAA,EAAApL,CAAA2a,IAHMA,qEAMbrC,GACDA,GAASA,EAAMuC,iBACnBlV,KAAKoF,MAAM0K,wCAGP6C,GACAA,GAASA,EAAMuC,iBACnB,IAAM/Y,EAAOR,OAAOgX,EAAMvL,OAAOjL,GAAGf,OAAS,IAAIS,OAC3CuC,EAAOzC,OAAOgX,EAAMvL,OAAOhJ,KAAKhD,OAAS,IAAIS,OAC7CD,EAAOD,OAAOgX,EAAMvL,OAAOxL,KAAKR,OAAS,IAAIS,OAC7CjB,EAAMP,OAAAqM,EAAA,EAAArM,CAAA,GAAQ2F,KAAKoF,MAAMxK,OAAnB,CAA2BuB,KAAIiC,OAAMxC,SACjDoE,KAAKoF,MAAM2K,OAAOnV,oCAGV,IAAAua,EAAAnV,KACR,OACEoG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAW,6BAA+BjG,KAAKoF,MAAMxK,OAAS,aAAe,KAChFwL,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,qBACfG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,aAAa8B,MAAO,CAAEC,MAAO,QAC1C5B,EAAAvD,EAAAwD,cAAA,QAAMlK,GAAG,YAAYiZ,SAAU,SAACzC,GAAUwC,EAAKnY,KAAK2V,KAClDvM,EAAAvD,EAAAwD,cAAA,UAAQJ,UAAU,mBAChBG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,oBAAb,eACAG,EAAAvD,EAAAwD,cAAA,UAAQJ,UAAU,SACV2K,QAAS5Q,KAAKiV,SAGxB7O,EAAAvD,EAAAwD,cAAA,WAASJ,UAAU,mBAChBjG,KAAKoF,MAAMnH,OACVmI,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,2BACbG,EAAAvD,EAAAwD,cAAA,SAAGD,EAAAvD,EAAAwD,cAAA,wBACHD,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,yCACZtK,OAAOqE,KAAKoF,MAAMnH,SAIzBmI,EAAAvD,EAAAwD,cAAA,SAAQJ,UAAU,QACV5K,KAAK,SACL+C,KAAK,KACLiX,aAAcrV,KAAKoF,MAAMxK,OAASoF,KAAKoF,MAAMxK,OAAOuB,GAAK,KACjEiK,EAAAvD,EAAAwD,cAAA,SAAQJ,UAAU,kBACVgB,UAAU,EACV5L,KAAK,OACL+C,KAAK,OACLiX,aAAcrV,KAAKoF,MAAMxK,OAASoF,KAAKoF,MAAMxK,OAAOwD,KAAO,KACnEgI,EAAAvD,EAAAwD,cAAA,YAAUJ,UAAU,uCACVgB,UAAU,EACVqO,KAAK,KACLlX,KAAK,OACLiX,aAAcrV,KAAKoF,MAAMxK,OAASoF,KAAKoF,MAAMxK,OAAOgB,KAAO,MAGvEwK,EAAAvD,EAAAwD,cAAA,UAAQJ,UAAU,mBAChBG,EAAAvD,EAAAwD,cAAA,UAAQJ,UAAU,oBACV5K,KAAK,UADb,eAIA+K,EAAAvD,EAAAwD,cAAA,UAAQJ,UAAU,SACV2K,QAAS5Q,KAAKiV,OADtB,qBAhEKtO,aAsFb4O,wIAAYR,GAYZS,mLACM,IAAAC,EACmDzV,KAAKoF,MAAxDsQ,EADAD,EACAC,SAAU7O,EADV4O,EACU5O,MAAO4L,EADjBgD,EACiBhD,KADjBkD,EAAAF,EACuBxP,iBADvB,IAAA0P,EACmC,GADnCA,EAC0CzP,EAD1C7L,OAAA8L,EAAA,EAAA9L,CAAAob,EAAA,yCAER,OACErP,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,4BACF9L,IAAV0M,EAAsB,KACrBT,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,yBACbG,EAAAvD,EAAAwD,cAAA,SAAOJ,UAAU,SACdY,IAIPT,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,cACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,SACbG,EAAAvD,EAAAwD,cAAA,MAAAhM,OAAA0J,OAAA,CAAKkC,UAAS,WAAAjB,OAAayN,EAAO,kBAAoB,GAAxC,KAAAzN,OAA8CiB,IAAiBC,GAC1EwP,EACAjD,GACCrM,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,yBACdG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAWwM,gBAlBV9L,aA8BPiP,EAAA,CAAEtG,MAAKa,QAAO0D,cChoBvBgC,cACJ,SAAAA,EAAazQ,GAAO,IAAAjF,EAAA,OAAA9F,OAAAgL,EAAA,EAAAhL,CAAA2F,KAAA6V,IAClB1V,EAAA9F,OAAAiL,EAAA,EAAAjL,CAAA2F,KAAA3F,OAAAkL,EAAA,EAAAlL,CAAAwb,GAAAvV,KAAAN,KAAMoF,KACDmD,MAAQ,CACXuN,QAAQ,GAHQ3V,wEAOV,IAAA0B,EAAA7B,KAAA+F,EAC4B/F,KAAKoF,MADjCY,EAAAD,EACAE,iBADA,IAAAD,EACY,GADZA,EACmBE,EADnB7L,OAAA8L,EAAA,EAAA9L,CAAA0L,EAAA,eAER,OACEK,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,SAAAhM,OAAA0J,OAAA,GAAYmC,EAAZ,CAAkBD,UAAS,UAAAjB,OAAYiB,GAC/B2K,QAAS,kBAAM/O,EAAK6H,SAAS,CAAEoM,QAAQ,OAC7C1P,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,kBACdG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,wBAEfG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,gBAAhB,eAEFG,EAAAvD,EAAAwD,cAAC0P,EAAD,CACED,OAAQ9V,KAAKuI,MAAMuN,OACnBE,QAAS,kBAAMnU,EAAK6H,SAAS,CAAEoM,QAAQ,eArBlBnP,aA2BzBsP,mLAEF,OACE7P,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAW,SAAWjG,KAAKoF,MAAM0Q,OAAS,aAAe,KAC5D1P,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,mBACV2K,QAAS5Q,KAAKoF,MAAM4Q,UAEzB5P,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,iBACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,OACbG,EAAAvD,EAAAwD,cAAA,MAAIJ,UAAU,cACZG,EAAAvD,EAAAwD,cAAA,QACEJ,UAAU,kBACVG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,wBAHjB,cAOAG,EAAAvD,EAAAwD,cAAA,iGACAD,EAAAvD,EAAAwD,cAAA,sFACAD,EAAAvD,EAAAwD,cAAA,qFACAD,EAAAvD,EAAAwD,cAAA,2IAGJD,EAAAvD,EAAAwD,cAAA,UACEJ,UAAU,uBACV2K,QAAS5Q,KAAKoF,MAAM4Q,kBAxBArP,aC3BxBuP,cACJ,SAAAA,EAAa9Q,GAAO,IAAAjF,EAAA,OAAA9F,OAAAgL,EAAA,EAAAhL,CAAA2F,KAAAkW,IAClB/V,EAAA9F,OAAAiL,EAAA,EAAAjL,CAAA2F,KAAA3F,OAAAkL,EAAA,EAAAlL,CAAA6b,GAAA5V,KAAAN,KAAMoF,KACDmD,MAAQ,CACXuN,QAAQ,GAHQ3V,wEAOV,IAAA0B,EAAA7B,KAAA+F,EAC4B/F,KAAKoF,MADjCY,EAAAD,EACAE,iBADA,IAAAD,EACY,GADZA,EACmBE,EADnB7L,OAAA8L,EAAA,EAAA9L,CAAA0L,EAAA,eAER,OACEK,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,SAAAhM,OAAA0J,OAAA,GAAYmC,EAAZ,CACQD,UAAS,UAAAjB,OAAYiB,GACrB2K,QAAS,kBAAM/O,EAAK6H,SAAS,CAAEoM,QAAQ,OAC7C1P,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,QACdG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,6BAEfG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,gBAAhB,kBAEFG,EAAAvD,EAAAwD,cAAC8P,EAAD,CACEL,OAAQ9V,KAAKuI,MAAMuN,OACnBE,QAAS,kBAAMnU,EAAK6H,SAAS,CAAEoM,QAAQ,eAtBtBnP,aA6BrByP,mLAEF,OACEhQ,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAW,SAAWjG,KAAKoF,MAAM0Q,OAAS,aAAe,KAC5D1P,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,mBACV2K,QAAS5Q,KAAKoF,MAAM4Q,UAEzB5P,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,iBACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,OACbG,EAAAvD,EAAAwD,cAAA,SAAGD,EAAAvD,EAAAwD,cAAA,wCACHD,EAAAvD,EAAAwD,cAAA,uEACED,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,kBACdG,EAAAvD,EAAAwD,cAAA,KAAGJ,UAAU,6BAGjBG,EAAAvD,EAAAwD,cAAA,sFACAD,EAAAvD,EAAAwD,cAAA,SACED,EAAAvD,EAAAwD,cAAA,KAAGgK,KAAK,2BACLjJ,OAAO,SAASiP,IAAI,uBACrBjQ,EAAAvD,EAAAwD,cAAA,yCAEFD,EAAAvD,EAAAwD,cAAA,+BAA4BD,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,WAAhB,UAE9BG,EAAAvD,EAAAwD,cAAA,SACED,EAAAvD,EAAAwD,cAAA,KAAGgK,KAAK,kCACLjJ,OAAO,SAASiP,IAAI,uBACrBjQ,EAAAvD,EAAAwD,cAAA,mDAKRD,EAAAvD,EAAAwD,cAAA,UACEJ,UAAU,uBACV2K,QAAS5Q,KAAKoF,MAAM4Q,kBAjCJrP,aCGX2P,MA3Bf,SAAkBlR,GAChB,OACEgB,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,OACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,qBACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,aACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,gBACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,eACbG,EAAAvD,EAAAwD,cAACuP,EAAezF,MAAhB,QAGJ/J,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,cACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,eACbG,EAAAvD,EAAAwD,cAAA,OAAKJ,UAAU,WACbG,EAAAvD,EAAAwD,cAACkQ,EAAD,CAAkBtQ,UAAU,aAC5BG,EAAAvD,EAAAwD,cAACmQ,EAAD,CAAcvQ,UAAU,kBAMlCG,EAAAvD,EAAAwD,cAAA,QAAMJ,UAAU,6BACdG,EAAAvD,EAAAwD,cAACuP,EAAetG,IAAhB,CAAoBpV,QAASkL,EAAMlL,6BCZ5Buc,EAhBK,CAClBC,OAAc,iBACdC,IAAc,cACdC,aAAc,uBACdC,QAAc,kBACdC,KAAc,eACdC,aAAc,uBACdC,QAAc,kBACdC,OAAc,iBACdC,OAAc,iBACdC,aAAc,uBACdC,QAAc,kBACdC,SAAc,mBACdC,UAAc,qBCXDC,EAAA,UAAIC,YCiCJC,EAAA,gBA7Bb,SAAAC,IAAe,OAAArd,OAAAgL,EAAA,EAAAhL,CAAA2F,KAAA0X,GAAArd,OAAAiL,EAAA,EAAAjL,CAAA2F,KAAA3F,OAAAkL,EAAA,EAAAlL,CAAAqd,GAAApX,KAAAN,KACPuX,mFAIN,OAAOI,IAAUC,4CAGZrP,EAAOsP,GAEZ,OAAQA,EAAOxc,MACb,KAAKyc,EAAkBpB,OACrB,OAAOnO,EAAMwP,QAAQC,MAAMH,EAAO3d,SAEpC,KAAK4d,EAAkBV,QACrB,OAAO7O,EAAMtL,OAAO4a,EAAO1b,IAE7B,KAAK2b,EAAkBjB,QAGvB,KAAKiB,EAAkBd,QACrB,OAAOzO,EAAM0P,IAAIJ,EAAOjd,OAAOuB,GAAI0b,EAAOjd,QAE5C,QACE,OAAO2N,UAzBW2P,wBCqFXC,EAAA,gBAnFb,SAAAC,IAAe,OAAA/d,OAAAgL,EAAA,EAAAhL,CAAA2F,KAAAoY,GAAA/d,OAAAiL,EAAA,EAAAjL,CAAA2F,KAAA3F,OAAAkL,EAAA,EAAAlL,CAAA+d,GAAA9X,KAAAN,KACPuX,mFAIN,OAAOI,IAAUC,WAAW,CAC1BpI,cAAUrV,EACVke,eAAWle,EACXsW,gBAAYtW,EACZme,gBAAYne,EACZoe,cAAc,EACdxa,aAAS5D,EACT8D,WAAO9D,mCAIJoO,EAAOsP,GACZ,OAAQA,EAAOxc,MACb,KAAKyc,EAAkBnB,IACrB,OAAOpO,EAAM0P,IAAI,WAAY5d,OAAO0J,OAAO,GAAIjH,IAAgBqB,aAClD8Z,IAAI,mBAAe9d,GAElC,KAAK2d,EAAkBjB,QACrB,OAAOtO,EAAM0P,IAAI,gBAAY9d,GAChB8d,IAAI,mBAAe9d,GAElC,KAAK2d,EAAkBlB,aACrB,OAAOrO,EAAM0P,IAAI,cAAeJ,EAAO5Z,OAGzC,KAAK6Z,EAAkBhB,KACrB,OAAOvO,EAAM0P,IAAI,YAAaJ,EAAO1b,IACxB8b,IAAI,mBAAe9d,GAElC,KAAK2d,EAAkBd,QACrB,OAAOzO,EAAM0P,IAAI,iBAAa9d,GACjB8d,IAAI,mBAAe9d,GAElC,KAAK2d,EAAkBf,aACrB,OAAOxO,EAAM0P,IAAI,cAAeJ,EAAO5Z,OAGzC,KAAK6Z,EAAkBZ,OACrB,OAAO3O,EAAM0P,IAAI,aAAcJ,EAAO1b,IACzB8b,IAAI,mBAAe9d,GAElC,KAAK2d,EAAkBV,QACrB,OAAO7O,EAAM0P,IAAI,kBAAc9d,GAClB8d,IAAI,mBAAe9d,GAElC,KAAK2d,EAAkBX,aACrB,OAAO5O,EAAM0P,IAAI,cAAeJ,EAAO5Z,OAGzC,KAAK6Z,EAAkBb,OACrB,OAAO1O,EAAM0P,IAAI,gBAAY9d,GAChB8d,IAAI,iBAAa9d,GACjB8d,IAAI,kBAAc9d,GAClB8d,IAAI,mBAAe9d,GACnB8d,IAAI,mBAAe9d,GACnB8d,IAAI,mBAAe9d,GAElC,KAAK2d,EAAkBU,OACrB,OAAOjQ,EAAM0P,IAAI,aAAcJ,EAAO1b,IACzB8b,IAAI,eAAW9d,GAE9B,KAAK2d,EAAkBW,SACrB,OAAOlQ,EAAM0P,IAAI,kBAAc9d,GAEjC,KAAK2d,EAAkBT,SACrB,OAAO9O,EAAM0P,IAAI,eAAW9d,GACf8d,IAAI,gBAAgB,GAEnC,KAAKH,EAAkBR,UACrB,OAAO/O,EAAM0P,IAAI,UAAWJ,EAAO9Z,SACtBka,IAAI,gBAAgB,GAEnC,QACE,OAAO1P,UA/Ee2P,wBCFxBQ,EAAU,CAEdhc,KAFc,WAGZ,IAAIxC,EAAUuC,IAAYC,OAC1B6a,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBpB,OAAQxc,aAG9DyC,eAPc,WAQZ,IAAIzC,EAAUuC,IAAYE,iBAC1B4a,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBpB,OAAQxc,aAG9D+C,OAZc,SAYNd,GACNob,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBZ,OAAQ/a,QAG9Dyc,gBAhBc,SAgBGzc,GACfM,IAAYQ,OAAOd,GACnBob,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBV,QAASjb,QAG/Da,KArBc,SAqBRpC,GACJ,GAAKA,EAAOuB,GAQV,IACEM,IAAYO,KAAKpC,GACjB2c,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBd,QAASpc,WAC7D,MAAOZ,GACPud,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBf,aAAcnc,SAAQqD,MAAOjE,SAXnF,IACEyC,IAAYO,KAAKpC,GACjB2c,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBjB,QAASjc,WAC7D,MAAOZ,GACPud,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBlB,aAAchc,SAAQqD,MAAOjE,MAYvF6e,IAvCc,WAwCZtB,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBnB,OAGtDmC,KA3Cc,SA2CR3c,GACJob,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBhB,KAAM3a,QAG5D4c,OA/Cc,WAgDZxB,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBb,UAGtD/M,OAnDc,SAmDN/N,GACNob,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBU,OAAQrc,QAG9D6c,SAvDc,WAwDZzB,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBW,YAGtDvb,UA3Dc,SA2DHE,GACTsb,EAAQ1b,KAAKI,EAASxC,QAEtB2c,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBT,SAAUja,aAC9DX,IACGS,UAAUE,GACVO,KAAK,SAACI,GACLwZ,EAAiBoB,SAAS,CAAEtd,KAAMyc,EAAkBR,UAAWvZ,gBAKxD2a,IC7BAO,mBAAUC,iBAAiB5C,EAxC1C,WACE,MAAO,CACLoB,EACAU,IAIJ,WACE,IAAItH,EAAQ4G,EAAYyB,WACpBC,EAAOhB,EAAgBe,WAC3B,MAAO,CACLjf,QAAQG,OAAAqM,EAAA,EAAArM,CAAA,GACH,CACDyW,MAAOA,EACPtB,SAAU4J,EAAKC,IAAI,YACnB9J,QAASuB,EAAMuI,IAAID,EAAKC,IAAI,cAC5B5J,SAAUqB,EAAMuI,IAAID,EAAKC,IAAI,eAC7BtO,SAAU+F,EAAMuI,IAAID,EAAKC,IAAI,eAC7BhH,UAAW+G,EAAKC,IAAI,gBACpBtb,QAASqb,EAAKC,IAAI,WAClBpJ,YAAamJ,EAAKC,IAAI,eACtBxJ,YAAauJ,EAAKC,IAAI,eACtBC,YAAaF,EAAKC,IAAI,gBAErB,CACD3c,KAAM6c,EAAc7c,KACpBmU,MAAO0I,EAAcV,IACrBtH,OAAQgI,EAAcT,KACtBhJ,SAAUyJ,EAAcR,OACxBhJ,OAAQwJ,EAAcvc,KACtByU,SAAU8H,EAActc,OACxBkU,kBAAmBoI,EAAcX,gBACjCvH,SAAUkI,EAAcrP,OACxBoI,WAAYiH,EAAcP,SAC1BhG,YAAauG,EAAcrc,eC5Bf+V,QACW,cAA7BnB,OAAO0H,SAASC,UAEe,UAA7B3H,OAAO0H,SAASC,UAEhB3H,OAAO0H,SAASC,SAAShe,MACvB,2DCZNoN,IAAS6Q,OAAOtT,EAAAvD,EAAAwD,cAACsT,GAAD,MAAkB/H,SAASC,eAAe,SD2HpD,kBAAmB+H,WACrBA,UAAUC,cAAcC,MAAMnc,KAAK,SAAAoc,GACjCA,EAAaC","file":"static/js/main.e3749148.chunk.js","sourcesContent":["import ScriptConstants from './ScriptConstants'\r\nimport simulate from './simulate'\r\nimport CryptoJS from \"crypto-js\"\r\n\r\n/*\r\n Helper functions\r\n*/\r\n\r\nfunction getLocalStorageScripts () {\r\n  try {\r\n    return JSON.parse(localStorage.getItem('scripts'))\r\n  } catch (e) {\r\n    return null\r\n  }\r\n}\r\n\r\nfunction setLocalStorageScripts (scripts) {\r\n  if (scripts === undefined ||\r\n      scripts === null ||\r\n      (scripts.constructor === Object && Object.keys(scripts).length === 0)) {\r\n    localStorage.removeItem('scripts')\r\n  } else {\r\n    localStorage.setItem('scripts', JSON.stringify(scripts))\r\n  }\r\n}\r\n\r\nfunction onBeforeSave (script) {\r\n  let oldConfig = script.config;\r\n  script.config = getConfigFromScriptText(script)\r\n  assignConfigValues(script.config, oldConfig)\r\n}\r\n\r\nfunction assignConfigValues(config, values) {\r\n  if (!config || config.constructor !== Object) {\r\n    throw new TypeError('config should be an object')\r\n  }\r\n  if (values && values.constructor !== Object) {\r\n    throw new TypeError('values should be undefined or an object')\r\n  }\r\n  if (!values) return config;\r\n  for (const key in values) {\r\n    if (!values[key] || values[key].constructor !== Object) continue;\r\n    if (!config[key]) continue;\r\n    if (values[key].value === undefined) continue;\r\n    config[key].value = values[key].value\r\n    if (config[key].type === 'radio') {\r\n      config[key].options = assignConfigValues(config[key].options || {}, values[key].options)\r\n    }\r\n  } \r\n  return config\r\n}\r\n\r\n/**\r\n * There should be a <code>var config = ...</code> at the top of the script.\r\n * This function will extract that variable from the script and return it as an object,\r\n * together with the remaining script text.\r\n * @param {string} script.text The script's actual raw text\r\n * @returns {Array} The config and the remaining script text.\r\n */\r\nfunction splitConfigFromScriptText (script) {\r\n  const regexp = /^\\s?(var config = {(?:.|\\s)*?^};?)((?:.|\\s)*)$/gm\r\n  const match = regexp.exec(String(script.text).trim())\r\n\r\n  if (match === null) {\r\n    throw new TypeError('The script should begin with: \\r\\nvar config = {\\r\\n  ...\\r\\n}\\r\\n')\r\n  }\r\n  const config = eval(match[1] + '\\r\\nconfig;')\r\n  return [config, match[2]]\r\n}\r\n\r\nfunction getConfigFromScriptText (script) {\r\n  return splitConfigFromScriptText(script)[0]\r\n}\r\n\r\nfunction getScriptTextWithoutConfig (script) {\r\n  return splitConfigFromScriptText(script)[1]\r\n}\r\n\r\nfunction getUniqueID (existingIds) {\r\n  for (let attempt = 0; attempt < 3; attempt++) {\r\n    let id = String(CryptoJS.lib.WordArray.random(16))\r\n    if (!existingIds || existingIds.indexOf(id) === -1) {\r\n      return id\r\n    }\r\n  }\r\n}\r\n\r\nconst ScriptUtils = {\r\n  /**\r\n   * Load scripts from localStorage.\r\n   * Will insert sample scripts if there are no scripts yet.\r\n   * @returns {Object.<string, Object>} all scripts\r\n   */\r\n  load () {\r\n    let scripts = getLocalStorageScripts()\r\n    if (scripts === null || scripts === undefined) {\r\n      scripts = ScriptUtils.restoreSamples()\r\n    }\r\n    return scripts\r\n  },\r\n\r\n  /**\r\n   * Insert or re-insert sample scripts into localStorage.\r\n   * @returns {Object.<string, Object>} all scripts\r\n   */\r\n  restoreSamples () {\r\n    let scripts = getLocalStorageScripts() || {}\r\n    Object.keys(scripts).forEach(id => {\r\n      if (scripts[id].isSample) {\r\n        delete scripts[id]\r\n      }\r\n    })\r\n    ScriptConstants.SCRIPT_SAMPLES.forEach((script) => {\r\n      onBeforeSave(script)\r\n      script.isSample = true\r\n      script.id = getUniqueID(Object.keys(scripts))\r\n      scripts[script.id] = script\r\n    })\r\n    setLocalStorageScripts(scripts)\r\n\r\n    return scripts\r\n  },\r\n\r\n  /**\r\n   * Save a script.\r\n   * @param {Object.<string, Object>} script The script to save\r\n   */\r\n  save (script) {\r\n    let scripts = getLocalStorageScripts()\r\n    onBeforeSave(script)\r\n    if (!script.id) {\r\n      script.id = getUniqueID(Object.keys(scripts))\r\n    }\r\n    scripts[script.id] = script\r\n    setLocalStorageScripts(scripts)\r\n  },\r\n\r\n  /**\r\n   * Delete a script.\r\n   * @param {string} id The id of script to delete\r\n   */\r\n  delete (id) {\r\n    let scripts = getLocalStorageScripts()\r\n    delete scripts[id]\r\n    setLocalStorageScripts(scripts)\r\n  },\r\n\r\n  /**\r\n   * Simulate a script on a number of games based on a previous bustabit game's hash.\r\n   * @param options The simulation options\r\n   * @param {Object} options.script The script with it's text and config attributes.\r\n   * @param {string} options.gameHash Some previous bustabit game's hash.\r\n   * @param {number} options.gameAmount The amount of games to simulate\r\n   * @param {number} options.startingBalance The amount of Bits to start with.\r\n   * @param {boolean} options.drawChart Whether to collect extra data that is required for a line chart.\r\n   */\r\n  runScript ({ script, gameHash, gameAmount, startingBalance, drawChart }) {\r\n    let settings = { ...arguments[0] }\r\n    delete settings.script\r\n    settings.config = script.config\r\n    settings.text = getScriptTextWithoutConfig(script)\r\n\r\n    return {\r\n      then: function (callback) {\r\n        setTimeout(function () {\r\n          simulate(settings)\r\n            .then((results) => {\r\n              callback(results)\r\n            })\r\n            .catch(error => {\r\n              console.error(error)\r\n              let results = { error: error }\r\n              callback(results)\r\n            })\r\n        }, 100)\r\n      }\r\n    }\r\n  },\r\n\r\n}\r\n\r\nexport default ScriptUtils\r\n","const SCRIPT_SAMPLES = [\r\n  {\r\n    name: 'Flat Bet',\r\n    text: `var config = {\r\n  wager: {\r\n    value: 1000, type: 'balance', label: 'wager'\r\n  },\r\n  payout: {\r\n    value: 2, type: 'multiplier', label: 'payout' }\r\n};\r\n\r\n// Try to bet immediately when script starts\r\nmakeBet();\r\n\r\nengine.on('GAME_STARTING', onGameStarted);\r\nengine.on('GAME_ENDED', onGameEnded);\r\n\r\nfunction onGameStarted() {\r\n  makeBet();\r\n}\r\n\r\nfunction onGameEnded() {\r\n  var lastGame = engine.history.first();\r\n\r\n  // If we wagered, it means we played\r\n  if (!lastGame.wager) {\r\n    return;\r\n  }\r\n\r\n  if (lastGame.cashedAt) {\r\n    var profit = Math.round((config.wager.value * config.payout.value - config.wager.value) / 100)\r\n    log('we won', profit, 'bits');\r\n  } else {\r\n    log('we lost', Math.round(config.wager.value / 100), 'bits');\r\n  }\r\n}\r\n\r\nfunction makeBet() {\r\n  engine.bet(config.wager.value, config.payout.value);\r\n  log('betting', Math.round(config.wager.value / 100), 'on', config.payout.value, 'x');\r\n}`\r\n  },\r\n  {\r\n    name: 'Martingale',\r\n    text: `var config = {\r\n  baseBet: { value: 100, type: 'balance', label: 'base bet' },\r\n  payout: { value: 2, type: 'multiplier' },\r\n  stop: { value: 1e8, type: 'balance', label: 'stop if bet >' },\r\n  loss: {\r\n    value: 'increase', type: 'radio', label: 'On Loss',\r\n    options: {\r\n      base: { type: 'noop', label: 'Return to base bet' },\r\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\r\n    }\r\n  },\r\n  win: {\r\n    value: 'base', type: 'radio', label: 'On Win',\r\n    options: {\r\n      base: { type: 'noop', label: 'Return to base bet' },\r\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\r\n    }\r\n  }\r\n};\r\n\r\n\r\nlog('Script is running..');\r\n\r\nvar currentBet = config.baseBet.value;\r\n\r\n// Always try to bet when script is started\r\nengine.bet(roundBit(currentBet), config.payout.value);\r\n\r\nengine.on('GAME_STARTING', onGameStarted);\r\nengine.on('GAME_ENDED', onGameEnded);\r\n\r\nfunction onGameStarted() {\r\n  engine.bet(roundBit(currentBet), config.payout.value);\r\n}\r\n\r\nfunction onGameEnded() {\r\n  var lastGame = engine.history.first()\r\n\r\n  // If we wagered, it means we played\r\n  if (!lastGame.wager) {\r\n    return;\r\n  }\r\n\r\n  // we won..\r\n  if (lastGame.cashedAt) {\r\n    if (config.win.value === 'base') {\r\n      currentBet = config.baseBet.value;\r\n    } else {\r\n      console.assert(config.win.value === 'increase');\r\n      currentBet *= config.win.options.increase.value;\r\n    }\r\n    log('We won, so next bet will be', currentBet/100, 'bits')\r\n  } else {\r\n    // damn, looks like we lost :(\r\n    if (config.loss.value === 'base') {\r\n      currentBet = config.baseBet.value;\r\n    } else {\r\n      console.assert(config.loss.value === 'increase');\r\n      currentBet *= config.loss.options.increase.value;\r\n    }\r\n    log('We lost, so next bet will be', currentBet/100, 'bits')\r\n  }\r\n\r\n  if (currentBet > config.stop.value) {\r\n    log('Was about to bet', currentBet, 'which triggers the stop');\r\n    engine.removeListener('GAME_STARTING', onGameStarted);\r\n    engine.removeListener('GAME_ENDED', onGameEnded);\r\n  }\r\n}\r\n\r\nfunction roundBit(bet) {\r\n  return Math.round(bet / 100) * 100;\r\n}`\r\n  },\r\n  {\r\n    name: 'Payout Martingale',\r\n    text: `var config = {\r\n  bet: {\r\n    value: 100,\r\n    type: 'balance'\r\n  },\r\n  basePayout: {\r\n    value: 1.2,\r\n    type: 'multiplier',\r\n    label: 'base payout'\r\n  },\r\n  stop: {\r\n    value: 20,\r\n    type: 'multiplier',\r\n    label: 'stop if payout >'\r\n  },\r\n  loss: {\r\n    value: 'increase',\r\n    type: 'radio',\r\n    label: 'On Loss',\r\n    options: {\r\n      base: {\r\n        type: 'noop',\r\n        label: 'Return to base payout'\r\n      },\r\n      increase: {\r\n        value: 0.1,\r\n        type: 'multiplier',\r\n        label: 'Increase payout by +'\r\n      },\r\n    }\r\n  },\r\n  win: {\r\n    value: 'base',\r\n    type: 'radio',\r\n    label: 'On Win',\r\n    options: {\r\n      base: {\r\n        type: 'noop',\r\n        label: 'Return to base payout'\r\n      },\r\n      increase: {\r\n        value: 1,\r\n        type: 'multiplier',\r\n        label: 'Increase payout by +'\r\n      },\r\n    }\r\n  }\r\n};\r\n\r\n\r\nlog('Script is running..');\r\n\r\nvar currentPayout = config.basePayout.value;\r\n\r\n// Always try to bet when script is started\r\nengine.bet(config.bet.value, currentPayout);\r\n\r\nengine.on('GAME_STARTING', onGameStarted);\r\nengine.on('GAME_ENDED', onGameEnded);\r\n\r\nfunction onGameStarted() {\r\n  log('betting', Math.round(config.bet.value / 100), 'at payout of', currentPayout, 'x')\r\n  engine.bet(config.bet.value, currentPayout);\r\n}\r\n\r\nfunction onGameEnded(info) {\r\n  var lastGame = engine.history.first()\r\n\r\n  // If we wagered, it means we played\r\n  if (!lastGame.wager) {\r\n    return;\r\n  }\r\n\r\n  // we won..\r\n  if (lastGame.cashedAt) {\r\n    if (config.win.value === 'base') {\r\n      currentPayout = config.basePayout.value;\r\n      log('won, so resetting payout to', currentPayout)\r\n    } else {\r\n      console.assert(config.win.value === 'increase');\r\n      currentPayout += config.win.options.increase.value;\r\n      log('won, so increasing payout to', currentPayout)\r\n    }\r\n  } else {\r\n    // damn, looks like we lost :(\r\n    if (config.loss.value === 'base') {\r\n      currentPayout = config.basePayout.value;\r\n      log('lost, so resetting payout to', currentPayout)\r\n    } else {\r\n      console.assert(config.loss.value === 'increase');\r\n      currentPayout += config.loss.options.increase.value;\r\n      log('lost, so increasing payout', currentPayout)\r\n    }\r\n  }\r\n\r\n  if (currentPayout > config.stop.value) {\r\n    log('Was about to bet with payout', currentPayout, 'which triggers the stop');\r\n    engine.removeListener('GAME_STARTING', onGameStarted);\r\n    engine.removeListener('GAME_ENDED', onGameEnded);\r\n  }\r\n}`\r\n  },\r\n\r\n];\r\n\r\nconst NEW_SCRIPT = {\r\n  id: '',\r\n  name: 'Untitled Script',\r\n  text: `var config = {\r\n\r\n};\r\n\r\nlog('Simulation begins here...')`,\r\n  config: undefined\r\n}\r\n\r\nexport default {\r\n  SCRIPT_SAMPLES,\r\n  NEW_SCRIPT,\r\n}\r\n","import EventEmitter from 'events'\r\nimport CryptoJS from \"crypto-js\"\r\n\r\nfunction hashToBust(seed) {\r\n  const nBits = 52;\r\n  const hmac = CryptoJS.HmacSHA256(CryptoJS.enc.Hex.parse(seed), '0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526');\r\n  seed = hmac.toString(CryptoJS.enc.Hex);\r\n  seed = seed.slice(0, nBits / 4);\r\n  const r = parseInt(seed, 16);\r\n  let X = r / Math.pow(2, nBits);\r\n  X = 99 / (1 - X);\r\n  const result = Math.floor(X);\r\n  return Math.max(1, result / 100);\r\n}\r\n\r\nfunction hashToBusts(seed, amount) {\r\n  if (isNaN(amount) || amount <= 0) {\r\n    throw new TypeError('amount must be a number larger than zero.')\r\n  }\r\n  let prevHash = seed\r\n  const result = []\r\n  result.unshift({hash: prevHash, bust: hashToBust(String(prevHash))})\r\n  for (let index = 0; index < amount; index++) {\r\n    let hash = String(CryptoJS.SHA256(String(prevHash)))\r\n    let bust = hashToBust(hash)\r\n    result.unshift({hash, bust})\r\n    prevHash = hash;\r\n  }\r\n  return result\r\n}\r\n\r\nclass SimulatedBustabitHistory {\r\n  constructor () {\r\n    this.data = []\r\n  }\r\n\r\n  get size () {\r\n    return this.data.length\r\n  }\r\n\r\n  get length () {\r\n    return this.data.length\r\n  }\r\n\r\n  get start () {\r\n    return 0\r\n  }\r\n\r\n  get end () {\r\n    return this.data.length - 1\r\n  }\r\n\r\n  first () {\r\n    return this.data[0]\r\n  }\r\n}\r\n\r\nclass SimulatedBustabitEngine extends EventEmitter {\r\n\r\n  constructor () {\r\n    super()\r\n    this._userInfo = {\r\n      uname: 'Anonymous',\r\n      balance: 0,\r\n      balanceATH: 0,\r\n      balanceATL: Number.MAX_VALUE,\r\n      winStreak: 0,\r\n      loseStreak: 0,\r\n      highBet: 0,\r\n      lowBet: Number.MAX_VALUE,\r\n      bets: 0,\r\n      profit: 0,\r\n      profitATH: 0,\r\n      profitATL: 0\r\n    }\r\n    this.history = new SimulatedBustabitHistory()\r\n    this.bet = this.bet.bind(this)\r\n  }\r\n\r\n  getCurrentBet () {\r\n    if (!this.next) return undefined;\r\n    return { wager: this.next.wager, payout: this.next.payout }\r\n  }\r\n\r\n  isBetQueued () {\r\n    return !!this.next\r\n  }\r\n\r\n  cancelQueuedBet () {\r\n    this.next = undefined\r\n  }\r\n\r\n  bet(wager, payout) {\r\n    // 'bet' returns a Promise, just like on bustabit\r\n    return new Promise((resolve, reject) => {\r\n      this.next = { wager, payout: Math.round(payout * 100)/100, isAuto: true, resolve, reject }\r\n    })\r\n  }\r\n\r\n}\r\n\r\nasync function evalScript () {\r\n  const { config, engine, userInfo, log, stop, gameResultFromHash } = this // eslint-disable-line no-unused-vars\r\n  eval(arguments[0])\r\n}\r\n\r\nfunction simulate ({ text, config, startingBalance, gameHash, gameAmount, drawChart }) {\r\n  return new Promise((resolve, reject) => {\r\n    let logMessages = '',\r\n        shouldStop = false,\r\n        shouldStopReason = undefined;\r\n\r\n    const engine = new SimulatedBustabitEngine(),\r\n          userInfo = engine._userInfo,\r\n          log = function () {\r\n            let msg = Array.prototype.slice.call(arguments);\r\n            logMessages += msg.join(' ') + '\\n'\r\n            msg.unshift('LOG:')\r\n            console.log(...msg)\r\n          },\r\n          stop = function (reason) {\r\n            shouldStopReason = reason\r\n            shouldStop = true\r\n          },\r\n          gameResultFromHash = function (hash) {\r\n            return new Promise(resolve => resolve(hashToBust(hash)));\r\n          };\r\n\r\n    userInfo.balance = startingBalance\r\n\r\n    const results = {\r\n      startingBalance: +startingBalance,\r\n      balance: undefined,\r\n      balanceATH: undefined,\r\n      balanceATL: undefined,\r\n      bets: 0,\r\n      profit: 0,\r\n      lowBet: 0,\r\n      highBet: 0,\r\n      loseStreak: 0,\r\n      winStreak: 0,\r\n      profitATH: undefined,\r\n      profitATL: undefined,\r\n      message: '',\r\n      history: engine.history.data,\r\n      log: logMessages,\r\n      duration: undefined,\r\n      profitPerHour: undefined\r\n    };\r\n    if (drawChart) {\r\n      Object.assign(results, { chartData: [] })\r\n    }\r\n\r\n    const context = { config, engine, userInfo, log, stop, gameResultFromHash };\r\n    evalScript.call(context, text)\r\n\r\n    const games = hashToBusts(gameHash, gameAmount)\r\n    nextGame(null, -1, games)\r\n\r\n    function nextGame (id) {\r\n      id++\r\n      setImmediate(() => {\r\n        if (id < games.length && !shouldStop) {\r\n          doGame(id)\r\n        } else {\r\n          endSimulation()\r\n        }\r\n      })\r\n    }\r\n\r\n    function endSimulation () {\r\n      if (shouldStop && shouldStopReason) {\r\n        log (shouldStopReason)\r\n      }\r\n\r\n      results.startingBalance = startingBalance\r\n      results.balance = userInfo.balance\r\n      results.bets = userInfo.bets\r\n      results.profit = userInfo.profit\r\n      results.lowBet = userInfo.lowBet\r\n      results.highBet = userInfo.highBet\r\n      results.loseStreak = userInfo.loseStreak\r\n      results.winStreak = userInfo.winStreak\r\n      results.profitATH = userInfo.profitATH\r\n      results.profitATL = userInfo.profitATL\r\n      results.balanceATH = userInfo.balanceATH\r\n      results.balanceATL = userInfo.balanceATL\r\n      results.message = `${userInfo.bets} Games played. ${results.profit > 0 ? 'Won' : 'Lost'} ${(results.profit/100)} bits. ${results.message || ''}`\r\n      results.history = engine.history.results\r\n      results.log = logMessages\r\n      results.duration = results.chartData.reduce((a, b) => +a + +b.duration, 0)\r\n      results.profitPerHour = results.profit / (results.duration / (1000 * 60 * 60))\r\n      resolve(results)\r\n    }\r\n\r\n    function doGame(id) {\r\n      const game = games[id]\r\n      game.id = id\r\n      game.isSimulation = true\r\n      game.wager = 0\r\n      game.cashedAt = 0\r\n\r\n      // set gameState, just like bustabit\r\n      engine.gameState = 'GAME_STARTING'\r\n      // emit event, just like bustabit\r\n      engine.emit('GAME_STARTING', { gameId: id })\r\n\r\n      // engine.next is set when engine.bet(wager, payout) is called\r\n      // probably just like bustabit\r\n      const bet = engine.next\r\n      engine.next = null\r\n\r\n      if (bet) {\r\n        // reject with specific strings, just like bustabit\r\n        if (isNaN(bet.wager) || bet.wager < 100) {\r\n          bet.reject('INVALID_BET')\r\n          return endSimulation()\r\n        }\r\n        if (isNaN(bet.payout)) {\r\n          bet.reject('cannot parse JSON')\r\n          return endSimulation()\r\n        }\r\n        if (userInfo.balance - bet.wager < 0) {\r\n          bet.reject('BET_TOO_BIG')\r\n          return endSimulation()\r\n        }\r\n        if (bet.payout <= 1) {\r\n          bet.reject('payout is too low')\r\n          return endSimulation()\r\n        }\r\n\r\n        // decrease balance, just like bustabit\r\n\r\n        if (bet.wager > 0) {\r\n          userInfo.balance -= bet.wager\r\n          userInfo.bets++\r\n        }\r\n        // resolve with null, just like bustabit\r\n        bet.resolve(null)\r\n\r\n        // emit event, just like bustabit\r\n        engine.emit('BET_PLACED', {\r\n          uname: userInfo.uname,\r\n          wager: bet.wager,\r\n          payout: bet.payout\r\n        })\r\n      }\r\n\r\n      engine.emit('GAME_STARTED', null)\r\n\r\n      // set gameState, just like bustabit\r\n      engine.gameState = 'GAME_IN_PROGRESS'\r\n\r\n      // set wager and cashedAt, just like bustabit\r\n      // wager: zero when didn't bet\r\n      game.wager = bet ? bet.wager : 0\r\n      // cashedAt: zero when busted or didn't bet\r\n      game.cashedAt = bet && bet.wager > 0 && bet.payout <= game.bust ? bet.payout : 0\r\n\r\n      if (game.wager !== 0) {\r\n        // update balance, just like bustabit\r\n        userInfo.balance += game.cashedAt * game.wager\r\n        if (userInfo.balance < userInfo.balanceATL) { userInfo.balanceATL = userInfo.balance }\r\n        if (userInfo.balance > userInfo.balanceATH) { userInfo.balanceATH = userInfo.balance }\r\n        userInfo.profit = userInfo.balance - startingBalance\r\n        if (game.wager < userInfo.lowBet) { userInfo.lowBet = game.wager }\r\n        if (game.wager > userInfo.highBet) { userInfo.highBet = game.wager }\r\n        if (userInfo.profit < userInfo.profitATL) { userInfo.profitATL = userInfo.profit }\r\n        if (userInfo.profit > userInfo.profitATH) { userInfo.profitATH = userInfo.profit }\r\n      }\r\n\r\n      if (game.cashedAt > 0) {\r\n        // won!\r\n        userInfo.sinceWin = 0\r\n        userInfo.sinceLose++\r\n        if (userInfo.sinceLose > userInfo.winStreak) {\r\n            userInfo.winStreak = userInfo.sinceLose\r\n        }\r\n\r\n        // emit event, just like bustabit\r\n        engine.emit('CASHED_OUT', {\r\n          uname: userInfo.uname,\r\n          cashedAt: game.cashedAt,\r\n          wager: game.wager\r\n        })\r\n      } else {\r\n        if(game.wager !== 0){\r\n          // lost\r\n          userInfo.sinceLose = 0\r\n          userInfo.sinceWin++\r\n          if (userInfo.sinceWin > userInfo.loseStreak) {\r\n            userInfo.loseStreak = userInfo.sinceWin\r\n          }\r\n        }\r\n      }\r\n\r\n      // add game to history, just like bustabit\r\n      engine.history.data.unshift(game)\r\n      // keep track of some extra data for the chart\r\n      if (drawChart) {\r\n        results.chartData.unshift(Object.assign({\r\n          payout: (bet ? bet.payout : 0),\r\n          balance: userInfo.balance,\r\n          profit: (game.cashedAt > 0 ? (game.cashedAt - 1) * game.wager : -game.wager),\r\n          duration: Math.log(game.bust)/0.00006\r\n        }, game))\r\n      }\r\n\r\n      // set gameState, just like bustabit\r\n      engine.gameState = 'GAME_ENDED'\r\n      // emit event, just like bustabit\r\n      engine.emit('GAME_ENDED', { hash: game.hash, bust: game.bust })\r\n\r\n      nextGame(id)\r\n    }\r\n  });\r\n}\r\n\r\n\r\nexport default simulate\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass BustabitScriptConfig extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.handleConfigFieldChange = this.handleConfigFieldChange.bind(this)\r\n  }\r\n\r\n  handleConfigFieldChange (key, value) {\r\n    let path = key.split('.')\r\n\r\n    let obj = this.props.config\r\n    for (let i = 0; i<path.length; i++) {\r\n      obj = obj[path[i]]\r\n    }\r\n    obj.value = value\r\n    this.props.onChange(this.props.config)\r\n  }\r\n\r\n  render () {\r\n    const { config, onChange, className = '', ...rest } = this.props\r\n    return (\r\n      <div {...rest} className={`BustabitScript Config ${className}`}>\r\n        {!config ? null : Object.keys(config).map((key) => {\r\n          let element = config[key]\r\n          let component = FieldTypes[element.type]\r\n          return component({\r\n            ...element,\r\n            name: key,\r\n            onChange: this.handleConfigFieldChange\r\n          })\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nBustabitScriptConfig.propTypes = {\r\n  config: PropTypes.object,\r\n  onChange: PropTypes.func.isRequired,\r\n}\r\n\r\nconst FieldTypes = Object.freeze({\r\n  'balance': BalanceInput,\r\n  'checkbox': CheckboxInput,\r\n  'multiplier': MultiplierInput,\r\n  'noop': NoopInput,\r\n  'radio': RadioInput,\r\n  'text': TextInput,\r\n  'number': NumberInput,\r\n});\r\n\r\nfunction BalanceInput ({ name, label, value, optional, onChange }) {\r\n  let id = `config.${name}`\r\n  return (\r\n    <div className=\"field is-horizontal\" key={id}>\r\n      <div className=\"field-label is-normal\">\r\n        <label htmlFor={id} className=\"label\">{label || name}</label>\r\n      </div>\r\n      <div className=\"field-body\">\r\n        <div className=\"field\">\r\n          <div className=\"control has-icons-right\">\r\n            <input  type=\"number\"\r\n                    className=\"input is-normal\"\r\n                    id={id}\r\n                    name={name}\r\n                    value={parseFloat(value)/100}\r\n                    required={!optional}\r\n                    step=\"1\"\r\n                    onChange={function (eventInfo) {\r\n                      onChange(name, parseFloat(eventInfo.target.value) * 100)\r\n                    }}/>\r\n            <span className=\"icon is-small is-right\">\r\n              bits\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CheckboxInput ({ name, label, value, onChange }) {\r\n  let id = `config.${name}`\r\n  return (\r\n    <div className=\"field is-horizontal\" key={id}>\r\n      <div className=\"field-label is-normal\">\r\n        <label htmlFor={id} className=\"label\">{label || name}</label>\r\n      </div>\r\n      <div className=\"field-body\">\r\n        <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input  type=\"checkbox\"\r\n                    className=\"checkbox\"\r\n                    id={id}\r\n                    name={name}\r\n                    checked={!!value}\r\n                    onChange={function (eventInfo) {\r\n                      onChange(name, !!eventInfo.target.checked)\r\n                    }}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction MultiplierInput ({ name, label, value, optional, onChange }) {\r\n  let id = `config.${name}`\r\n  return (\r\n    <div className=\"field is-horizontal\" key={id}>\r\n      <div className=\"field-label is-normal\">\r\n        <label htmlFor={id} className=\"label\">{label || name}</label>\r\n      </div>\r\n      <div className=\"field-body\">\r\n        <div className=\"field\">\r\n          <div className=\"control has-icons-right\">\r\n            <input  type=\"number\"\r\n                    className=\"input\"\r\n                    id={id}\r\n                    name={name}\r\n                    value={parseFloat(value)}\r\n                    required={!optional}\r\n                    step=\"0.01\"\r\n                    onChange={function (eventInfo) {\r\n                      onChange(name, parseFloat(eventInfo.target.value))\r\n                    }}/>\r\n            <span className=\"icon is-small is-right\">\r\n              <i className=\"fas fa-times\"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction NoopInput ({ name, label, value }) {\r\n  let id = `config.${name}`\r\n  return (\r\n    <div className=\"field\" key={id}>\r\n      <label  className=\"label\"\r\n              htmlFor={id}>\r\n        {label}\r\n      </label>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction RadioInput ({ name, label, value, options, onChange }) {\r\n  function optionFieldChange(name, value) {\r\n    onChange(name, value)\r\n  }\r\n  let id = `config.${name}`\r\n  return (\r\n    <div className=\"field\" key={id}>\r\n      <fieldset style={{width: \"100%\", padding: \"10px 10px\"}}>\r\n        <legend className=\"label has-text-centered is-uppercase\">\r\n          {label || name}\r\n        </legend>\r\n        {Object.keys(options || {}).map((key) => {\r\n          const option = options[key]\r\n          return (\r\n            <div key={`option-${key}`} className=\"field\">\r\n              <input  type=\"radio\"\r\n                      name={name}\r\n                      id={`config.${name}.options.${key}`}\r\n                      value={key/* TODO: shouldn't this be option.value ?*/}\r\n                      checked={value === key}\r\n                      onChange={function (eventInfo) {\r\n                        onChange(name, eventInfo.target.value)/* TODO: shouldn't this be option.value ?*/\r\n                      }}/>\r\n              &nbsp;\r\n              <div className=\"is-inline-block\">\r\n                {FieldTypes[option.type]({\r\n                  ...option,\r\n                  onChange: optionFieldChange,\r\n                  name: `${name}.options.${key}`\r\n                })}\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </fieldset>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TextInput ({ name, label, value, optional, onChange }) {\r\n  let id = `config.${name}`\r\n  return (\r\n    <div className=\"field is-horizontal\" key={id}>\r\n      <div className=\"field-label is-normal\">\r\n        <label htmlFor={id} className=\"label\">{label || name}</label>\r\n      </div>\r\n      <div className=\"field-body\">\r\n        <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input  type=\"text\"\r\n                    className=\"input\"\r\n                    id={id}\r\n                    name={name}\r\n                    value={value}\r\n                    required={!optional}\r\n                    onChange={function (eventInfo) {\r\n                      onChange(name, eventInfo.target.value)\r\n                    }}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction NumberInput ({ name, label, value, optional, onChange }) {\r\n  let id = `config.${name}`\r\n  return (\r\n    <div className=\"field is-horizontal\" key={id}>\r\n      <div className=\"field-label is-normal\">\r\n        <label htmlFor={id} className=\"label\">{label || name}</label>\r\n      </div>\r\n      <div className=\"field-body\">\r\n        <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input  type=\"number\"\r\n                    className=\"input\"\r\n                    id={id}\r\n                    name={name}\r\n                    value={parseFloat(value)}\r\n                    required={!optional}\r\n                    step=\"1\"\r\n                    onChange={function (eventInfo) {\r\n                      onChange(name, parseFloat(eventInfo.target.value))\r\n                    }}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BustabitScriptConfig\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ReactDOM from \"react-dom\";\r\nimport * as d3 from 'd3';\r\n\r\nimport './LineChart.css';\r\n\r\nclass LineChart extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      tooltipData: undefined\r\n    }\r\n\r\n    this.handleTooltipChange    = this.handleTooltipChange.bind(this)\r\n    this.shouldUpdateLineChart  = this.shouldUpdateLineChart.bind(this)\r\n    this.updateLineChart        = this.updateLineChart.bind(this)\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.container = ReactDOM.findDOMNode(this)\r\n    this.updateLineChart()\r\n  }\r\n\r\n  componentDidUpdate (prevProps, prevState) {\r\n    if (this.shouldUpdateLineChart(prevProps)) {\r\n      this.updateLineChart()\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      viewBoxWidth, viewBoxHeight,\r\n      data, xAccessor, yAccessor,\r\n      crosshairEnabled, crosshairClassName,\r\n      className = '', ...rest } = this.props\r\n    return (\r\n      <div {...rest} className={`LineChart ${className}`}>\r\n        <svg preserveAspectRatio=\"xMinYMin meet\"></svg>\r\n        <div className=\"tooltip-container\" style={{ visibility: (this.state.tooltipData ? undefined : 'hidden')}}>\r\n          <Tooltip className=\"tooltip\" data={this.state.tooltipData}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleTooltipChange ({ data }) {\r\n    this.setState({ tooltipData: data })\r\n  }\r\n\r\n  shouldUpdateLineChart(prevProps) {\r\n    const didChange = (propName) => {\r\n      let prev = prevProps[propName],\r\n          current = this.props[propName];\r\n      return prev !== current || (Array.isArray(prev) && prev.length !== current.length);\r\n    }\r\n    const lineChartProps = [\r\n      'viewBoxWidth', 'viewBoxHeight',\r\n      'data', 'xAccessor', 'yAccessor'\r\n    ]\r\n    return lineChartProps.some(didChange)\r\n  }\r\n\r\n  updateLineChart () {\r\n    d3LineChart({\r\n      container: this.container,\r\n\r\n      viewBoxWidth: this.props.viewBoxWidth,\r\n      viewBoxHeight: this.props.viewBoxHeight,\r\n\r\n      onTooltipChange: this.handleTooltipChange,\r\n\r\n      data: this.props.data,\r\n      xAccessor: this.props.xAccessor,\r\n      yAccessor: this.props.yAccessor,\r\n\r\n      crosshairEnabled: this.props.crosshairEnabled,\r\n      crosshairClassName: this.props.crosshairClassName,\r\n    })\r\n  }\r\n}\r\n\r\nLineChart.propTypes = {\r\n  viewBoxWidth: PropTypes.number.isRequired,\r\n  viewBoxHeight: PropTypes.number.isRequired,\r\n  data: PropTypes.array.isRequired,\r\n  xAccessor: PropTypes.func.isRequired,\r\n  yAccessor: PropTypes.func.isRequired,\r\n  crosshairEnabled: PropTypes.bool,\r\n  crosshairClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n}\r\n\r\nclass Tooltip extends Component {\r\n  render () {\r\n    const { data, ...wrapper} = this.props\r\n    const { id, hash, bust, wager, payout, cashedAt, profit, balance } = data || {}\r\n    return (\r\n      <div  {...wrapper}>\r\n        {data && (\r\n          <table className=\"table is-hoverable is-transparent\">\r\n            <tbody>\r\n              <tr>\r\n                <th>Game ID</th>\r\n                <td>{id}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>Hash</th>\r\n                <td><input className=\"input\" type=\"text\" value={hash} readOnly={true}/></td>\r\n              </tr>\r\n              <tr>\r\n                <th>Bust</th>\r\n                <td>{`${bust}x`}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>Bet</th>\r\n                <td>{wager === 0 ? 'Didn\\'t play' : `${payout}x ${Math.round(wager)/100} bits`}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>Cashed At</th>\r\n                <td>{cashedAt > 0 ? `${cashedAt}x` : '-'}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>Profit</th>\r\n                <td className={profit === 0 ? 'has-text-warning' : (profit > 0 ? 'has-text-success' : 'has-text-danger')}>{Math.round(profit)/100} bits</td>\r\n              </tr>\r\n              <tr>\r\n                <th>Balance</th>\r\n                <td>{Math.round(balance)/100} bits</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction d3LineChart ({\r\n  container,\r\n  viewBoxWidth,\r\n  viewBoxHeight,\r\n  data,\r\n  xAccessor,\r\n  yAccessor,\r\n  onTooltipChange,\r\n  crosshairEnabled,\r\n  crosshairClassName\r\n}) {\r\n  if (!container) {\r\n    throw new TypeError('container should be an HTMLElement')\r\n  }\r\n  if (isNaN(viewBoxWidth) || isNaN(viewBoxHeight)) {\r\n    throw new TypeError('viewBoxWidth and viewBoxHeight should be numbers')\r\n  }\r\n  if (!xAccessor || !yAccessor || typeof(xAccessor) !== 'function' || typeof(yAccessor) !== 'function') {\r\n    throw new TypeError('xAccessor and yAccessor should be functions')\r\n  }\r\n  if (!data || !Array.isArray(data)) {\r\n    throw new TypeError('data should be an array')\r\n  }\r\n  if (onTooltipChange && typeof(onTooltipChange) !== 'function') {\r\n    throw new TypeError('onTooltipChange should be a function')\r\n  }\r\n  if (crosshairEnabled && crosshairClassName\r\n    && typeof(crosshairClassName) !== 'string'\r\n    && typeof(crosshairClassName) !== 'function') {\r\n    throw new TypeError('crosshairClassName should be a string or a function')\r\n  }\r\n\r\n  container = d3.select(container)\r\n  const svgElement = container.select('svg')\r\n  if (!svgElement) { throw new TypeError('container should have a child <svg></svg>'); }\r\n  let tooltipElement = container.select('.tooltip')\r\n\r\n  svgElement\r\n    .attr(\"viewBox\", `0 0 ${viewBoxWidth} ${viewBoxHeight}`);\r\n\r\n  const margin = {top: 20, right: 20, bottom: 110, left: 40},\r\n        margin2 = {top: 430, right: 20, bottom: 30, left: 40},\r\n        width = +viewBoxWidth - margin.left - margin.right,\r\n        height = +viewBoxHeight - margin.top - margin.bottom,\r\n        height2 = +viewBoxHeight - margin2.top - margin2.bottom;\r\n\r\n  svgElement.selectAll('*').remove()\r\n\r\n  const xScale  = d3.scaleLinear().range([0, width]),\r\n        xScale2 = d3.scaleLinear().range([0, width]),\r\n        yScale  = d3.scaleLinear().range([height, 0]),\r\n        yScale2 = d3.scaleLinear().range([height2, 0]);\r\n\r\n  const xAxis = d3.axisBottom(xScale),\r\n        xAxis2 = d3.axisBottom(xScale2),\r\n        yAxis = d3.axisLeft(yScale).tickFormat(function (n) { return (Math.round(n)/100) });\r\n\r\n  // line\r\n  var lineX = function (d) { return xScale(xAccessor(d)); }\r\n  var lineY = function (d) { return yScale(yAccessor(d)); }\r\n  var line = d3.line().x(lineX).y(lineY);\r\n\r\n  var line2X = function (d) { return xScale2(xAccessor(d)); }\r\n  var line2Y = function (d) { return yScale2(yAccessor(d)); }\r\n  var line2 = d3.line().x(line2X).y(line2Y);\r\n\r\n  var selected;\r\n  var brush = d3.brushX()\r\n      .extent([[0, 0], [width, height2]])\r\n      .on(\"brush end\", brushed);\r\n\r\n  var zoom = d3.zoom()\r\n      .scaleExtent([1, Infinity])\r\n      .translateExtent([[0, 0], [width, height]])\r\n      .extent([[0, 0], [width, height]])\r\n      .on(\"zoom\", zoomed);\r\n\r\n\r\n\r\n  // create svg elements\r\n\r\n  svgElement.append(\"defs\").append(\"svg:clipPath\")\r\n      .attr(\"id\", \"clip\")\r\n      .append(\"svg:rect\")\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", 0);\r\n\r\n\r\n  var g_lines = svgElement.append(\"g\")\r\n      .attr(\"class\", \"data-lines\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n      .attr(\"clip-path\", \"url(#clip)\");\r\n\r\n  var crosshairElement;\r\n  if (crosshairEnabled) {\r\n    crosshairElement = svgElement.append(\"g\")\r\n    crosshairElement.attr(\"class\", \"crosshair\")\r\n                    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n                    .attr(\"clip-path\", \"url(#clip)\");\r\n    crosshairElement.append(\"line\")\r\n                    .attr(\"class\", \"crosshair-line crosshair-line-x\")\r\n    crosshairElement.append(\"line\")\r\n                    .attr(\"class\", \"crosshair-line crosshair-line-y\")\r\n  }\r\n\r\n  var g_axes = svgElement.append(\"g\")\r\n      .attr(\"class\", \"axes\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n  var context = svgElement.append(\"g\")\r\n      .attr(\"class\", \"context\")\r\n      .attr(\"transform\", \"translate(\" + margin2.left + \",\" + margin2.top + \")\");\r\n\r\n\r\n  var overlay = svgElement.append(\"rect\")\r\n    .attr(\"class\", \"zoom\")\r\n    .attr(\"width\", width)\r\n    .attr(\"height\", height)\r\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n\r\n\r\n  withData(data)\r\n\r\n  function withData(data) {\r\n\r\n    xScale.domain(d3.extent(data, xAccessor));\r\n    yScale.domain(d3.extent(data, yAccessor));\r\n    xScale2.domain(xScale.domain());\r\n    yScale2.domain(yScale.domain());\r\n\r\n    g_axes.append(\"g\")\r\n          .attr(\"class\", \"axis axis-x\")\r\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n          .call(xAxis);\r\n\r\n    g_axes.append(\"g\")\r\n          .attr(\"class\", \"axis axis-y\")\r\n          .call(yAxis);\r\n\r\n\r\n    g_lines.append(\"path\")\r\n           .datum(data)\r\n           .attr(\"class\", \"data-line\")\r\n           .attr(\"d\", line);\r\n\r\n    g_lines.selectAll(\".data-point\")\r\n           .data(data)\r\n           .enter().append(\"circle\")\r\n           .attr(\"class\", function (d) { return \"data-point \" + (d.profit === 0 ? 'is-warning' : (d.profit > 0 ? 'is-success' : 'is-danger')) })\r\n           .attr(\"cx\", lineX)\r\n           .attr(\"cy\", lineY)\r\n           .attr(\"r\", 0)\r\n\r\n    context.append(\"path\")\r\n           .datum(data)\r\n           .attr(\"class\", \"data-line\")\r\n           .attr(\"d\", line2);\r\n\r\n    context.append(\"g\")\r\n           .attr(\"class\", \"axis axis-x\")\r\n           .attr(\"transform\", \"translate(0,\" + height2 + \")\")\r\n           .call(xAxis2);\r\n\r\n    context.append(\"g\")\r\n           .attr(\"class\", \"brush\")\r\n           .call(brush)\r\n           .call(brush.move, xScale.range());\r\n\r\n    overlay.call(zoom);\r\n    overlay.on(\"mousemove\",mousemove)\r\n      .on(\"mouseover\", function () {\r\n        if (tooltipElement) {\r\n          tooltipElement.style(\"opacity\", 1);\r\n        }\r\n        if (crosshairElement) {\r\n          crosshairElement.style(\"opacity\", 1);\r\n        }\r\n      })\r\n      .on(\"mouseout\", function () {\r\n        if (tooltipElement) {\r\n          tooltipElement.style(\"opacity\", 0);\r\n        }\r\n        if (crosshairElement) {\r\n          crosshairElement.style(\"opacity\", 0);\r\n        }\r\n        g_lines.selectAll('.data-point')\r\n         .classed('hover', false)\r\n      });\r\n\r\n    let bisect = d3.bisector(function (d, dx) { return dx - xAccessor(d) }).left\r\n\r\n    function mousemove () {\r\n\r\n      const mousex = d3.mouse(this)[0],\r\n            dx = xScale.invert(mousex),\r\n            i = bisect(data, dx),\r\n            d0 = data[i - 1],\r\n            d1 = data[i];\r\n\r\n      let d;\r\n      if (!d1) d = d0;\r\n      else if (!d0) d = d1;\r\n      else d = Math.abs(dx - xAccessor(d1)) > Math.abs(dx - xAccessor(d0)) ? d0 : d1;\r\n\r\n      selected = d\r\n\r\n      g_lines.selectAll('.data-point')\r\n         .classed('hover', (d) => xAccessor(d) === xAccessor(selected))\r\n      moveCrosshair(selected)\r\n      moveTooltip(d)\r\n    }\r\n  }\r\n\r\n  function moveTooltip (d) {\r\n    if (tooltipElement && svgElement && container && viewBoxWidth && viewBoxHeight) {\r\n      let svgMouse = d3.mouse(svgElement.node()),\r\n          containerMouse = d3.mouse(container.node());\r\n\r\n      let tooltipX, tooltipY;\r\n      const tooltipOffset = {\r\n        left: 25,\r\n        top: 25\r\n      }\r\n      const tooltipSize = tooltipElement.node().getBoundingClientRect()\r\n      if (svgMouse[0] > viewBoxWidth - tooltipSize.width) {\r\n        tooltipX = containerMouse[0] - tooltipSize.width - tooltipOffset.left\r\n      } else {\r\n        tooltipX = containerMouse[0] + tooltipOffset.left\r\n      }\r\n\r\n      if (svgMouse[1] > viewBoxHeight - tooltipSize.height) {\r\n        tooltipY = containerMouse[1] - tooltipSize.height - tooltipOffset.top\r\n      } else {\r\n        tooltipY = containerMouse[1] + tooltipOffset.top\r\n      }\r\n      /*\r\n      if (overlayMouse[0] > width/2) {\r\n        tooltipX = containerMouse[0] - tooltipElement.node().getBoundingClientRect().width - tooltipOffset.left\r\n      } else {\r\n        tooltipX = containerMouse[0] + tooltipOffset.left\r\n      }\r\n      if (overlayMouse[1] > height/2) {\r\n        tooltipY = containerMouse[1] + tooltipOffset.top\r\n      } else {\r\n        tooltipY = containerMouse[1] - tooltipElement.node().getBoundingClientRect().height - tooltipOffset.top\r\n      }*/\r\n\r\n\r\n      tooltipElement\r\n        .style('top', tooltipY + 'px')\r\n        .style('left', tooltipX + 'px')\r\n\r\n      if (onTooltipChange) {\r\n        onTooltipChange({ data: d })\r\n      }\r\n    }\r\n  }\r\n\r\n  function moveCrosshair(d) {\r\n    let xdomain = xScale.domain()\r\n    let ydomain = yScale.domain()\r\n    crosshairElement\r\n      .select('.crosshair-line-x')\r\n      .transition()\r\n      .ease(d3.easeLinear)\r\n      .attr('x1', lineX(d)).attr('y1', yScale(ydomain[0]))\r\n      .attr('x2', lineX(d)).attr('y2', yScale(ydomain[1]))\r\n      .duration(100);\r\n    crosshairElement\r\n      .select('.crosshair-line-y')\r\n      .transition()\r\n      .ease(d3.easeLinear)\r\n      .attr('x1', xScale(xdomain[0])).attr('y1', lineY(d))\r\n      .attr('x2', xScale(xdomain[1])).attr('y2', lineY(d))\r\n      .duration(100);\r\n  }\r\n\r\n\r\n  function brushed() {\r\n    if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"zoom\") return; // ignore brush-by-zoom\r\n    var s = d3.event.selection || xScale2.range();\r\n    xScale.domain(s.map(xScale2.invert, xScale2));\r\n\r\n    g_lines.select(\".data-line\")\r\n      .attr(\"d\", line);\r\n    g_lines.selectAll(\".data-point\")\r\n      .attr(\"cx\", lineX)\r\n      .attr(\"cy\", lineY);\r\n\r\n    if (selected) moveCrosshair(selected);\r\n\r\n    g_axes.select(\".axis-x\").call(xAxis);\r\n    svgElement.select(\".zoom\").call(zoom.transform, d3.zoomIdentity\r\n      .scale(width / (s[1] - s[0]))\r\n      .translate(-s[0], 0));\r\n  }\r\n\r\n  function zoomed() {\r\n    if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"brush\") return; // ignore zoom-by-brush\r\n    var t = d3.event.transform;\r\n    xScale.domain(t.rescaleX(xScale2).domain());\r\n\r\n    g_lines.select(\".data-line\")\r\n      .attr(\"d\", line);\r\n    g_lines.selectAll(\".data-point\")\r\n      .attr(\"cx\", lineX)\r\n      .attr(\"cy\", lineY)\r\n\r\n    if (selected) moveCrosshair(selected);\r\n\r\n    g_axes.select(\".axis-x\").call(xAxis);\r\n    context.select(\".brush\").call(brush.move, xScale.range().map(t.invertX, t));\r\n  }\r\n\r\n}\r\n\r\nexport default LineChart\r\n","import React, { Component } from 'react';\r\nimport Config from './BustabitScriptConfig';\r\nimport LineChart from './LineChart'\r\nimport PropTypes from 'prop-types'\r\nimport './BustabitScript.css'\r\n\r\nclass App extends Component {\r\n\r\n  viewState () {\r\n    if (this.props.scripts.editing) {\r\n      return 'edit'\r\n    }\r\n    if (this.props.scripts.creating) {\r\n      return 'new'\r\n    }\r\n    if (this.props.scripts.deleting) {\r\n      return 'delete'\r\n    }\r\n    if (this.props.scripts.selected) {\r\n      return 'show'\r\n    }\r\n    return 'list'\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.props.scripts.load()\r\n  }\r\n\r\n  render () {\r\n    const viewState = this.viewState()\r\n    const { scripts, className = '', ...rest} = this.props\r\n    return (\r\n      <div {...rest} className={className}>\r\n        {(viewState === 'list' || viewState === 'delete') && (\r\n          <List\r\n            scripts={scripts}/>\r\n        )}\r\n        {viewState === 'edit' && (\r\n          <Edit\r\n            script={scripts.editing}\r\n            error={scripts.updateError}\r\n            onCancel={scripts.onCancel}\r\n            onSave={scripts.onSave}/>\r\n        )}\r\n        {viewState === 'new' && (\r\n          <New\r\n            script={scripts.creating}\r\n            error={scripts.createError}\r\n            onCancel={scripts.onCancel}\r\n            onSave={scripts.onSave}/>\r\n        )}\r\n        {viewState === 'show' && (\r\n          <Show\r\n            scripts={scripts}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass Title extends Component {\r\n  render () {\r\n    const { className = '', ...rest } = this.props\r\n    return (\r\n      <div {...rest} className={`${className}`}>\r\n        <p>\r\n          <span className=\"bustabit-logo\"/>\r\n          <span className=\"bustabit-title\">\r\n            Bustabit\r\n          </span>\r\n        </p>\r\n        <p>\r\n          <span className=\"script-simulator-title\">\r\n            Script Simulator\r\n          </span>\r\n        </p>\r\n        <p>\r\n          <span className=\"script-simulator-author\">\r\n            by <a href=\"https://github.com/Mtihc\">Mtihc</a>\r\n          </span>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass List extends Component {\r\n  render () {\r\n    const { className = '', scripts, ...rest} = this.props\r\n    let deletingId = scripts.deleting ? scripts.deleting.id : undefined\r\n    return (\r\n      <div {...rest} className={`BustabitScript-List box is-inline-block ${className}`}>\r\n        <table className=\"table is-hoverable\">\r\n          <thead>\r\n            <tr>\r\n              <th colSpan=\"2\">\r\n                <h3 className=\"subtitle is-4\">\r\n                  My Scripts\r\n                </h3>\r\n              </th>\r\n              <th colSpan=\"2\">\r\n                <NewButton\r\n                  onClick={() => scripts.onNew()}/>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {scripts.items.entrySeq().map(([index, script]) => {\r\n              let id = script.id\r\n              if (id === deletingId) {\r\n                return (\r\n                  <tr key={id}>\r\n                    <th>{script.name}</th>\r\n                    <td colSpan=\"3\" style={{ maxWidth: '9rem' }}>\r\n                      <Delete key={id}\r\n                        script={scripts.deleting}\r\n                        onCancel={scripts.onCancel}\r\n                        onDeleteConfirmed={scripts.onDeleteConfirmed}/>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              }\r\n              return (\r\n                <tr key={id}>\r\n                  <th>{script.name}</th>\r\n                  <td>\r\n                    <SelectButton\r\n                      onClick={() => scripts.onSelect(id)}/>\r\n                  </td>\r\n                  <td>\r\n                    <EditButton\r\n                      onClick={() => scripts.onEdit(id)}/>\r\n                  </td>\r\n                  <td>\r\n                    <DeleteButton\r\n                      onClick={() => scripts.onDelete(id)}/>\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction msToTime(duration) {\r\n  var milliseconds = parseInt((duration % 1000) / 100),\r\n    seconds = parseInt((duration / 1000) % 60),\r\n    minutes = parseInt((duration / (1000 * 60)) % 60),\r\n    hours = parseInt((duration / (1000 * 60 * 60)) % 24);\r\n\r\n  hours = (hours < 10) ? \"0\" + hours : hours;\r\n  minutes = (minutes < 10) ? \"0\" + minutes : minutes;\r\n  seconds = (seconds < 10) ? \"0\" + seconds : seconds;\r\n\r\n  return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\r\n}\r\n\r\nclass Show extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      script: props.scripts.selected,\r\n      startingBalance: 1000000,\r\n      gameHash: '7edbd07968e771f205a4e2b67701c2f6993437db0c557160ba79ee70ea6d10c6',\r\n      gameAmount: 1000,\r\n      drawChart: true,\r\n    }\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (this.props.scripts.results !== prevProps.scripts.results) {\r\n      let resultsElement = document.getElementById(\"results\")\r\n      if (resultsElement) {\r\n        const y = resultsElement.getBoundingClientRect().top + window.scrollY;\r\n        window.scrollTo({ behavior: 'smooth', top: y })\r\n      }\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { className = '', scripts, ...rest} = this.props\r\n    return (\r\n      <div {...rest} className={`BustabitScript Show ${className}`}>\r\n        {this.state.script && (\r\n          <div key={this.state.script.id}>\r\n            <div className=\"box is-inline-block has-text-left\">\r\n              <div>\r\n                <GoBackButton\r\n                  className={`${scripts.isLoading ? 'is-loading' : ''}`}\r\n                  onClick={scripts.onDeselect}/>\r\n                <EditButton\r\n                  className=\"is-pulled-right\"\r\n                  onClick={() => scripts.onEdit(this.state.script.id)}/>\r\n              </div>\r\n              <hr className=\"hr\"/>\r\n              <Config\r\n                config={this.state.script.config}\r\n                onChange={config => {\r\n                  this.setState(({ script }) => {\r\n                    script.config = config\r\n                    return { script }\r\n                  })\r\n                }}/>\r\n              <hr className=\"hr\"/>\r\n              <Control label=\"Starting Balance\"\r\n                       icon=\"fas fa-coins\">\r\n                <input  className=\"input is-normal\"\r\n                        type=\"number\" required={true}\r\n                        min=\"1\" step=\"1\"\r\n                        name=\"startingBalance\"\r\n                        value={this.state.startingBalance/100}\r\n                        onChange={(event) => {\r\n                          let changes = { [event.target.name]: parseFloat(event.target.value) * 100 }\r\n                          this.setState(changes)\r\n                        }}/>\r\n              </Control>\r\n              <Control label=\"Hash\"\r\n                       icon=\"fas fa-key\">\r\n                <input  className=\"input is-normal\"\r\n                        type=\"text\" required={true}\r\n                        name=\"gameHash\"\r\n                        value={this.state.gameHash}\r\n                        onChange={(event) => {\r\n                          this.setState({ [event.target.name]: String(event.target.value) })\r\n                        }}/>\r\n              </Control>\r\n\r\n              <Control label=\"Games\"\r\n                       icon=\"fas fa-hashtag\">\r\n                <input  className=\"input is-normal\"\r\n                        type=\"number\" required={true}\r\n                        min=\"1\" step=\"1\"\r\n                        name=\"gameAmount\"\r\n                        value={this.state.gameAmount}\r\n                        onChange={(event) => {\r\n                          this.setState({ [event.target.name]: parseInt(event.target.value) })\r\n                        }}/>\r\n              </Control>\r\n              <hr className=\"hr\"/>\r\n              <div className=\"field is-grouped\">\r\n                <div className=\"control\">\r\n                  <button className={`button is-success ${scripts.isLoading ? 'is-loading' : ''}`}\r\n                          disabled={!(\r\n                            this.state.script &&\r\n                            this.state.gameHash &&\r\n                            this.state.gameAmount &&\r\n                            this.state.startingBalance\r\n                          )}\r\n                          onClick={() => {\r\n                            let args = {\r\n                              script: this.state.script,\r\n                              gameHash: this.state.gameHash,\r\n                              gameAmount: this.state.gameAmount,\r\n                              startingBalance: this.state.startingBalance,\r\n                              drawChart: this.state.drawChart,\r\n                            };\r\n                            scripts.onRunScript(args)\r\n                          }}>\r\n                    Run Script\r\n                  </button>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <label className=\"checkbox\">\r\n                    <input className=\"checkbox\"\r\n                           type=\"checkbox\"\r\n                           name=\"drawChart\"\r\n                           checked={this.state.drawChart}\r\n                           onChange={(event) => {\r\n                            this.setState({[event.target.name]: Boolean(event.target.checked)})\r\n                          }}/>\r\n                    &nbsp;\r\n                    Draw Chart\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <textarea className=\"textarea\"\r\n                          value={scripts.results ? scripts.results.log : undefined}\r\n                          readOnly={true}\r\n                          style={{width: '100%', height: '200px', resize: 'both'}}\r\n                          placeholder=\"Script logs will appear here\">\r\n                </textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {scripts.selected && scripts.results && (\r\n          <section className=\"section\">\r\n            <div id=\"results\"/>\r\n            {scripts.results.error && (\r\n              <div className=\"notification is-danger\">\r\n                <h3 className=\"is-3\">Error</h3>\r\n                <pre className=\"notification is-danger has-text-left\">\r\n                  {String(scripts.results.error)}\r\n                </pre>\r\n              </div>\r\n            )}\r\n            {!scripts.results.error && (\r\n              <div className=\"columns\">\r\n                <div className=\"column is-one-fifth\">\r\n                  <table className={\"table is-hoverable box is-inline-block\"}>\r\n                    <tbody>\r\n                      <tr>\r\n                        <th>Games Played</th>\r\n                        <td>{scripts.results.bets}</td>\r\n                      </tr>\r\n                      <tr>\r\n                      <th>Duration</th>\r\n                      <td>{msToTime(scripts.results.duration)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                      <th>Start Balance</th>\r\n                      <td>{scripts.results.startingBalance/100}</td>\r\n                      </tr>\r\n                      <tr>\r\n                      <th>Win Streak</th>\r\n                      <td>{scripts.results.winStreak}</td>\r\n                      </tr>\r\n                      <tr>\r\n                      <th>Lose Streak</th>\r\n                      <td>{scripts.results.loseStreak}</td>\r\n                      </tr>\r\n                      <tr>\r\n                      <th>Smallest Bet</th>\r\n                      <td>{scripts.results.lowBet/100}</td>\r\n                      </tr>\r\n                      <tr>\r\n                      <th>Largest Bet</th>\r\n                      <td>{scripts.results.highBet/100}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Profit ATL</th>\r\n                        <td>{Math.round(scripts.results.profitATL)/100}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Profit ATH</th>\r\n                        <td>{Math.round(scripts.results.profitATH)/100}</td>\r\n                      </tr>\r\n                      <tr>\r\n                      <th>Balance ATL</th>\r\n                      <td>{scripts.results.balanceATL/100}</td>\r\n                      </tr>\r\n                      <tr>\r\n                      <th>Balance ATH</th>\r\n                      <td>{scripts.results.balanceATH/100}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>End Profit</th>\r\n                        <td className={`${scripts.results.profit >= 0 ? 'has-text-success' : 'has-text-danger'}`}>{Math.round(scripts.results.profit)/100}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>End Balance</th>\r\n                        <td>{scripts.results.balance/100}</td>\r\n                      </tr>\r\n                      {scripts.results.profit > 0 && (\r\n                        <tr>\r\n                          <th>Profit per hour</th>\r\n                          <td>{Math.round(scripts.results.profitPerHour)/100}</td>\r\n                        </tr>\r\n                      )}\r\n                      <tr>\r\n                        <td colSpan=\"2\">{scripts.results.message || ''}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                {scripts.results.chartData && (\r\n                  <div className=\"column\">\r\n                    <div className=\"has-text-centered box\">\r\n                      <LineChart {...{\r\n                        viewBoxWidth: 960,\r\n                        viewBoxHeight: 500,\r\n                        data: scripts.results.chartData,\r\n                        xAccessor: (d) =>  { return d.id },\r\n                        yAccessor: (d) => { return d.balance },\r\n                        crosshairEnabled: true,\r\n                        crosshairClassName: (d) => { return d.profit > 0 ? 'is-success' : 'is-danger' },\r\n                      }}/>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n            <BackToTopButton/>\r\n          </section>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass Delete extends Component {\r\n  render () {\r\n    return (\r\n      <div>\r\n        {!this.props.script ? null : (\r\n          <div>\r\n            <p>\r\n              Are you sure you want to delete this script?\r\n            </p>\r\n            <div className=\"buttons is-pulled-right\">\r\n              <button\r\n                className=\"button\"\r\n                onClick={() => {\r\n                  let id = this.props.script.id\r\n                  this.props.onDeleteConfirmed(id, true)\r\n                }}>Yes</button>\r\n              <button\r\n                className=\"button\"\r\n                onClick={this.props.onCancel}>No</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass EditButton extends Component {\r\n  render () {\r\n    const { className = '', ...rest } = this.props\r\n    return (\r\n      <div className={`BustabitScript EditButton control ${className}`}>\r\n        <button {...rest} className={`button is-info ${className}`}>\r\n          <span className=\"icon is-normal\" width=\"2em\" height=\"2em\">\r\n            <i className=\"fas fa-eye\"></i>\r\n          </span>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass SelectButton extends Component {\r\n  render () {\r\n    const { className = '', ...rest } = this.props\r\n    return (\r\n      <div className={\"BustabitScript SelectButton control\"}>\r\n        <button {...rest} className={`button ${className}`}>\r\n          <span className=\"icon is-normal\" width=\"2em\" height=\"2em\">\r\n            <i className=\"fas fa-play\"></i>\r\n          </span>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass DeleteButton extends Component {\r\n  render () {\r\n    const { className = '', ...rest } = this.props\r\n    return (\r\n      <div className={\"BustabitScript DeleteButton control\"}>\r\n        <button {...rest} className={`button ${className}`}>\r\n          <span className=\"icon is-normal\" width=\"2em\" height=\"2em\">\r\n            <i className=\"fas fa-trash-alt\"></i>\r\n          </span>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass NewButton extends Component {\r\n  render () {\r\n    const { className = '', ...rest } = this.props\r\n    return (\r\n      <div className=\"BustabitScript NewButton control is-pulled-right\">\r\n        <button {...rest} className={`button is-success ${className}`}>\r\n          <span className=\"icon is-normal\" width=\"2em\" height=\"2em\">\r\n            <i className=\"fas fa-plus\"></i>\r\n          </span>\r\n          <span>New</span>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass GoBackButton extends Component {\r\n  render () {\r\n    const { className = '', ...rest } = this.props\r\n    return (\r\n      <a {...rest} className={`button is-normal ${className}`}>\r\n        <span className=\"icon is-medium\">\r\n          <i className=\"fas fa-arrow-left\"></i>\r\n        </span>\r\n        <span>Go Back</span>\r\n      </a>\r\n    )\r\n  }\r\n}\r\n\r\nclass BackToTopButton extends Component {\r\n  render () {\r\n    const { className = '', onClick, ...rest } = this.props || {}\r\n    return (\r\n      <button {...rest} className={`button is-normal ${className}`}\r\n          onClick={() => {\r\n            window.scroll({ top: 0, behavior: 'smooth' })\r\n            if (onClick) onClick();\r\n          }}>\r\n        <span className=\"icon is-medium\">\r\n          <i className=\"fas fa-arrow-up\"></i>\r\n        </span>\r\n        <span>Back to Top</span>\r\n      </button>\r\n    )\r\n  }\r\n}\r\n\r\nclass Edit extends Component {\r\n\r\n  constructor (props) {\r\n    super(props)\r\n    this.close = this.close.bind(this)\r\n    this.save = this.save.bind(this)\r\n  }\r\n\r\n  close (event) {\r\n    if (event) { event.preventDefault(); }\r\n    this.props.onCancel()\r\n  }\r\n\r\n  save (event) {\r\n    if (event) { event.preventDefault(); }\r\n    const id   = String(event.target.id.value || '').trim()\r\n    const name = String(event.target.name.value || '').trim()\r\n    const text = String(event.target.text.value || '').trim()\r\n    const script = { ...this.props.script, id, name, text }\r\n    this.props.onSave(script)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className={'BustabitScript Edit modal' + (this.props.script ? ' is-active' : '')}>\r\n        <div className=\"modal-background\" />\r\n        <div className=\"modal-card\" style={{ width: '90%'}}>\r\n          <form id=\"edit-form\" onSubmit={(event)=>{ this.save(event); }}>\r\n            <header className=\"modal-card-head\">\r\n              <p className=\"modal-card-title\">Edit Script</p>\r\n              <button className=\"delete\"\r\n                      onClick={this.close}>\r\n              </button>\r\n            </header>\r\n            <section className=\"modal-card-body\">\r\n              {this.props.error && (\r\n                <div className=\"notification is-warning\">\r\n                  <p><strong>Error</strong></p>\r\n                  <pre className=\"notification is-warning has-text-left\">\r\n                    {String(this.props.error)}\r\n                  </pre>\r\n                </div>\r\n              )}\r\n              <input  className=\"input\"\r\n                      type=\"hidden\"\r\n                      name=\"id\"\r\n                      defaultValue={this.props.script ? this.props.script.id : ''}/>\r\n              <input  className=\"input is-normal\"\r\n                      required={true}\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      defaultValue={this.props.script ? this.props.script.name : ''}/>\r\n              <textarea className=\"textarea is-normal codemirror-editor\"\r\n                        required={true}\r\n                        rows=\"10\"\r\n                        name=\"text\"\r\n                        defaultValue={this.props.script ? this.props.script.text : ''}>\r\n              </textarea>\r\n            </section>\r\n            <footer className=\"modal-card-foot\">\r\n              <button className=\"button is-success\"\r\n                      type=\"submit\">\r\n                Save Script\r\n              </button>\r\n              <button className=\"button\"\r\n                      onClick={this.close}>\r\n                Cancel\r\n              </button>\r\n            </footer>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nEdit.propTypes = {\r\n  script: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    config: PropTypes.object,\r\n  }).isRequired,\r\n  onCancel: PropTypes.func.isRequired,\r\n  onSave: PropTypes.func.isRequired\r\n}\r\n\r\nclass New extends Edit { }\r\n\r\nNew.propTypes = {\r\n  script: PropTypes.shape({\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired\r\n  }),\r\n  onCancel: PropTypes.func.isRequired,\r\n  onSave: PropTypes.func.isRequired\r\n}\r\n\r\n\r\nclass Control extends Component {\r\n  render () {\r\n    const { children, label, icon, className = '', ...rest } = this.props\r\n    return (\r\n      <div className=\"field is-horizontal\">\r\n        {label === undefined ? null : (\r\n          <div className=\"field-label is-normal\">\r\n            <label className=\"label\">\r\n              {label}\r\n            </label>\r\n          </div>\r\n        )}\r\n        <div className=\"field-body\">\r\n          <div className=\"field\">\r\n            <div className={`control ${icon ? ' has-icons-left' : ''} ${className}`} {...rest}>\r\n              {children}\r\n              {icon && (\r\n                <span className=\"icon is-small is-left\">\r\n                  <i className={icon}></i>\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default { App, Title, EditButton }\r\n","import React, { Component } from 'react';\r\n\r\nclass DisclaimerButton extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { className = '', ...rest } = this.props\r\n    return (\r\n      <div>\r\n        <button {...rest} className={`button ${className}`}\r\n                onClick={() => this.setState({ isOpen: true })}>\r\n          <span className=\"icon is-medium\">\r\n            <i className=\"fas fa-exclamation\"></i>\r\n          </span>\r\n          <span className=\"is-uppercase\">Disclaimer</span>\r\n        </button>\r\n        <DisclaimerModal\r\n          isOpen={this.state.isOpen}\r\n          onClose={() => this.setState({ isOpen: false })}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass DisclaimerModal extends Component {\r\n  render () {\r\n    return (\r\n      <div className={'modal' + (this.props.isOpen ? ' is-active' : '')}>\r\n        <div className=\"modal-background\"\r\n             onClick={this.props.onClose}>\r\n        </div>\r\n        <div className=\"modal-content\">\r\n          <div className=\"box\">\r\n            <h4 className=\"title is-4\">\r\n              <span\r\n                className=\"icon is-medium\">\r\n                <i className=\"fas fa-exclamation\"></i>\r\n              </span>\r\n              Disclaimer\r\n            </h4>\r\n            <p>No one is responsible if you lose money using this tool and/or trusting its results.</p>\r\n            <p>All it does is simulate you running a script on previous bustabit games. </p>\r\n            <p>Results achieved in the past don't provide any guarantee for the future.</p>\r\n            <p>And, there's no guarantee that the simulated engine on this site, behaves in exactly the same way as the engine on bustabit.</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"modal-close is-large\"\r\n          onClick={this.props.onClose}>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport { DisclaimerButton, DisclaimerModal }\r\n","import React, { Component } from 'react';\r\n\r\nclass DonateButton extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { className = '', ...rest } = this.props\r\n    return (\r\n      <div>\r\n        <button {...rest}\r\n                className={`button ${className}`}\r\n                onClick={() => this.setState({ isOpen: true })}>\r\n          <span className=\"icon\">\r\n            <i className=\"fas fa-hand-holding-usd\"></i>\r\n          </span>\r\n          <span className=\"is-uppercase\">Send a tip...</span>\r\n        </button>\r\n        <DonateModal\r\n          isOpen={this.state.isOpen}\r\n          onClose={() => this.setState({ isOpen: false })}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nclass DonateModal extends Component {\r\n  render () {\r\n    return (\r\n      <div className={'modal' + (this.props.isOpen ? ' is-active' : '')}>\r\n        <div className=\"modal-background\"\r\n             onClick={this.props.onClose}>\r\n        </div>\r\n        <div className=\"modal-content\">\r\n          <div className=\"box\">\r\n            <p><strong>Hello fellow gambler!</strong></p>\r\n            <p>I hope you like my Bustabit Simulator. I worked hard on it.\r\n              <span className=\"icon is-medium\">\r\n                <i className=\"fas fa-grin-beam-sweat\"></i>\r\n              </span>\r\n            </p>\r\n            <p>If you use this tool regularly, please consider donating a dollar or two.</p>\r\n            <p>\r\n              <a href=\"https://bustabit.com/tip\"\r\n                 target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <span>https://bustabit.com/tip</span>\r\n              </a>\r\n              <span>My username is </span><span className=\"is-bold\">Mtihc</span>\r\n            </p>\r\n            <p>\r\n              <a href=\"https://paypal.me/MitchStoffels\"\r\n                 target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <span>https://paypal.me/MitchStoffels</span>\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"modal-close is-large\"\r\n          onClick={this.props.onClose}>\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport { DonateModal , DonateButton }\r\n","import React from 'react';\r\nimport 'bulma/css/bulma.css'\r\nimport './AppView.css';\r\nimport BustabitScript from './components/BustabitScript'\r\nimport { DisclaimerButton } from './components/Disclaimer'\r\nimport { DonateButton } from './components/Donate'\r\n\r\nfunction AppView (props) {\r\n  return (\r\n    <div className=\"App\">\r\n      <nav className=\"navbar has-shadow\">\r\n        <div className=\"container\">\r\n          <div className=\"navbar-brand\">\r\n            <div className=\"navbar-item\">\r\n              <BustabitScript.Title/>\r\n            </div>\r\n          </div>\r\n          <div className=\"navbar-end\">\r\n            <div className=\"navbar-item\">\r\n              <div className=\"buttons\">\r\n                <DisclaimerButton className=\"is-small\"/>\r\n                <DonateButton className=\"is-small\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      <main className=\"section has-text-centered\">\r\n        <BustabitScript.App scripts={props.scripts}/>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppView\r\n","const ActionTypes = {\r\n  LOADED:       'scripts/loaded',\r\n  NEW:          'scripts/new',\r\n  CREATE_ERROR: 'scripts/create-error',\r\n  CREATED:      'scripts/created',\r\n  EDIT:         'scripts/edit',\r\n  UPDATE_ERROR: 'scripts/update-error',\r\n  UPDATED:      'scripts/updated',\r\n  CANCEL:       'scripts/cancel',\r\n  DELETE:       'scripts/delete',\r\n  DELETE_ERROR: 'scripts/delete-error',\r\n  DELETED:      'scripts/deleted',\r\n  SIMULATE:     'scripts/simulate',\r\n  SIMULATED:    'scripts/simulated',\r\n};\r\n\r\nexport default ActionTypes;\r\n","import {Dispatcher} from 'flux';\r\n\r\nexport default new Dispatcher();\r\n","import Immutable from 'immutable';\r\nimport { ReduceStore } from 'flux/utils';\r\nimport ScriptActionTypes from './ScriptActionTypes';\r\nimport ScriptDispatcher from './ScriptDispatcher';\r\n\r\nclass ScriptStore extends ReduceStore {\r\n  constructor() {\r\n    super(ScriptDispatcher);\r\n  }\r\n\r\n  getInitialState() {\r\n    return Immutable.OrderedMap()\r\n  }\r\n\r\n  reduce(state, action) {\r\n\r\n    switch (action.type) {\r\n      case ScriptActionTypes.LOADED:\r\n        return state.clear().merge(action.scripts)\r\n\r\n      case ScriptActionTypes.DELETED:\r\n        return state.delete(action.id)\r\n\r\n      case ScriptActionTypes.CREATED:\r\n        return state.set(action.script.id, action.script)\r\n\r\n      case ScriptActionTypes.UPDATED:\r\n        return state.set(action.script.id, action.script)\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ScriptStore();\r\n","import Immutable from 'immutable';\r\nimport {ReduceStore} from 'flux/utils';\r\nimport ScriptActionTypes from './ScriptActionTypes';\r\nimport ScriptDispatcher from './ScriptDispatcher';\r\nimport ScriptConstants from './ScriptConstants';\r\n\r\nclass ScriptListStore extends ReduceStore {\r\n  constructor() {\r\n    super(ScriptDispatcher);\r\n  }\r\n\r\n  getInitialState() {\r\n    return Immutable.OrderedMap({\r\n      creating: undefined,\r\n      editingId: undefined,\r\n      deletingId: undefined,\r\n      selectedId: undefined,\r\n      isSimulating: false,\r\n      results: undefined,\r\n      error: undefined,\r\n    })\r\n  }\r\n\r\n  reduce(state, action) {\r\n    switch (action.type) {\r\n      case ScriptActionTypes.NEW:\r\n        return state.set('creating', Object.assign({}, ScriptConstants.NEW_SCRIPT))\r\n                    .set('createError', undefined)\r\n\r\n      case ScriptActionTypes.CREATED:\r\n        return state.set('creating', undefined)\r\n                    .set('createError', undefined)\r\n\r\n      case ScriptActionTypes.CREATE_ERROR:\r\n        return state.set('createError', action.error)\r\n\r\n\r\n      case ScriptActionTypes.EDIT:\r\n        return state.set('editingId', action.id)\r\n                    .set('updateError', undefined)\r\n\r\n      case ScriptActionTypes.UPDATED:\r\n        return state.set('editingId', undefined)\r\n                    .set('updateError', undefined)\r\n\r\n      case ScriptActionTypes.UPDATE_ERROR:\r\n        return state.set('updateError', action.error)\r\n\r\n\r\n      case ScriptActionTypes.DELETE:\r\n        return state.set('deletingId', action.id)\r\n                    .set('deleteError', undefined)\r\n\r\n      case ScriptActionTypes.DELETED:\r\n        return state.set('deletingId', undefined)\r\n                    .set('deleteError', undefined)\r\n\r\n      case ScriptActionTypes.DELETE_ERROR:\r\n        return state.set('deleteError', action.error)\r\n\r\n\r\n      case ScriptActionTypes.CANCEL:\r\n        return state.set('creating', undefined)\r\n                    .set('editingId', undefined)\r\n                    .set('deletingId', undefined)\r\n                    .set('createError', undefined)\r\n                    .set('updateError', undefined)\r\n                    .set('deleteError', undefined)\r\n\r\n      case ScriptActionTypes.SELECT:\r\n        return state.set('selectedId', action.id)\r\n                    .set('results', undefined)\r\n\r\n      case ScriptActionTypes.DESELECT:\r\n        return state.set('selectedId', undefined)\r\n\r\n      case ScriptActionTypes.SIMULATE:\r\n        return state.set('results', undefined)\r\n                    .set('isSimulating', true)\r\n\r\n      case ScriptActionTypes.SIMULATED:\r\n        return state.set('results', action.results)\r\n                    .set('isSimulating', false)\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ScriptListStore();\r\n","import ScriptActionTypes from './ScriptActionTypes';\r\nimport ScriptDispatcher from './ScriptDispatcher';\r\nimport ScriptUtils from './ScriptUtils'\r\n\r\nconst Actions = {\r\n\r\n  load () {\r\n    let scripts = ScriptUtils.load();\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.LOADED, scripts });\r\n  },\r\n\r\n  restoreSamples () {\r\n    let scripts = ScriptUtils.restoreSamples()\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.LOADED, scripts });\r\n  },\r\n\r\n  delete (id) {\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.DELETE, id })\r\n  },\r\n\r\n  deleteConfirmed (id) {\r\n    ScriptUtils.delete(id)\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.DELETED, id })\r\n  },\r\n\r\n  save (script) {\r\n    if (!script.id) {\r\n      try {\r\n        ScriptUtils.save(script)\r\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.CREATED, script })\r\n      } catch (e) {\r\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.CREATE_ERROR, script, error: e })\r\n      }\r\n    } else {\r\n      try {\r\n        ScriptUtils.save(script)\r\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.UPDATED, script })\r\n      } catch (e) {\r\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.UPDATE_ERROR, script, error: e })\r\n      }\r\n    }\r\n  },\r\n\r\n  new () {\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.NEW })\r\n  },\r\n\r\n  edit (id) {\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.EDIT, id })\r\n  },\r\n\r\n  cancel () {\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.CANCEL })\r\n  },\r\n\r\n  select (id) {\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.SELECT, id })\r\n  },\r\n\r\n  deselect () {\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.DESELECT })\r\n  },\r\n\r\n  runScript (settings) {\r\n    Actions.save(settings.script)\r\n\r\n    ScriptDispatcher.dispatch({ type: ScriptActionTypes.SIMULATE, settings });\r\n    ScriptUtils\r\n      .runScript(settings)\r\n      .then((results) => {\r\n        ScriptDispatcher.dispatch({ type: ScriptActionTypes.SIMULATED, results })\r\n      })\r\n  }\r\n};\r\n\r\nexport default Actions;\r\n","import AppView from '../views/AppView';\r\nimport {Container} from 'flux/utils';\r\nimport ScriptStore from '../data/ScriptStore';\r\nimport ScriptListStore from '../data/ScriptListStore';\r\nimport ScriptActions from '../data/ScriptActions';\r\n\r\nfunction getStores() {\r\n  return [\r\n    ScriptStore,\r\n    ScriptListStore\r\n  ];\r\n}\r\n\r\nfunction getState() {\r\n  let items = ScriptStore.getState()\r\n  let list = ScriptListStore.getState()\r\n  return {\r\n    scripts: {\r\n      ...{\r\n        items: items,\r\n        creating: list.get('creating'),\r\n        editing: items.get(list.get('editingId')),\r\n        deleting: items.get(list.get('deletingId')),\r\n        selected: items.get(list.get('selectedId')),\r\n        isLoading: list.get('isSimulating'),\r\n        results: list.get('results'),\r\n        createError: list.get('createError'),\r\n        updateError: list.get('updateError'),\r\n        deleteError: list.get('deleteError')\r\n      },\r\n      ...{\r\n        load: ScriptActions.load,\r\n        onNew: ScriptActions.new,\r\n        onEdit: ScriptActions.edit,\r\n        onCancel: ScriptActions.cancel,\r\n        onSave: ScriptActions.save,\r\n        onDelete: ScriptActions.delete,\r\n        onDeleteConfirmed: ScriptActions.deleteConfirmed,\r\n        onSelect: ScriptActions.select,\r\n        onDeselect: ScriptActions.deselect,\r\n        onRunScript: ScriptActions.runScript,\r\n      }\r\n    },\r\n  };\r\n}\r\n\r\nexport default Container.createFunctional(AppView, getStores, getState);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport AppContainer from './containers/AppContainer';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<AppContainer />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}