(this["webpackJsonpbustabit-script-simulator"]=this["webpackJsonpbustabit-script-simulator"]||[]).push([[0],{16:function(e,t,a){"use strict";const n={id:"",name:"Untitled Script",text:"var config = {\n\n};\n\nlog('Simulation begins here...')",config:void 0};t.a={SCRIPT_SAMPLES:[{name:"Flat Bet",text:"var config = {\n  wager: {\n    value: 1000, type: 'balance', label: 'wager'\n  },\n  payout: {\n    value: 2, type: 'multiplier', label: 'payout' }\n};\n\n// Try to bet immediately when script starts\nmakeBet();\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  makeBet();\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first();\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  if (lastGame.cashedAt) {\n    var profit = Math.round((config.wager.value * config.payout.value - config.wager.value) / 100)\n    log('we won', profit, 'bits');\n  } else {\n    log('we lost', Math.round(config.wager.value / 100), 'bits');\n  }\n}\n\nfunction makeBet() {\n  engine.bet(config.wager.value, config.payout.value);\n  log('betting', Math.round(config.wager.value / 100), 'on', config.payout.value, 'x');\n}"},{name:"Martingale",text:"var config = {\n  baseBet: { value: 100, type: 'balance', label: 'base bet' },\n  payout: { value: 2, type: 'multiplier' },\n  stop: { value: 1e8, type: 'balance', label: 'stop if bet >' },\n  loss: {\n    value: 'increase', type: 'radio', label: 'On Loss',\n    options: {\n      base: { type: 'noop', label: 'Return to base bet' },\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\n    }\n  },\n  win: {\n    value: 'base', type: 'radio', label: 'On Win',\n    options: {\n      base: { type: 'noop', label: 'Return to base bet' },\n      increase: { value: 2, type: 'multiplier', label: 'Increase bet by' },\n    }\n  }\n};\n\n\nlog('Script is running..');\n\nvar currentBet = config.baseBet.value;\n\n// Always try to bet when script is started\nengine.bet(roundBit(currentBet), config.payout.value);\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  engine.bet(roundBit(currentBet), config.payout.value);\n}\n\nfunction onGameEnded() {\n  var lastGame = engine.history.first()\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === 'base') {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.win.value === 'increase');\n      currentBet *= config.win.options.increase.value;\n    }\n    log('We won, so next bet will be', currentBet/100, 'bits')\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === 'base') {\n      currentBet = config.baseBet.value;\n    } else {\n      console.assert(config.loss.value === 'increase');\n      currentBet *= config.loss.options.increase.value;\n    }\n    log('We lost, so next bet will be', currentBet/100, 'bits')\n  }\n\n  if (currentBet > config.stop.value) {\n    log('Was about to bet', currentBet, 'which triggers the stop');\n    engine.removeListener('GAME_STARTING', onGameStarted);\n    engine.removeListener('GAME_ENDED', onGameEnded);\n  }\n}\n\nfunction roundBit(bet) {\n  return Math.round(bet / 100) * 100;\n}"},{name:"Payout Martingale",text:"var config = {\n  bet: {\n    value: 100,\n    type: 'balance'\n  },\n  basePayout: {\n    value: 1.2,\n    type: 'multiplier',\n    label: 'base payout'\n  },\n  stop: {\n    value: 20,\n    type: 'multiplier',\n    label: 'stop if payout >'\n  },\n  loss: {\n    value: 'increase',\n    type: 'radio',\n    label: 'On Loss',\n    options: {\n      base: {\n        type: 'noop',\n        label: 'Return to base payout'\n      },\n      increase: {\n        value: 0.1,\n        type: 'multiplier',\n        label: 'Increase payout by +'\n      },\n    }\n  },\n  win: {\n    value: 'base',\n    type: 'radio',\n    label: 'On Win',\n    options: {\n      base: {\n        type: 'noop',\n        label: 'Return to base payout'\n      },\n      increase: {\n        value: 1,\n        type: 'multiplier',\n        label: 'Increase payout by +'\n      },\n    }\n  }\n};\n\n\nlog('Script is running..');\n\nvar currentPayout = config.basePayout.value;\n\n// Always try to bet when script is started\nengine.bet(config.bet.value, currentPayout);\n\nengine.on('GAME_STARTING', onGameStarted);\nengine.on('GAME_ENDED', onGameEnded);\n\nfunction onGameStarted() {\n  log('betting', Math.round(config.bet.value / 100), 'at payout of', currentPayout, 'x')\n  engine.bet(config.bet.value, currentPayout);\n}\n\nfunction onGameEnded(info) {\n  var lastGame = engine.history.first()\n\n  // If we wagered, it means we played\n  if (!lastGame.wager) {\n    return;\n  }\n\n  // we won..\n  if (lastGame.cashedAt) {\n    if (config.win.value === 'base') {\n      currentPayout = config.basePayout.value;\n      log('won, so resetting payout to', currentPayout)\n    } else {\n      console.assert(config.win.value === 'increase');\n      currentPayout += config.win.options.increase.value;\n      log('won, so increasing payout to', currentPayout)\n    }\n  } else {\n    // damn, looks like we lost :(\n    if (config.loss.value === 'base') {\n      currentPayout = config.basePayout.value;\n      log('lost, so resetting payout to', currentPayout)\n    } else {\n      console.assert(config.loss.value === 'increase');\n      currentPayout += config.loss.options.increase.value;\n      log('lost, so increasing payout', currentPayout)\n    }\n  }\n\n  if (currentPayout > config.stop.value) {\n    log('Was about to bet with payout', currentPayout, 'which triggers the stop');\n    engine.removeListener('GAME_STARTING', onGameStarted);\n    engine.removeListener('GAME_ENDED', onGameEnded);\n  }\n}"}],NEW_SCRIPT:n}},27:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){var events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(28),events__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__),crypto_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),crypto_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_1__);function hashToBust(e){e=(e=crypto_js__WEBPACK_IMPORTED_MODULE_1___default.a.HmacSHA256(crypto_js__WEBPACK_IMPORTED_MODULE_1___default.a.enc.Hex.parse(e),"0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526").toString(crypto_js__WEBPACK_IMPORTED_MODULE_1___default.a.enc.Hex)).slice(0,13);let t=parseInt(e,16)/Math.pow(2,52);t=99/(1-t);const a=Math.floor(t);return Math.max(1,a/100)}function hashToBusts(e,t){if(isNaN(t)||t<=0)throw new TypeError("amount must be a number larger than zero.");let a=e;const n=[];n.unshift({hash:a,bust:hashToBust(String(a))});for(let s=0;s<t;s++){let e=String(crypto_js__WEBPACK_IMPORTED_MODULE_1___default.a.SHA256(String(a))),t=hashToBust(e);n.unshift({hash:e,bust:t}),a=e}return n}class SimulatedBustabitHistory{constructor(){this.data=[]}get size(){return this.data.length}get length(){return this.data.length}get start(){return 0}get end(){return this.data.length-1}first(){return this.size>0?this.data[0]:null}last(){return this.size>0?this.data[this.size-1]:null}toArray(){return this.data}}class SimulatedBustabitEngine extends events__WEBPACK_IMPORTED_MODULE_0___default.a{constructor(){super(),this._userInfo={uname:"Anonymous",balance:0,balanceATH:0,balanceATL:0,winStreak:0,loseStreak:0,streakSum:0,sumWagers:0,highBet:0,lowBet:0,bets:0,profit:0,profitATH:0,profitATL:0,profitPerHour:0,duration:0},this.history=new SimulatedBustabitHistory,this.bet=this.bet.bind(this)}getCurrentBet(){if(this.next)return{wager:this.next.wager,payout:this.next.payout}}isBetQueued(){return!!this.next}cancelQueuedBet(){this.next=void 0}bet(e,t){return new Promise((a,n)=>{this.next={wager:e,payout:Math.round(100*t)/100,isAuto:!0,resolve:a,reject:n}}).catch(e=>console.error(e))}}function evalScript(){const config=this.config,engine=this.engine,userInfo=this.userInfo,log=this.log,stop=this.stop,gameResultFromHash=this.gameResultFromHash;eval(arguments[0])}function simulate({text:e,config:t,startingBalance:a,gameHash:n,gameAmount:s,drawChart:r,quickTest:l}){return new Promise((i,c)=>{let o="",m=!1,u=void 0;const d={log:console.log,warn:console.warn,info:console.info,error:console.error,debug:console.debug};function p(){}l||(console.log=p,console.warn=p,console.info=p,console.error=p,console.debug=p);const h=new SimulatedBustabitEngine,E=h._userInfo,g=l?function(){let e=Array.prototype.slice.call(arguments);o+=e.join(" ")+"\n",e.unshift("LOG:"),console.log(...e)}:()=>{};h.on("error",e=>{g("Error: ".concat(e)),y()}),g("Script starting"),E.balance=a,E.balanceATH=a,E.balanceATL=a;const b={duration:0,startingBalance:a,balance:a,balanceATH:a,balanceATL:a,bets:0,profit:0,lowBet:0,highBet:0,winStreak:0,loseStreak:0,streakSum:0,profitPerHour:0,profitATH:0,profitATL:0,message:"",history:h.history.data,log:o};r&&Object.assign(b,{chartData:[]});const f={config:t,engine:h,userInfo:E,log:g,stop:function(e){u=e,m=!0},gameResultFromHash:function(e){return new Promise(t=>t(hashToBust(e)))}};evalScript.call(f,e);const v=hashToBusts(n,s);function _(e){e++,setImmediate(()=>{e<v.length&&!m?function(e){const t=v[e];t.id=e,t.isSimulation=!0,t.wager=0,t.cashedAt=0,h.gameState="GAME_STARTING",h.emit("GAME_STARTING",{gameId:e});const n=h.next;if(h.next=null,n){if(isNaN(n.wager)||n.wager<100||n.wager%100!==0)return n.reject("INVALID_BET"),y();if(isNaN(n.payout))return n.reject("cannot parse JSON"),y();if(E.balance-n.wager<0)return n.reject("BET_TOO_BIG"),E.sumWagers+=n.wager,y();if(n.payout<=1)return n.reject("payout is too low"),y();n.wager>0&&(E.balance-=n.wager,E.bets++,E.sumWagers+=n.wager),n.resolve(null),h.emit("BET_PLACED",{uname:E.uname,wager:n.wager,payout:n.payout})}h.emit("GAME_STARTED",null),h.gameState="GAME_IN_PROGRESS",t.wager=n?n.wager:0,t.cashedAt=n&&n.wager>0&&n.payout<=t.bust?n.payout:0,0!==t.wager&&(E.balance+=t.cashedAt*t.wager,E.balance<E.balanceATL&&(E.balanceATL=E.balance),E.balance>E.balanceATH&&(E.balanceATH=E.balance),E.profit=E.balance-a,(!E.lowBet||t.wager<E.lowBet)&&(E.lowBet=t.wager),(!E.highBet||t.wager>E.highBet)&&(E.highBet=t.wager),E.profit<E.profitATL&&(E.profitATL=E.profit),E.profit>E.profitATH&&(E.profitATH=E.profit));t.cashedAt>0?(E.sinceWin=0,E.sinceLose++,E.sinceLose>E.winStreak&&(E.winStreak=E.sinceLose),E.streakSum<E.sumWagers&&(E.streakSum=E.sumWagers),E.sumWagers=0,h.emit("CASHED_OUT",{uname:E.uname,cashedAt:t.cashedAt,wager:t.wager})):0!==t.wager&&(E.sinceLose=0,E.sinceWin++,E.sinceWin>E.loseStreak&&(E.loseStreak=E.sinceWin));h.history.data.unshift(t),r&&b.chartData.unshift(Object.assign({payout:n?n.payout:0,balance:E.balance,profit:t.cashedAt>0?(t.cashedAt-1)*t.wager:-t.wager},t));E.duration+=Math.log(t.bust)/6e-5,h.gameState="GAME_ENDED",h.emit("GAME_ENDED",{hash:t.hash,bust:t.bust}),_(e)}(e):y()})}function y(){l&&(console.log=d.log,console.warn=d.warn,console.info=d.info,console.error=d.error,console.debug=d.debug),m&&u&&g(u),E.streakSum<E.sumWagers&&(E.streakSum=E.sumWagers),b.duration=E.duration,b.startingBalance=a,b.balance=E.balance,b.bets=E.bets,b.profit=E.profit,b.lowBet=E.lowBet,b.highBet=E.highBet,b.streakSum=E.streakSum,b.loseStreak=E.loseStreak,b.winStreak=E.winStreak,b.profitATH=E.profitATH,b.profitATL=E.profitATL,b.balanceATH=E.balanceATH,b.balanceATL=E.balanceATL,b.profitPerHour=b.profit/(b.duration/36e5),b.message="".concat(E.bets," Games played. ").concat(b.profit>0?"Won":"Lost"," ").concat(b.profit/100," bits. ").concat(b.message||""),b.history=h.history.results,b.log=o,i(b)}_(null)})}__webpack_exports__.a=simulate}).call(this,__webpack_require__(51).setImmediate)},29:function(e,t,a){e.exports=a(77)},34:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(14),l=a.n(r),i=(a(34),a(5)),c=(a(35),a(36),a(3));class o extends n.Component{constructor(e){super(e),this.handleConfigFieldChange=this.handleConfigFieldChange.bind(this)}handleConfigFieldChange(e,t){let a=e.split("."),n=this.props.config;for(let s=0;s<a.length;s++)n=n[a[s]];n.value=t,this.props.onChange(this.props.config)}render(){const e=this.props,t=e.config,a=(e.onChange,e.className),n=void 0===a?"":a,r=Object(c.a)(e,["config","onChange","className"]);return s.a.createElement("div",Object.assign({},r,{className:"BustabitScript Config ".concat(n)}),t?Object.keys(t).map(e=>{let a=t[e];return(0,m[a.type])(Object(i.a)(Object(i.a)({},a),{},{name:e,onChange:this.handleConfigFieldChange}))}):null)}}const m=Object.freeze({balance:function({name:e,label:t,value:a,optional:n,onChange:r}){let l="config.".concat(e);return s.a.createElement("div",{className:"field is-horizontal",key:l},s.a.createElement("div",{className:"field-label is-normal"},s.a.createElement("label",{htmlFor:l,className:"label"},t||e)),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right"},s.a.createElement("input",{type:"number",className:"input is-normal",id:l,name:e,value:parseFloat(a)/100,required:!n,step:"1",onChange:function(t){r(e,100*parseFloat(t.target.value))}}),s.a.createElement("span",{className:"icon is-small is-right"},"bits")))))},checkbox:function({name:e,label:t,value:a,onChange:n}){let r="config.".concat(e);return s.a.createElement("div",{className:"field is-horizontal",key:r},s.a.createElement("div",{className:"field-label is-normal"},s.a.createElement("label",{htmlFor:r,className:"label"},t||e)),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"checkbox",className:"checkbox",id:r,name:e,checked:!!a,onChange:function(t){n(e,!!t.target.checked)}})))))},multiplier:function({name:e,label:t,value:a,optional:n,onChange:r}){let l="config.".concat(e);return s.a.createElement("div",{className:"field is-horizontal",key:l},s.a.createElement("div",{className:"field-label is-normal"},s.a.createElement("label",{htmlFor:l,className:"label"},t||e)),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-right"},s.a.createElement("input",{type:"number",className:"input",id:l,name:e,value:parseFloat(a),required:!n,step:"0.01",onChange:function(t){r(e,parseFloat(t.target.value))}}),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-times"}))))))},noop:function({name:e,label:t,value:a}){let n="config.".concat(e);return s.a.createElement("div",{className:"field",key:n},s.a.createElement("label",{className:"label",htmlFor:n},t))},radio:function({name:e,label:t,value:a,options:n,onChange:r}){function l(e,t){r(e,t)}let c="config.".concat(e);return s.a.createElement("div",{className:"field",key:c},s.a.createElement("fieldset",{style:{width:"100%",padding:"10px 10px"}},s.a.createElement("legend",{className:"label has-text-centered is-uppercase"},t||e),Object.keys(n||{}).map(t=>{const c=n[t];return s.a.createElement("div",{key:"option-".concat(t),className:"field"},s.a.createElement("input",{type:"radio",name:e,id:"config.".concat(e,".options.").concat(t),value:t,checked:a===t,onChange:function(t){r(e,t.target.value)}}),"\xa0",s.a.createElement("div",{className:"is-inline-block"},m[c.type](Object(i.a)(Object(i.a)({},c),{},{onChange:l,name:"".concat(e,".options.").concat(t)}))))})))},text:function({name:e,label:t,value:a,optional:n,onChange:r}){let l="config.".concat(e);return s.a.createElement("div",{className:"field is-horizontal",key:l},s.a.createElement("div",{className:"field-label is-normal"},s.a.createElement("label",{htmlFor:l,className:"label"},t||e)),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"text",className:"input",id:l,name:e,value:a,required:!n,onChange:function(t){r(e,t.target.value)}})))))},number:function({name:e,label:t,value:a,optional:n,onChange:r}){let l="config.".concat(e);return s.a.createElement("div",{className:"field is-horizontal",key:l},s.a.createElement("div",{className:"field-label is-normal"},s.a.createElement("label",{htmlFor:l,className:"label"},t||e)),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"number",className:"input",id:l,name:e,value:parseFloat(a),required:!n,step:"1",onChange:function(t){r(e,parseFloat(t.target.value))}})))))}});var u=o,d=a(2);a(37);class p extends n.Component{constructor(e){super(e),this.state={tooltipData:void 0},this.handleTooltipChange=this.handleTooltipChange.bind(this),this.shouldUpdateLineChart=this.shouldUpdateLineChart.bind(this),this.updateLineChart=this.updateLineChart.bind(this)}componentDidMount(){this.container=l.a.findDOMNode(this),this.updateLineChart()}componentDidUpdate(e,t){this.shouldUpdateLineChart(e)&&this.updateLineChart()}render(){const e=this.props,t=(e.viewBoxWidth,e.viewBoxHeight,e.data,e.xAccessor,e.yAccessor,e.crosshairEnabled,e.crosshairClassName,e.className),a=void 0===t?"":t,n=Object(c.a)(e,["viewBoxWidth","viewBoxHeight","data","xAccessor","yAccessor","crosshairEnabled","crosshairClassName","className"]);return s.a.createElement("div",Object.assign({},n,{className:"LineChart ".concat(a)}),s.a.createElement("svg",{preserveAspectRatio:"xMinYMin meet"}),s.a.createElement("div",{className:"tooltip-container",style:{visibility:this.state.tooltipData?void 0:"hidden"}},s.a.createElement(h,{className:"tooltip",data:this.state.tooltipData})))}handleTooltipChange({data:e}){this.setState({tooltipData:e})}shouldUpdateLineChart(e){return["viewBoxWidth","viewBoxHeight","data","xAccessor","yAccessor"].some(t=>{let a=e[t],n=this.props[t];return a!==n||Array.isArray(a)&&a.length!==n.length})}updateLineChart(){!function({container:e,viewBoxWidth:t,viewBoxHeight:a,data:n,xAccessor:s,yAccessor:r,onTooltipChange:l,crosshairEnabled:i,crosshairClassName:c}){if(!e)throw new TypeError("container should be an HTMLElement");if(isNaN(t)||isNaN(a))throw new TypeError("viewBoxWidth and viewBoxHeight should be numbers");if(!s||!r||"function"!==typeof s||"function"!==typeof r)throw new TypeError("xAccessor and yAccessor should be functions");if(!n||!Array.isArray(n))throw new TypeError("data should be an array");if(l&&"function"!==typeof l)throw new TypeError("onTooltipChange should be a function");if(i&&c&&"string"!==typeof c&&"function"!==typeof c)throw new TypeError("crosshairClassName should be a string or a function");const o=(e=d.k(e)).select("svg");if(!o)throw new TypeError("container should have a child <svg></svg>");let m=e.select(".tooltip");o.attr("viewBox","0 0 ".concat(t," ").concat(a));const u={top:20,right:20,bottom:110,left:40},p={top:430,right:20,bottom:30,left:40},h=+t-u.left-u.right,E=+a-u.top-u.bottom,g=+a-p.top-p.bottom;o.selectAll("*").remove();const b=d.j().range([0,h]),f=d.j().range([0,h]),v=d.j().range([E,0]),_=d.j().range([g,0]),y=d.a(b),N=d.a(f),w=d.b(v).tickFormat((function(e){return Math.round(e)/100}));var S,C=function(e){return b(s(e))},x=function(e){return v(r(e))},A=d.h().x(C).y(x),T=d.h().x((function(e){return f(s(e))})).y((function(e){return _(r(e))})),O=d.d().extent([[0,0],[h,g]]).on("brush end",(function(){if(d.f.sourceEvent&&"zoom"===d.f.sourceEvent.type)return;var e=d.f.selection||f.range();b.domain(e.map(f.invert,f)),k.select(".data-line").attr("d",A),k.selectAll(".data-point").attr("cx",C).attr("cy",x),S&&P(S);L.select(".axis-x").call(y),o.select(".zoom").call(B.transform,d.m.scale(h/(e[1]-e[0])).translate(-e[0],0))})),B=d.l().scaleExtent([1,1/0]).translateExtent([[0,0],[h,E]]).extent([[0,0],[h,E]]).on("zoom",(function(){if(d.f.sourceEvent&&"brush"===d.f.sourceEvent.type)return;var e=d.f.transform;b.domain(e.rescaleX(f).domain()),k.select(".data-line").attr("d",A),k.selectAll(".data-point").attr("cx",C).attr("cy",x),S&&P(S);L.select(".axis-x").call(y),M.select(".brush").call(O.move,b.range().map(e.invertX,e))}));o.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",h).attr("height",E).attr("x",0).attr("y",0);var D,k=o.append("g").attr("class","data-lines").attr("transform","translate("+u.left+","+u.top+")").attr("clip-path","url(#clip)");i&&((D=o.append("g")).attr("class","crosshair").attr("transform","translate("+u.left+","+u.top+")").attr("clip-path","url(#clip)"),D.append("line").attr("class","crosshair-line crosshair-line-x"),D.append("line").attr("class","crosshair-line crosshair-line-y"));var L=o.append("g").attr("class","axes").attr("transform","translate("+u.left+","+u.top+")"),M=o.append("g").attr("class","context").attr("transform","translate("+p.left+","+p.top+")"),I=o.append("rect").attr("class","zoom").attr("width",h).attr("height",E).attr("transform","translate("+u.left+","+u.top+")");function P(e){let t=b.domain(),a=v.domain();D.select(".crosshair-line-x").transition().ease(d.e).attr("x1",C(e)).attr("y1",v(a[0])).attr("x2",C(e)).attr("y2",v(a[1])).duration(100),D.select(".crosshair-line-y").transition().ease(d.e).attr("x1",b(t[0])).attr("y1",x(e)).attr("x2",b(t[1])).attr("y2",x(e)).duration(100)}!function(n){b.domain(d.g(n,s)),v.domain(d.g(n,r)),f.domain(b.domain()),_.domain(v.domain()),L.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+E+")").call(y),L.append("g").attr("class","axis axis-y").call(w),k.append("path").datum(n).attr("class","data-line").attr("d",A),k.selectAll(".data-point").data(n).enter().append("circle").attr("class",(function(e){return"data-point "+(0===e.profit?"is-warning":e.profit>0?"is-success":"is-danger")})).attr("cx",C).attr("cy",x).attr("r",0),M.append("path").datum(n).attr("class","data-line").attr("d",T),M.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+g+")").call(N),M.append("g").attr("class","brush").call(O).call(O.move,b.range()),I.call(B),I.on("mousemove",(function(){const r=d.i(this)[0],c=b.invert(r),u=i(n,c),p=n[u-1],h=n[u];let E;E=h?p&&Math.abs(c-s(h))>Math.abs(c-s(p))?p:h:p;S=E,k.selectAll(".data-point").classed("hover",e=>s(e)===s(S)),P(S),function(n){if(m&&o&&e&&t&&a){let s,r,i=d.i(o.node()),c=d.i(e.node());const u={left:25,top:25},p=m.node().getBoundingClientRect();s=i[0]>t-p.width?c[0]-p.width-u.left:c[0]+u.left,r=i[1]>a-p.height?c[1]-p.height-u.top:c[1]+u.top,m.style("top",r+"px").style("left",s+"px"),l&&l({data:n})}}(E)})).on("mouseover",(function(){m&&m.style("opacity",1),D&&D.style("opacity",1)})).on("mouseout",(function(){m&&m.style("opacity",0),D&&D.style("opacity",0),k.selectAll(".data-point").classed("hover",!1)}));let i=d.c((function(e,t){return t-s(e)})).left}(n)}({container:this.container,viewBoxWidth:this.props.viewBoxWidth,viewBoxHeight:this.props.viewBoxHeight,onTooltipChange:this.handleTooltipChange,data:this.props.data,xAccessor:this.props.xAccessor,yAccessor:this.props.yAccessor,crosshairEnabled:this.props.crosshairEnabled,crosshairClassName:this.props.crosshairClassName})}}class h extends n.Component{render(){const e=this.props,t=e.data,a=Object(c.a)(e,["data"]),n=t||{},r=n.id,l=n.hash,i=n.bust,o=n.wager,m=n.payout,u=n.cashedAt,d=n.profit,p=n.balance;return s.a.createElement("div",a,t&&s.a.createElement("table",{className:"table is-hoverable is-transparent"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Game ID"),s.a.createElement("td",null,r)),s.a.createElement("tr",null,s.a.createElement("th",null,"Hash"),s.a.createElement("td",null,s.a.createElement("input",{className:"input",type:"text",value:l,readOnly:!0}))),s.a.createElement("tr",null,s.a.createElement("th",null,"Bust"),s.a.createElement("td",null,"".concat(i,"x"))),s.a.createElement("tr",null,s.a.createElement("th",null,"Bet"),s.a.createElement("td",null,0===o?"Didn't play":"".concat(m,"x ").concat(Math.round(o)/100," bits"))),s.a.createElement("tr",null,s.a.createElement("th",null,"Cashed At"),s.a.createElement("td",null,u>0?"".concat(u,"x"):"-")),s.a.createElement("tr",null,s.a.createElement("th",null,"Profit"),s.a.createElement("td",{className:0===d?"has-text-warning":d>0?"has-text-success":"has-text-danger"},Math.round(d)/100," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"Balance"),s.a.createElement("td",null,Math.round(p)/100," bits")))))}}var E=p;a(38);class g extends n.Component{viewState(){return this.props.scripts.editing?"edit":this.props.scripts.creating?"new":this.props.scripts.deleting?"delete":this.props.scripts.selected?"show":"list"}componentDidMount(){this.props.scripts.load()}render(){const e=this.viewState(),t=this.props,a=t.scripts,n=t.className,r=void 0===n?"":n,l=Object(c.a)(t,["scripts","className"]);return s.a.createElement("div",Object.assign({},l,{className:r}),("list"===e||"delete"===e)&&s.a.createElement(f,{scripts:a}),"edit"===e&&s.a.createElement(A,{script:a.editing,error:a.updateError,onCancel:a.onCancel,onSave:a.onSave}),"new"===e&&s.a.createElement(T,{script:a.creating,error:a.createError,onCancel:a.onCancel,onSave:a.onSave}),"show"===e&&s.a.createElement(v,{scripts:a}))}}class b extends n.Component{render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("div",Object.assign({},n,{className:"".concat(a)}),s.a.createElement("p",null,s.a.createElement("span",{className:"bustabit-logo"}),s.a.createElement("span",{className:"bustabit-title"},"Bustabit")),s.a.createElement("p",null,s.a.createElement("span",{className:"script-simulator-title"},"Script Simulator")))}}class f extends n.Component{render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=e.scripts,r=Object(c.a)(e,["className","scripts"]);let l=n.deleting?n.deleting.id:void 0;return s.a.createElement("div",Object.assign({},r,{className:"BustabitScript-List box is-inline-block ".concat(a)}),s.a.createElement("table",{className:"table is-hoverable"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"2"},s.a.createElement("h3",{className:"subtitle is-4"},"My Scripts")),s.a.createElement("th",{colSpan:"2"},s.a.createElement(S,{onClick:()=>n.onNew()})))),s.a.createElement("tbody",null,n.items.entrySeq().map(([e,t])=>{let a=t.id;return a===l?s.a.createElement("tr",{key:a},s.a.createElement("th",null,t.name),s.a.createElement("td",{colSpan:"3",style:{maxWidth:"9rem"}},s.a.createElement(_,{key:a,script:n.deleting,onCancel:n.onCancel,onDeleted:n.onDeleted}))):s.a.createElement("tr",{key:a},s.a.createElement("th",null,t.name),s.a.createElement("td",null,s.a.createElement(N,{onClick:()=>n.onSelect(a)})),s.a.createElement("td",null,s.a.createElement(y,{onClick:()=>n.onEdit(a)})),s.a.createElement("td",null,s.a.createElement(w,{onClick:()=>n.onDelete(a)})))}))))}}class v extends n.Component{constructor(e){super(e),this.state={script:e.scripts.selected,startingBalance:1e6,gameHash:"7edbd07968e771f205a4e2b67701c2f6993437db0c557160ba79ee70ea6d10c6",gameAmount:1e3,drawChart:!0,quickTest:!0}}componentDidUpdate(e){if(this.props.scripts.results!==e.scripts.results){let e=document.getElementById("results");if(e){const t=e.getBoundingClientRect().top+window.scrollY;window.scrollTo({behavior:"smooth",top:t})}}}render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=e.scripts,r=Object(c.a)(e,["className","scripts"]);return s.a.createElement("div",Object.assign({},r,{className:"BustabitScript Show ".concat(a)}),this.state.script&&s.a.createElement("div",{key:this.state.script.id},s.a.createElement("div",{className:"box is-inline-block has-text-left"},s.a.createElement("div",null,s.a.createElement(C,{className:"".concat(n.isLoading?"is-loading":""),onClick:n.onDeselect}),s.a.createElement(y,{className:"is-pulled-right",onClick:()=>n.onEdit(this.state.script.id)})),s.a.createElement("hr",{className:"hr"}),s.a.createElement(u,{config:this.state.script.config,onChange:e=>{this.setState(({script:t})=>(t.config=e,{script:t}))}}),s.a.createElement("hr",{className:"hr"}),s.a.createElement(O,{label:"Starting Balance",icon:"fas fa-coins"},s.a.createElement("input",{className:"input is-normal",type:"number",required:!0,min:"1",step:"1",name:"startingBalance",value:this.state.startingBalance/100,onChange:e=>{let t={[e.target.name]:100*parseFloat(e.target.value)};this.setState(t)}})),s.a.createElement(O,{label:"Hash",icon:"fas fa-key"},s.a.createElement("input",{className:"input is-normal",type:"text",required:!0,name:"gameHash",value:this.state.gameHash,onChange:e=>{this.setState({[e.target.name]:String(e.target.value)})}})),s.a.createElement(O,{label:"Games",icon:"fas fa-hashtag"},s.a.createElement("input",{className:"input is-normal",type:"number",required:!0,min:"1",step:"1",name:"gameAmount",value:this.state.gameAmount,onChange:e=>{this.setState({[e.target.name]:parseInt(e.target.value)})}})),s.a.createElement("hr",{className:"hr"}),s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-success ".concat(n.isLoading?"is-loading":""),disabled:!(this.state.script&&this.state.gameHash&&this.state.gameAmount&&this.state.startingBalance),onClick:()=>{let e={script:this.state.script,gameHash:this.state.gameHash,gameAmount:this.state.gameAmount,startingBalance:this.state.startingBalance,drawChart:this.state.drawChart,quickTest:this.state.quickTest};n.onRun(e)}},"Run Script")),s.a.createElement("div",{className:"control"},s.a.createElement("p",null,s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{className:"checkbox",type:"checkbox",name:"drawChart",checked:this.state.drawChart,onChange:e=>{this.setState({[e.target.name]:Boolean(e.target.checked)})}}),"\xa0 Enable Chart")),s.a.createElement("p",null,s.a.createElement("label",{className:"checkbox"},s.a.createElement("input",{className:"checkbox",type:"checkbox",name:"quickTest",checked:this.state.quickTest,onChange:e=>{this.setState({[e.target.name]:Boolean(e.target.checked)})}}),"\xa0 Enable Log")))),s.a.createElement("div",null,s.a.createElement("textarea",{className:"textarea",value:n.results?n.results.log:void 0,readOnly:!0,style:{width:"100%",height:"200px",resize:"both"},placeholder:"Script logs will appear here"})))),n.selected&&n.results&&s.a.createElement("section",{className:"section"},s.a.createElement("div",{id:"results"}),n.results.error&&s.a.createElement("div",{className:"notification is-danger"},s.a.createElement("h3",{className:"is-3"},"Error"),s.a.createElement("pre",{className:"notification is-danger has-text-left"},String(n.results.error))),!n.results.error&&s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-one-fifth"},s.a.createElement("table",{className:"table is-hoverable box is-inline-block"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Games Played"),s.a.createElement("td",null,n.results.bets," games")),s.a.createElement("tr",null,s.a.createElement("th",null,"Duration"),s.a.createElement("td",null,function(e){parseInt(e%1e3/100);var t=parseInt(e/1e3%60),a=parseInt(e/6e4%60),n=parseInt(e/36e5%24),s=parseInt(e/864e5);return(s>0?s+"d ":"")+(n=n<10?"0"+n:n)+"h "+(a=a<10?"0"+a:a)+"m "+(t=t<10?"0"+t:t)+"s"}(n.results.duration))),s.a.createElement("tr",null,s.a.createElement("th",null,"Start Balance"),s.a.createElement("td",null,n.results.startingBalance/100," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"Smallest Bet"),s.a.createElement("td",null,n.results.lowBet/100," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"Largest Bet"),s.a.createElement("td",null,n.results.highBet/100," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"Win Streak"),s.a.createElement("td",null,n.results.winStreak," games")),s.a.createElement("tr",null,s.a.createElement("th",null,"Lose Streak"),s.a.createElement("td",null,n.results.loseStreak," games")),s.a.createElement("tr",null,s.a.createElement("th",null,"Streak Cost"),s.a.createElement("td",null,n.results.streakSum/100," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"Profit ATL"),s.a.createElement("td",null,(n.results.profitATL/100).toFixed(2)," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"Profit ATH"),s.a.createElement("td",null,(n.results.profitATH/100).toFixed(2)," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"Balance ATL"),s.a.createElement("td",null,(n.results.balanceATL/100).toFixed(2)," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"Balance ATH"),s.a.createElement("td",null,(n.results.balanceATH/100).toFixed(2)," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"End Profit"),s.a.createElement("td",{className:"".concat(n.results.profit>=0?"has-text-success":"has-text-danger")},(Math.round(n.results.profit)/100).toFixed(2)," bits")),s.a.createElement("tr",null,s.a.createElement("th",null,"End Balance"),s.a.createElement("td",null,n.results.balance/100," bits")),n.results.profit>0&&s.a.createElement("tr",null,s.a.createElement("th",null,"Profit per hour"),s.a.createElement("td",null,Math.round(n.results.profitPerHour)/100," bits")),s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"2"},n.results.message||""))))),n.results.chartData&&s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"has-text-centered box"},s.a.createElement(E,{viewBoxWidth:960,viewBoxHeight:500,data:n.results.chartData,xAccessor:e=>e.id,yAccessor:e=>e.balance,crosshairEnabled:!0,crosshairClassName:e=>e.profit>0?"is-success":"is-danger"})))),s.a.createElement(x,null)))}}class _ extends n.Component{render(){return s.a.createElement("div",null,this.props.script?s.a.createElement("div",null,s.a.createElement("p",null,"Are you sure you want to delete this script?"),s.a.createElement("div",{className:"buttons is-pulled-right"},s.a.createElement("button",{className:"button",onClick:()=>{let e=this.props.script.id;this.props.onDeleted(e,!0)}},"Yes"),s.a.createElement("button",{className:"button",onClick:this.props.onCancel},"No"))):null)}}class y extends n.Component{render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("div",{className:"BustabitScript EditButton control ".concat(a)},s.a.createElement("button",Object.assign({},n,{className:"button is-info ".concat(a)}),s.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},s.a.createElement("i",{className:"fas fa-eye"}))))}}class N extends n.Component{render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("div",{className:"BustabitScript SelectButton control"},s.a.createElement("button",Object.assign({},n,{className:"button ".concat(a)}),s.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},s.a.createElement("i",{className:"fas fa-play"}))))}}class w extends n.Component{render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("div",{className:"BustabitScript DeleteButton control"},s.a.createElement("button",Object.assign({},n,{className:"button ".concat(a)}),s.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},s.a.createElement("i",{className:"fas fa-trash-alt"}))))}}class S extends n.Component{render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("div",{className:"BustabitScript NewButton control is-pulled-right"},s.a.createElement("button",Object.assign({},n,{className:"button is-success ".concat(a)}),s.a.createElement("span",{className:"icon is-normal",width:"2em",height:"2em"},s.a.createElement("i",{className:"fas fa-plus"})),s.a.createElement("span",null,"New")))}}class C extends n.Component{render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("a",Object.assign({},n,{className:"button is-normal ".concat(a)}),s.a.createElement("span",{className:"icon is-medium"},s.a.createElement("i",{className:"fas fa-arrow-left"})),s.a.createElement("span",null,"Go Back"))}}class x extends n.Component{render(){const e=this.props||{},t=e.className,a=void 0===t?"":t,n=e.onClick,r=Object(c.a)(e,["className","onClick"]);return s.a.createElement("button",Object.assign({},r,{className:"button is-normal ".concat(a),onClick:()=>{window.scroll({top:0,behavior:"smooth"}),n&&n()}}),s.a.createElement("span",{className:"icon is-medium"},s.a.createElement("i",{className:"fas fa-arrow-up"})),s.a.createElement("span",null,"Back to Top"))}}class A extends n.Component{constructor(e){super(e),this.close=this.close.bind(this)}close(e){e&&e.preventDefault(),this.props.onCancel()}render(){return s.a.createElement("div",{className:"BustabitScript Edit modal"+(this.props.script?" is-active":"")},s.a.createElement("div",{className:"modal-background",onClick:this.close}),s.a.createElement("div",{className:"modal-card",style:{width:"90%"}},s.a.createElement("form",{onSubmit:e=>{e&&e.preventDefault();const t=String(e.target.id.value||"").trim(),a=String(e.target.name.value||"").trim(),n=String(e.target.text.value||"").trim(),s=Object(i.a)(Object(i.a)({},this.props.script),{},{id:t,name:a,text:n});this.props.onSave(s)}},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Edit Script"),s.a.createElement("button",{className:"delete",onClick:this.close})),s.a.createElement("section",{className:"modal-card-body"},this.props.error&&s.a.createElement("div",{className:"notification is-warning"},s.a.createElement("p",null,s.a.createElement("strong",null,"Error")),s.a.createElement("pre",{className:"notification is-warning has-text-left"},String(this.props.error))),s.a.createElement("input",{className:"input",type:"hidden",name:"id",defaultValue:this.props.script?this.props.script.id:""}),s.a.createElement("input",{className:"input is-normal",required:!0,type:"text",name:"name",defaultValue:this.props.script?this.props.script.name:""}),s.a.createElement("textarea",{className:"textarea is-normal",required:!0,rows:"10",name:"text",defaultValue:this.props.script?this.props.script.text:""})),s.a.createElement("footer",{className:"modal-card-foot"},s.a.createElement("button",{className:"button is-success",type:"submit"},"Save Script"),s.a.createElement("button",{className:"button",onClick:this.close},"Cancel")))))}}class T extends A{}class O extends n.Component{render(){const e=this.props,t=e.children,a=e.label,n=e.icon,r=e.className,l=void 0===r?"":r,i=Object(c.a)(e,["children","label","icon","className"]);return s.a.createElement("div",{className:"field is-horizontal"},void 0===a?null:s.a.createElement("div",{className:"field-label is-normal"},s.a.createElement("label",{className:"label"},a)),s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",Object.assign({className:"control ".concat(n?" has-icons-left":""," ").concat(l)},i),t,n&&s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:n}))))))}}var B={App:g,Title:b,EditButton:y};class D extends n.Component{constructor(e){super(e),this.state={isOpen:!1}}render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("div",null,s.a.createElement("button",Object.assign({},n,{className:"button ".concat(a),onClick:()=>this.setState({isOpen:!0})}),s.a.createElement("span",{className:"icon is-medium"},s.a.createElement("i",{className:"fas fa-exclamation"})),s.a.createElement("span",{className:"is-uppercase"},"Options")),s.a.createElement(k,{isOpen:this.state.isOpen,onClose:()=>this.setState({isOpen:!1})}))}}class k extends n.Component{render(){return s.a.createElement("div",{className:"modal"+(this.props.isOpen?" is-active":"")},s.a.createElement("div",{className:"modal-background",onClick:this.props.onClose}),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"box"},s.a.createElement("h4",{className:"title is-4"},s.a.createElement("span",{className:"icon is-medium"},s.a.createElement("i",{className:"fas fa-exclamation"})),"Options"),s.a.createElement("p",null,"In the near future you will find several "))),s.a.createElement("button",{className:"modal-close is-large",onClick:this.props.onClose}))}}class L extends n.Component{constructor(e){super(e),this.state={isOpen:!1}}render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("div",null,s.a.createElement("button",Object.assign({},n,{className:"button ".concat(a),onClick:()=>this.setState({isOpen:!0})}),s.a.createElement("span",{className:"icon is-medium"},s.a.createElement("i",{className:"fas fa-exclamation"})),s.a.createElement("span",{className:"is-uppercase"},"Disclaimer")),s.a.createElement(M,{isOpen:this.state.isOpen,onClose:()=>this.setState({isOpen:!1})}))}}class M extends n.Component{render(){return s.a.createElement("div",{className:"modal"+(this.props.isOpen?" is-active":"")},s.a.createElement("div",{className:"modal-background",onClick:this.props.onClose}),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"box"},s.a.createElement("h4",{className:"title is-4"},s.a.createElement("span",{className:"icon is-medium"},s.a.createElement("i",{className:"fas fa-exclamation"})),"Disclaimer"),s.a.createElement("p",null,"No one is responsible if you lose money using this tool and/or trusting its results."),s.a.createElement("p",null,"All it does is simulate you running a script on previous bustabit games. "),s.a.createElement("p",null,"Results achieved in the past don't provide any guarantee for the future."),s.a.createElement("p",null,"And, there's no guarantee that the simulated engine on this site, behaves in exactly the same way as the engine on bustabit."))),s.a.createElement("button",{className:"modal-close is-large",onClick:this.props.onClose}))}}class I extends n.Component{constructor(e){super(e),this.state={isOpen:!1}}render(){const e=this.props,t=e.className,a=void 0===t?"":t,n=Object(c.a)(e,["className"]);return s.a.createElement("div",null,s.a.createElement("button",Object.assign({},n,{className:"button ".concat(a),onClick:()=>this.setState({isOpen:!0})}),s.a.createElement("span",{className:"icon"},s.a.createElement("i",{className:"fas fa-hand-holding-usd"})),s.a.createElement("span",{className:"is-uppercase"},"Send a tip...")),s.a.createElement(P,{isOpen:this.state.isOpen,onClose:()=>this.setState({isOpen:!1})}))}}class P extends n.Component{render(){return s.a.createElement("div",{className:"modal"+(this.props.isOpen?" is-active":"")},s.a.createElement("div",{className:"modal-background",onClick:this.props.onClose}),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"box"},s.a.createElement("p",null,s.a.createElement("strong",null,"Hello fellow gambler!")),s.a.createElement("p",null,"I hope you like my Bustabit Simulator. I worked hard on it.",s.a.createElement("span",{className:"icon is-medium"},s.a.createElement("i",{className:"fas fa-grin-beam-sweat"}))),s.a.createElement("p",null,"If you use this tool regularly, please consider donating a dollar or two."),s.a.createElement("p",null,s.a.createElement("a",{href:"https://bustabit.com/tip",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("span",null,"https://bustabit.com/tip")),s.a.createElement("span",null,"My username is "),s.a.createElement("span",{className:"is-bold"},"Mtihc")),s.a.createElement("p",null,s.a.createElement("a",{href:"https://paypal.me/MitchStoffels",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("span",null,"https://paypal.me/MitchStoffels"))))),s.a.createElement("button",{className:"modal-close is-large",onClick:this.props.onClose}))}}var j=function(e){return s.a.createElement("div",{className:"App"},s.a.createElement("nav",{className:"navbar has-shadow"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement(B.Title,null))),s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement(D,{className:"is-small"}),s.a.createElement(L,{className:"is-small"}),s.a.createElement(I,{className:"is-small"})))))),s.a.createElement("main",{className:"section has-text-centered"},s.a.createElement(B.App,{scripts:e.scripts})))},R=a(12),W=a(15);var G={LOADED:"scripts/loaded",NEW:"scripts/new",CREATE_ERROR:"scripts/create-error",CREATED:"scripts/created",EDIT:"scripts/edit",UPDATE_ERROR:"scripts/update-error",UPDATED:"scripts/updated",CANCEL:"scripts/cancel",DELETE:"scripts/delete",DELETE_ERROR:"scripts/delete-error",DELETED:"scripts/deleted",SIMULATE:"scripts/simulate",SIMULATED:"scripts/simulated"},H=new(a(26).Dispatcher);class U extends R.ReduceStore{constructor(){super(H)}getInitialState(){return W.a.OrderedMap()}reduce(e,t){switch(t.type){case G.LOADED:return e.clear().merge(t.scripts);case G.DELETED:return e.delete(t.id);case G.CREATED:case G.UPDATED:return e.set(t.script.id,t.script);default:return e}}}var F=new U,q=a(16);class K extends R.ReduceStore{constructor(){super(H)}getInitialState(){return W.a.OrderedMap({creating:void 0,editingId:void 0,deletingId:void 0,selectedId:void 0,isSimulating:!1,results:void 0,error:void 0})}reduce(e,t){switch(t.type){case G.NEW:return e.set("creating",Object.assign({},q.a.NEW_SCRIPT)).set("createError",void 0);case G.CREATED:return e.set("creating",void 0).set("createError",void 0);case G.CREATE_ERROR:return e.set("createError",t.error);case G.EDIT:return e.set("editingId",t.id).set("updateError",void 0);case G.UPDATED:return e.set("editingId",void 0).set("updateError",void 0);case G.UPDATE_ERROR:return e.set("updateError",t.error);case G.DELETE:return e.set("deletingId",t.id).set("deleteError",void 0);case G.DELETED:return e.set("deletingId",void 0).set("deleteError",void 0);case G.DELETE_ERROR:return e.set("deleteError",t.error);case G.CANCEL:return e.set("creating",void 0).set("editingId",void 0).set("deletingId",void 0).set("createError",void 0).set("updateError",void 0).set("deleteError",void 0);case G.SELECT:return e.set("selectedId",t.id).set("results",void 0);case G.DESELECT:return e.set("selectedId",void 0);case G.SIMULATE:return e.set("results",void 0).set("isSimulating",!0);case G.SIMULATED:return e.set("results",t.results).set("isSimulating",!1);default:return e}}}var z=new K,V=a(9);const J={load(){let e=V.a.load();H.dispatch({type:G.LOADED,scripts:e})},restoreSamples(){let e=V.a.restoreSamples();H.dispatch({type:G.LOADED,scripts:e})},delete(e){H.dispatch({type:G.DELETE,id:e})},deleted(e){V.a.delete(e),H.dispatch({type:G.DELETED,id:e})},save(e){if(e.id)try{V.a.save(e),H.dispatch({type:G.UPDATED,script:e})}catch(t){H.dispatch({type:G.UPDATE_ERROR,script:e,error:t})}else try{V.a.save(e),H.dispatch({type:G.CREATED,script:e})}catch(t){H.dispatch({type:G.CREATE_ERROR,script:e,error:t})}},new(){H.dispatch({type:G.NEW})},edit(e){H.dispatch({type:G.EDIT,id:e})},cancel(){H.dispatch({type:G.CANCEL})},select(e){H.dispatch({type:G.SELECT,id:e})},deselect(){H.dispatch({type:G.DESELECT})},run(e){J.save(e.script),H.dispatch({type:G.SIMULATE,settings:e}),V.a.run(e).then(e=>{H.dispatch({type:G.SIMULATED,results:e})})}};var Y=J;var Q=R.Container.createFunctional(j,(function(){return[F,z]}),(function(){let e=F.getState(),t=z.getState();return{scripts:Object(i.a)(Object(i.a)({},{items:e,creating:t.get("creating"),editing:e.get(t.get("editingId")),deleting:e.get(t.get("deletingId")),selected:e.get(t.get("selectedId")),isLoading:t.get("isSimulating"),results:t.get("results"),createError:t.get("createError"),updateError:t.get("updateError"),deleteError:t.get("deleteError")}),{load:Y.load,onNew:Y.new,onEdit:Y.edit,onCancel:Y.cancel,onSave:Y.save,onDelete:Y.delete,onDeleted:Y.deleted,onSelect:Y.select,onDeselect:Y.deselect,onRun:Y.run})}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},9:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_daffie_Documents_Development_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_ScriptConstants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),_simulate__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),crypto_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),crypto_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_3__);function getLocalStorageScripts(){try{var e=JSON.parse(localStorage.getItem("scripts"))}catch(t){e=null}return e}function setLocalStorageScripts(e){void 0===e||null===e||e.constructor===Object&&0===Object.keys(e).length?localStorage.removeItem("scripts"):localStorage.setItem("scripts",JSON.stringify(e))}function onBeforeSave(e){let t=e.config;e.config=getConfigFromScriptText(e),assignConfigValues(e.config,t)}function assignConfigValues(e,t){if(!e||e.constructor!==Object)throw new TypeError("config should be an object");if(t&&t.constructor!==Object)throw new TypeError("values should be undefined or an object");if(!t)return e;for(const a in t)t[a]&&t[a].constructor===Object&&e[a]&&void 0!==t[a].value&&(e[a].value=t[a].value,"radio"===e[a].type&&(e[a].options=assignConfigValues(e[a].options||{},t[a].options)));return e}function splitConfigFromScriptText(script){const regexp=/^\s*(var config = {(?:.|\s)*?^};?)((?:.|\s)*)$/gm,match=regexp.exec(String(script.text).trim());if(null===match)throw new TypeError("The script should begin with: \r\nvar config = {\r\n  ...\r\n}\r\n");const config=eval(match[1]+"\r\nconfig;");return[config,match[2]]}function getConfigFromScriptText(e){return splitConfigFromScriptText(e)[0]}function getScriptTextWithoutConfig(e){return splitConfigFromScriptText(e)[1]}function getUniqueID(e){for(let t=0;t<3;t++){let t=String(crypto_js__WEBPACK_IMPORTED_MODULE_3___default.a.lib.WordArray.random(16));if(!e||-1===e.indexOf(t))return t}}const ScriptUtils={load(){let e=getLocalStorageScripts();return null!==e&&void 0!==e||(e=ScriptUtils.restoreSamples()),e},restoreSamples(){let e=getLocalStorageScripts()||{};return Object.keys(e).forEach(t=>{e[t].isSample&&delete e[t]}),_ScriptConstants__WEBPACK_IMPORTED_MODULE_1__.a.SCRIPT_SAMPLES.forEach(t=>{onBeforeSave(t),t.isSample=!0,t.id=getUniqueID(Object.keys(e)),e[t.id]=t}),setLocalStorageScripts(e),e},save(e){let t=getLocalStorageScripts();onBeforeSave(e),e.id||(e.id=getUniqueID(Object.keys(t))),t[e.id]=e,setLocalStorageScripts(t)},delete(e){let t=getLocalStorageScripts();delete t[e],setLocalStorageScripts(t)},run({script:e,gameHash:t,gameAmount:a,startingBalance:n,drawChart:s,quickTest:r}){let l=Object(C_daffie_Documents_Development_github_bustabit_script_simulator_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},arguments[0]);return delete l.script,l.config=e.config,l.text=getScriptTextWithoutConfig(e),{then:function(e){setTimeout((function(){Object(_simulate__WEBPACK_IMPORTED_MODULE_2__.a)(l).then(t=>{e(t)}).catch(t=>{console.error(t),e({error:t})})}),100)}}}};__webpack_exports__.a=ScriptUtils}},[[29,1,2]]]);
//# sourceMappingURL=main.ac82c15a.chunk.js.map